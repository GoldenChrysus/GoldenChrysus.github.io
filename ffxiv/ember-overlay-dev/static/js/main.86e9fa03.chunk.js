(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(52)},43:function(e,t,a){},44:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(21),l=a.n(r),c=a(32),s=a(17),o=a(10),h=a(23),m=a(2),d=a(3),p={table_columns:{dps:["damage%","encdps","crithit%","DirectHitPct","CritDirectHitPct"],heal:["healed%","effective_heal_pct","enchps","effective_hps","OverHealPct","critheal%"],tank:["damage_taken_pct","damagetaken","healstaken","BlockPct","deaths"]},sum_columns:{dps:["encdps"],heal:["enchps"],tank:["damagetaken","healstaken","deaths"]},sort_columns:{dps:"damage",heal:"healed",tank:"damagetaken"},detail_data:{dps:["damage%","encdps","damage","crithit%","DirectHitPct","CritDirectHitPct","max_hit_format"],heal:["healed%","effective_heal_pct","enchps","effective_hps","healed","OverHealPct","critheal%","max_heal_format"],tank:["damage_taken_pct","damagetaken","healstaken","BlockPct","deaths"]}},u=function(){function e(t){Object(m.a)(this,e),this.settings=t||p}return Object(d.a)(e,[{key:"getSetting",value:function(e){return this.settings[e]||p[e]}},{key:"setSetting",value:function(e,t){this.settings[e]=t}}]),e}(),g={character_name:"YOU",game:{},viewing:"tables",table_type:"dps",collapsed:!1,detail_player:{},overlayplugin:!!window.OverlayPluginApi,settings:new u};var f=function(e,t){e||(e=g);var a={};return a[t.key]=t.payload,Object.assign({},e,a)},v=Object(h.b)(f);a(43),a(44),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(6),E=a(5),y=a(7),k={Encounter:{n:"\n",t:"\t",title:"The Griffin",duration:"23:50",DURATION:"1430",damage:"5691852","damage-m":"5.69","damage-*":"5.69M","DAMAGE-k":"5692","DAMAGE-m":"6","DAMAGE-b":"0","DAMAGE-*":"5691K",dps:"3980.32","dps-*":"dps-*",DPS:"3980","DPS-k":"4","DPS-m":"DPS-m","DPS-*":"3980",encdps:"3980.32","encdps-*":"3.98K",ENCDPS:"3980","ENCDPS-k":"4","ENCDPS-m":"0","ENCDPS-*":"3980",hits:"3490",crithits:"515","crithit%":"0%",misses:"16",hitfailed:"1",swings:"3507",tohit:"99.49",TOHIT:"99",maxhit:"Limit Break-Bladedance-78037",MAXHIT:"Limit Break-78037","maxhit-*":"Limit Break-Bladedance-78.04K","MAXHIT-*":"Limit Break-78K",healed:"2086425",enchps:"1459.04","enchps-*":"1.46K",ENCHPS:"1459","ENCHPS-k":"1","ENCHPS-m":"0","ENCHPS-*":"1459",heals:"718",critheals:"515","critheal%":"0%",cures:"0",maxheal:"White Mage Person-Afflatus Solace-14025",MAXHEAL:"White Mage Person-14025",maxhealward:"White Mage Person-Afflatus Solace-14025",MAXHEALWARD:"White Mage Person-14025","maxheal-*":"White Mage Person-Afflatus Solace-14.03K","MAXHEAL-*":"White Mage Person-14K","maxhealward-*":"White Mage Person-Afflatus Solace-14.03K","MAXHEALWARD-*":"White Mage Person-14K",damagetaken:"1903672","damagetaken-*":"1.90M",healstaken:"2233252","healstaken-*":"2.23M",powerdrain:"0","powerdrain-*":"0",powerheal:"86500","powerheal-*":"86.50K",kills:"109",deaths:"0",CurrentZoneName:"Baelsar's Wall",Last10DPS:"12160",Last30DPS:"7161",Last60DPS:"5360"},Combatant:{YOU:{n:"\n",t:"\t",name:"YOU",duration:"23:49",DURATION:"1429",damage:"2769837","damage-m":"2.77","damage-b":"0.00","damage-*":"2.77M","DAMAGE-k":"2770","DAMAGE-m":"3","DAMAGE-b":"0","DAMAGE-*":"2769K","damage%":"48%",dps:"1938.30","dps-*":"1.94K",DPS:"1938","DPS-k":"2","DPS-m":"0","DPS-*":"1938",encdps:"1936.95","encdps-*":"1.94K",ENCDPS:"1937","ENCDPS-k":"2","ENCDPS-m":"0","ENCDPS-*":"1936",hits:"1130",crithits:"200","crithit%":"18%",crittypes:"0.0%L - 0.0%F - 0.0%M",misses:"7",hitfailed:"0",swings:"1137",tohit:"99.38",TOHIT:"99",maxhit:"Double Standard Finish-21767",MAXHIT:"21767","maxhit-*":"Double Standard Finish-21.77K","MAXHIT-*":"21K",healed:"40839","healed%":"1%",enchps:"28.56","enchps-*":"28",ENCHPS:"29","ENCHPS-k":"0","ENCHPS-m":"0","ENCHPS-*":"28",critheals:"1","critheal%":"4%",heals:"23",cures:"0",maxheal:"Curing Waltz-2738",MAXHEAL:"2738",maxhealward:"Curing Waltz-2738",MAXHEALWARD:"2738","maxheal-*":"Curing Waltz-2.74K","MAXHEAL-*":"2.74K","maxhealward-*":"Curing Waltz-2.74K","MAXHEALWARD-*":"2.74K",damagetaken:"369135","damagetaken-*":"369.14K",healstaken:"377504","healstaken-*":"377.50K",powerdrain:"0","powerdrain-*":"0",powerheal:"0","powerheal-*":"0",kills:"60",deaths:"0",threatstr:"+(0)0/-(0)0",threatdelta:"0",Last10DPS:"0",Last30DPS:"0",Last60DPS:"0",Job:"Dnc",ParryPct:"100%",BlockPct:"0%",IncToHit:"98.99",OverHealPct:"21%",DirectHitPct:"30%",DirectHitCount:"340",CritDirectHitCount:"69",CritDirectHitPct:"6%"},"Paladin Bro":{n:"\n",t:"\t",name:"Paladin Bro",duration:"23:46",DURATION:"1426",damage:"1471587","damage-m":"1.47","damage-b":"0.00","damage-*":"1.47M","DAMAGE-k":"1472","DAMAGE-m":"1","DAMAGE-b":"0","DAMAGE-*":"1471K","damage%":"25%",dps:"1031.97","dps-*":"1.03K",DPS:"1032","DPS-k":"1","DPS-m":"0","DPS-*":"1031",encdps:"1029.08","encdps-*":"1.03K",ENCDPS:"1029","ENCDPS-k":"1","ENCDPS-m":"0","ENCDPS-*":"1029",hits:"1675",crithits:"210","crithit%":"13%",crittypes:"0.0%L - 0.0%F - 0.0%M",misses:"5",hitfailed:"0",swings:"1680",tohit:"99.70",TOHIT:"100",maxhit:"Royal Authority-7167",MAXHIT:"7167","maxhit-*":"Royal Authority-7.17K","MAXHIT-*":"7167",healed:"61134","healed%":"2%",enchps:"42.75","enchps-*":"42",ENCHPS:"43","ENCHPS-k":"0","ENCHPS-m":"0","ENCHPS-*":"42",critheals:"0","critheal%":"0%",heals:"10",cures:"0",maxheal:"Clemency-8208",MAXHEAL:"8208",maxhealward:"Clemency-8208",MAXHEALWARD:"8208","maxheal-*":"Clemency-8.21K","MAXHEAL-*":"8.21K","maxhealward-*":"Clemency-8.21K","MAXHEALWARD-*":"8.21K",damagetaken:"1042264","damagetaken-*":"1.04M",healstaken:"1257080","healstaken-*":"1.26M",powerdrain:"0","powerdrain-*":"0",powerheal:"86500","powerheal-*":"86.50K",kills:"22",deaths:"0",threatstr:"+(0)0/-(0)0",threatdelta:"0",Last10DPS:"0",Last30DPS:"0",Last60DPS:"0",Job:"Pld",ParryPct:"6%",BlockPct:"36%",IncToHit:"99.55",OverHealPct:"10%",DirectHitPct:"14%",DirectHitCount:"241",CritDirectHitCount:"32",CritDirectHitPct:"2%"},"Dragoon Lad":{n:"\n",t:"\t",name:"Dragoon Lad",duration:"23:44",DURATION:"1424",damage:"1167969","damage-m":"1.17","damage-b":"0.00","damage-*":"1.17M","DAMAGE-k":"1168","DAMAGE-m":"1","DAMAGE-b":"0","DAMAGE-*":"1167K","damage%":"20%",dps:"820.20","dps-*":"820",DPS:"820","DPS-k":"1","DPS-m":"0","DPS-*":"820",encdps:"816.76","encdps-*":"816",ENCDPS:"817","ENCDPS-k":"1","ENCDPS-m":"0","ENCDPS-*":"816",hits:"578",crithits:"94","crithit%":"16%",crittypes:"0.0%L - 0.0%F - 0.0%M",misses:"4",hitfailed:"0",swings:"582",tohit:"99.31",TOHIT:"99",maxhit:"Full Thrust-8282",MAXHIT:"8282","maxhit-*":"Full Thrust-8.28K","MAXHIT-*":"8282",healed:"621","healed%":"0%",enchps:"0.43","enchps-*":"0",ENCHPS:"0","ENCHPS-k":"0","ENCHPS-m":"0","ENCHPS-*":"0",critheals:"0","critheal%":"0%",heals:"1",cures:"0",maxheal:"Life Surge-621",MAXHEAL:"621",maxhealward:"Life Surge-621",MAXHEALWARD:"621","maxheal-*":"Life Surge-621","MAXHEAL-*":"621","maxhealward-*":"Life Surge-621","MAXHEALWARD-*":"621",damagetaken:"310071","damagetaken-*":"310.07K",healstaken:"340616","healstaken-*":"340.62K",powerdrain:"0","powerdrain-*":"0",powerheal:"0","powerheal-*":"0",kills:"23",deaths:"0",threatstr:"+(0)0/-(0)0",threatdelta:"0",Last10DPS:"0",Last30DPS:"0",Last60DPS:"0",Job:"Drg",ParryPct:"0%",BlockPct:"0%",IncToHit:"98.86",OverHealPct:"0%",DirectHitPct:"19%",DirectHitCount:"113",CritDirectHitCount:"12",CritDirectHitPct:"2%"},"White Mage Person":{n:"\n",t:"\t",name:"White Mage Person",duration:"23:41",DURATION:"1421",damage:"204422","damage-m":"0.20","damage-b":"0.00","damage-*":"204.42K","DAMAGE-k":"204","DAMAGE-m":"0","DAMAGE-b":"0","DAMAGE-*":"204K","damage%":"3%",dps:"143.86","dps-*":"143",DPS:"144","DPS-k":"0","DPS-m":"0","DPS-*":"143",encdps:"142.95","encdps-*":"142",ENCDPS:"143","ENCDPS-k":"0","ENCDPS-m":"0","ENCDPS-*":"142",hits:"106",crithits:"11","crithit%":"10%",crittypes:"0.0%L - 0.0%F - 0.0%M",misses:"0",hitfailed:"1",swings:"107",tohit:"99.07",TOHIT:"99",maxhit:"Stone III-4509",MAXHIT:"4509","maxhit-*":"Stone III-4.51K","MAXHIT-*":"4509",healed:"1983831","healed%":"95%",enchps:"1387.29","enchps-*":"1.39K",ENCHPS:"1387","ENCHPS-k":"1","ENCHPS-m":"0","ENCHPS-*":"1387",critheals:"69","critheal%":"10%",heals:"684",cures:"0",maxheal:"Afflatus Solace-14025",MAXHEAL:"14025",maxhealward:"Afflatus Solace-14025",MAXHEALWARD:"14025","maxheal-*":"Afflatus Solace-14.03K","MAXHEAL-*":"14.03K","maxhealward-*":"Afflatus Solace-14.03K","MAXHEALWARD-*":"14.03K",damagetaken:"182202","damagetaken-*":"182.20K",healstaken:"258052","healstaken-*":"258.05K",powerdrain:"0","powerdrain-*":"0",powerheal:"0","powerheal-*":"0",kills:"4",deaths:"0",threatstr:"+(0)0/-(0)0",threatdelta:"0",Last10DPS:"0",Last30DPS:"0",Last60DPS:"0",Job:"Whm",ParryPct:"60%",BlockPct:"0%",IncToHit:"95.24",OverHealPct:"31%",DirectHitPct:"0%",DirectHitCount:"0",CritDirectHitCount:"0",CritDirectHitPct:"0%"},"Limit Break":{n:"\n",t:"\t",name:"Limit Break",duration:"00:00",DURATION:"0",damage:"78037","damage-m":"0.08","damage-b":"0.00","damage-*":"78.04K","DAMAGE-k":"78","DAMAGE-m":"0","DAMAGE-b":"0","DAMAGE-*":"78K","damage%":"1%",dps:"\u221e","dps-*":"---",DPS:"\u221e","DPS-k":"\u221e","DPS-m":"\u221e","DPS-*":"---",encdps:"54.57","encdps-*":"54",ENCDPS:"55","ENCDPS-k":"0","ENCDPS-m":"0","ENCDPS-*":"54",hits:"1",crithits:"0","crithit%":"0%",crittypes:"-",misses:"0",hitfailed:"0",swings:"1",tohit:"100.00",TOHIT:"100",maxhit:"Bladedance-78037",MAXHIT:"78037","maxhit-*":"Bladedance-78.04K","MAXHIT-*":"78K",healed:"0","healed%":"0%",enchps:"0.00","enchps-*":"0",ENCHPS:"0","ENCHPS-k":"0","ENCHPS-m":"0","ENCHPS-*":"0",critheals:"0","critheal%":"0%",heals:"0",cures:"0",maxheal:"",MAXHEAL:"",maxhealward:"",MAXHEALWARD:"","maxheal-*":"","MAXHEAL-*":"","maxhealward-*":"","MAXHEALWARD-*":"",damagetaken:"0","damagetaken-*":"0",healstaken:"0","healstaken-*":"0",powerdrain:"0","powerdrain-*":"0",powerheal:"0","powerheal-*":"0",kills:"0",deaths:"0",threatstr:"+(0)0/-(0)0",threatdelta:"0",NAME3:"Lim",NAME4:"Limi",NAME5:"Limit",NAME6:"Limit",NAME7:"Limit B",NAME8:"Limit Br",NAME9:"Limit Bre",NAME10:"Limit Brea",NAME11:"Limit Break",NAME12:"Limit Break",NAME13:"Limit Break",NAME14:"Limit Break",NAME15:"Limit Break",Last10DPS:"---",Last30DPS:"---",Last60DPS:"---",Job:"",ParryPct:"0%",BlockPct:"0%",IncToHit:"---",OverHealPct:"0%",DirectHitPct:"0%",DirectHitCount:"0",CritDirectHitCount:"0",CritDirectHitPct:"0%"}},isActive:"false"};function P(e){return{type:"parseGameData",key:"game",payload:e}}function b(e){return{type:"changeViewing",key:"viewing",payload:e}}function A(e){return{type:"updateState",key:e.key,payload:e.value}}var S=a(18),H=a(16),C=a.n(H),O=function(e){function t(){return Object(m.a)(this,t),Object(D.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"togglePlaceholders",value:function(){var e=C()(document).find("#container"),t=this;C()(document).find(".placeholder").each(function(){var e=!C()(this).hasClass(t.props.type);C()(this).toggleClass("hidden",e)}),e.toggleClass("hidden",!0)}},{key:"render",value:function(){return i.a.createElement("div",{className:"toggle "+this.props.type,onClick:this.togglePlaceholders.bind(this)})}}]),t}(i.a.Component),N=(i.a.Component,function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"splitEncounter",value:function(){window.OverlayPluginApi.endEncounter()}}]),e}()),M=function(e){function t(){return Object(m.a)(this,t),Object(D.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=new N;return i.a.createElement(S.a,{id:"right-click-menu",className:"container-context-menu"},i.a.createElement("div",{className:"item-group"},function(){var t=e.props.collapsed?"Uncollapse":"Collapse",a={key:"collapsed",value:!e.props.collapsed};return i.a.createElement(S.c,{data:a,onClick:e.updateState.bind(e)},t)}(),i.a.createElement(S.c,{onClick:this.loadSampleGameData.bind(this)},"Load Sample Data"),i.a.createElement(S.c,{onClick:this.clearGameData.bind(this)},"Clear Encounter Data"),function(){if(e.props.overlayplugin)return i.a.createElement(S.c,{onClick:t.splitEncounter},"Split Encounter")}()))}},{key:"updateState",value:function(e,t){this.props.updateState(t)}},{key:"loadSampleGameData",value:function(){this.props.loadSampleGameData()}},{key:"clearGameData",value:function(){this.props.clearGameData()}}]),t}(i.a.Component),w=Object(o.b)(function(e){return{collapsed:e.collapsed,overlayplugin:e.overlayplugin}},function(e){return{updateState:function(t){e(A(t))},loadSampleGameData:function(){e(P(k))},clearGameData:function(){e(P({}))}}})(M),L=function(e){function t(){return Object(m.a)(this,t),Object(D.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.active?"active":"inactive";return i.a.createElement("div",{id:"game-state"},i.a.createElement("span",{className:e},this.props.state))}}]),t}(i.a.Component),j={PlayerDataCustomValues:{"healed%":function(e){var t=e["healed%"];return"--"===t&&(t="0%"),t},effective_heal_pct:function(e,t){var a=0,n=0,i=!0,r=!1,l=void 0;try{for(var c,s=t[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var o=c.value,h=1-+o.OverHealPct.replace("%","")/100,m=+o.healed*h;a+=m,o.name===e.name&&(n=m)}}catch(d){r=!0,l=d}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}return(100*(a?n/a:0)).toFixed(0)+"%"},effective_hps:function(e){var t=1-+e.OverHealPct.replace("%","")/100;return+e.enchps*t},damage_taken_pct:function(e,t){var a=0,n=0,i=!0,r=!1,l=void 0;try{for(var c,s=t[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var o=c.value;a+=+o.damagetaken,o.name===e.name&&(n=+o.damagetaken)}}catch(h){r=!0,l=h}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}return(100*(a?n/a:0)).toFixed(0)+"%"},max_heal_format:function(e){if(!e.maxheal)return"N/A";var t=e.maxheal.split("-");return t[1]=(+t[1]).toLocaleString(),t.join(" - ")},max_hit_format:function(e){if(!e.maxhit)return"N/A";var t=e.maxhit.split("-");return t[1]=(+t[1]).toLocaleString(),t.join(" - ")}},PlayerDataTitles:{BlockPct:{short:"Blk %",long:"Block %"},CritDirectHitPct:{short:"CH DH %",long:"Critical Direct Hit %"},"critheal%":{short:"CH %",long:"Critical Heal %"},"crithit%":{short:"CH %",long:"Critical Hit %"},damage:{short:"Dmg",long:"Damage"},"damage%":{short:"Dmg %",long:"Damage %"},damage_taken_pct:{short:"Dmg %",long:"Damage Taken %"},damagetaken:{short:"Dmg",long:"Damage Taken"},deaths:{short:"Death",long:"Deaths"},DirectHitPct:{short:"DH %",long:"Direct Hit %"},effective_heal_pct:{short:"Ef H %",long:"Effective Heal %"},effective_hps:{short:"Ef HPS",long:"Effective Heals Per Second"},encdps:{short:"DPS",long:"Damage Per Second"},enchps:{short:"HPS",long:"Heal Per Second"},healed:{short:"Heal",long:"Total Heal"},"healed%":{short:"Heal %",long:"Heal %"},healstaken:{short:"Heals",long:"Heals Received"},max_heal_format:{short:"Mx Heal",long:"Max Heal"},max_hit_format:{short:"Mx Hit",long:"Max Hit"},OverHealPct:{short:"Ovr %",long:"Overheal %"}},PlayerMetricTypeData:{dps:["CritDirectHitPct","crithit%","damage","damage%","DirectHitPct","encdps","max_hit_format"],heal:["critheal%","effective_heal_pct","effective_hps","enchps","healed","healed%","max_heal_format","OverHealPct"],tank:["BlockPct","damage_taken_pct","damagetaken","deaths","healstaken"]}},_=function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"getDataValue",value:function(e,t,a){var n=j.PlayerDataCustomValues[e],i=n?n(t,a):t[e];return"name"===e&&"YOU"===i&&(i=v.getState().character_name),isNaN(i)||(i=(+i).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),i}}]),e}(),x=function(e){function t(){return Object(m.a)(this,t),Object(D.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=new _,t=this.props.player,a="YOU"===t.name?"active":"other",n=t.Job.toUpperCase()||"LMB",r=[];for(var l in this.props.columns){var c=this.props.columns[l],s=e.getDataValue(c,t,this.props.players);r.push(i.a.createElement("div",{className:"column",key:c},s))}return i.a.createElement("div",{className:"row player "+a,onClick:this.props.onClick},i.a.createElement("div",{className:"column"},i.a.createElement("img",{src:"img/icons/jobs/"+n+".png",alt:n+" icon"})),i.a.createElement("div",{className:"column"},e.getDataValue("name",t)),r)}}]),t}(i.a.Component),T=function(e){function t(){return Object(m.a)(this,t),Object(D.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=[],t=[],a=[],n=0,r=0,l=!1,c=this.props.type,s=this.props.collapsed,o=!0,h=!1,m=void 0;try{for(var d,p=this.props.table_columns[c][Symbol.iterator]();!(o=(d=p.next()).done);o=!0){var u=d.value,g=j.PlayerDataTitles[u].short;e.push(i.a.createElement("div",{className:"column",key:u},g)),-1!==this.props.sum_columns[c].indexOf(u)?t.push(i.a.createElement("div",{className:"column",key:u},(+this.props.encounter[u]||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))):t.push(i.a.createElement("div",{className:"column",key:u}))}}catch(H){h=!0,m=H}finally{try{o||null==p.return||p.return()}finally{if(h)throw m}}if(this.props.players){var f=[];for(var v in this.props.players)f.push(this.props.players[v]);var D=this.props.sort_columns[c];f=f.sort(function(e,t){var a=+e[D].replace("%",""),n=+t[D].replace("%","");return a>n?-1:n>a?1:e.Job&&t.Job?e.name>t.name?1:-1:e.job?-1:1});var E=!0,y=!1,k=void 0;try{for(var P,b=f[Symbol.iterator]();!(E=(P=b.next()).done);E=!0){var A=P.value;if(""!==A.Job||"Limit Break"===A.name){var S=!1;l||r++,n++,"YOU"===A.name&&(l=!0,S=!0),s&&!S||a.push(i.a.createElement(x,{key:A.name,player:A,players:f,columns:this.props.table_columns[c],onClick:this.changeViewing.bind(this,"player",A)}))}}}catch(H){y=!0,k=H}finally{try{E||null==b.return||b.return()}finally{if(y)throw k}}}return i.a.createElement("div",{id:"player-table"},i.a.createElement("div",{className:"row header"},i.a.createElement("div",{className:"column"}),i.a.createElement("div",{className:"column"},"Name"),e),a,i.a.createElement("div",{className:"row footer"},i.a.createElement("div",{className:"column"}),i.a.createElement("div",{className:"column"},r,"/",n),t))}},{key:"changeViewing",value:function(e,t){this.props.changeViewing(e),this.props.changeDetailPlayer(t)}}]),t}(i.a.Component),K=Object(o.b)(function(e){return{table_columns:e.settings.getSetting("table_columns"),sort_columns:e.settings.getSetting("sort_columns"),sum_columns:e.settings.getSetting("sum_columns"),collapsed:e.collapsed}},function(e){return{changeViewing:function(t){e(b(t))},changeDetailPlayer:function(t){e({type:"changeDetailPlayer",key:"detail_player",payload:t})}}})(T),B=function(e){function t(){return Object(m.a)(this,t),Object(D.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=new _,t=this.props.player,a=[],n=t.Job.toUpperCase()||"LMB",r=this.props.detail_data,l=[];for(var c in this.props.players)a.push(this.props.players[c]);for(var s in r){var o=r[s],h=[],m=!0,d=!1,p=void 0;try{for(var u,g=o[Symbol.iterator]();!(m=(u=g.next()).done);m=!0){var f=u.value,v=j.PlayerDataTitles[f].long,D=e.getDataValue(f,t,a);h.push(i.a.createElement("div",{className:"column",key:f},i.a.createElement("div",{className:"title",key:f+"-title"},v),i.a.createElement("div",{className:"value",key:f+"-value"},D)))}}catch(E){d=!0,p=E}finally{try{m||null==g.return||g.return()}finally{if(d)throw p}}l.push(i.a.createElement("div",{className:"split",key:s+"-split"})),l.push(i.a.createElement("div",{className:"section",key:s},i.a.createElement("div",{className:"title",key:s+"-title"},s),i.a.createElement("div",{className:"data",key:s+"-data"},h)))}return i.a.createElement("div",{id:"player-detail"},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"job"},i.a.createElement("img",{src:"img/icons/jobs/"+n+".png",alt:n+" icon"})),i.a.createElement("div",{className:"name"},e.getDataValue("name",t))),l)}}]),t}(i.a.Component),G=Object(o.b)(function(e){return{detail_data:e.settings.getSetting("detail_data")}})(B),I=a(30),X=a(31),W=function(e){function t(){return Object(m.a)(this,t),Object(D.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.viewing,t=this.props.table_type,a=this,n=new N;return i.a.createElement("div",{id:"footer"},function(){if("tables"===e){var n={dps:"DPS",heal:"Heal",tank:"Tank"},r=[];for(var l in n){var c=n[l],s=t===l?"active":"";r.push(i.a.createElement("div",{className:"role-link "+s,onClick:a.changeTableType.bind(a,l),key:"navigation-link-"+l},c))}return i.a.createElement("div",{id:"role-links"},r)}if("player"===e)return i.a.createElement("div",{id:"navigation-links"},i.a.createElement("span",{className:"navigation-link",onClick:a.changeViewing.bind(a,"tables"),key:"navigation-link-back"},"\u2039 Back"))}(),i.a.createElement("div",{id:"footer-actions"},function(){var e=[];return a.props.overlayplugin&&e.push(i.a.createElement(I.a,{icon:X.a,alt:"Split encounter",title:"Split encounter",onClick:n.splitEncounter,key:"split-encounter"})),e}()))}},{key:"changeTableType",value:function(e){this.props.changeTableType(e)}},{key:"changeViewing",value:function(e){this.props.changeViewing(e)}}]),t}(i.a.Component),R=Object(o.b)(function(e){return{table_type:e.table_type,viewing:e.viewing,overlayplugin:e.overlayplugin}},function(e){return{changeTableType:function(t){e({type:"changeTableType",key:"table_type",payload:t})},changeViewing:function(t){e(b(t))}}})(W),U=function(e){function t(){return Object(m.a)(this,t),Object(D.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"togglePlaceholders",value:function(){var e=C()(document).find("#container"),t=e.hasClass("hidden");C()(document).find(".placeholder").each(function(){C()(this).toggleClass("hidden",t)}),e.toggleClass("hidden",!t)}},{key:"render",value:function(){return i.a.createElement("div",{className:"placeholder "+this.props.type+" hidden",onClick:this.togglePlaceholders.bind(this)},i.a.createElement("div",{className:"inner"},i.a.createElement("img",{src:"img/icons/placeholder.png",alt:"Minimized button"})))}}]),t}(i.a.Component),V=function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"processMessage",value:function(e){var t;try{t=JSON.parse(e.data)}catch(e){}if("object"===typeof t){var a=t.msgtype;if(-1!==["SendCharName","CombatData"].indexOf(a))switch(a){case"CombatData":var n=t.msg;v.dispatch(P(n));break;case"SendCharName":var i={key:"character_name",value:t.msg.charName};v.dispatch(A(i))}}}}]),e}(),F=a(48),J=function(){function e(t){Object(m.a)(this,e),this.message_processor=new V,this.uri=t||this.processUri()}return Object(d.a)(e,[{key:"processUri",value:function(){var e=new F.parse(window.location.search)["?HOST_PORT"];return!!e&&(-1===(e=e.replace(/\/$/,"")).indexOf("MiniParse")&&(e+="/MiniParse"),e)}},{key:"initialize",value:function(){this.uri&&(this.socket=new WebSocket(this.uri),this.socket.onmessage=this.message_processor.processMessage,this.socket.onclose=this.reconnect.bind(this))}},{key:"reconnect",value:function(){this.initialize()}}]),e}(),z=function(e){function t(){return Object(m.a)(this,t),Object(D.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("onOverlayStateUpdate",this.toggleHandle.bind(this)),document.addEventListener("onOverlayDataUpdate",this.parseData.bind(this)),(new J).initialize()}},{key:"render",value:function(){var e,t=this.props.game.Encounter||{},a="true"===t.isActive,n=t.title?"".concat(t.title," - ").concat(t.CurrentZoneName," - ").concat(t.duration):"Awaiting encounter data...",r=this.props.viewing;"tables"===r?e=i.a.createElement(K,{players:this.props.game.Combatant,encounter:t,type:this.props.table_type}):"player"===r&&(e=i.a.createElement(G,{player:this.props.detail_player,players:this.props.game.Combatant,encounter:t}));var l=[];return this.props.collapsed&&"tables"===r||(l=[i.a.createElement("div",{className:"split",key:"above-footer-split"}),i.a.createElement(R,{key:"parser-footer"})]),i.a.createElement(i.a.Fragment,null,i.a.createElement(S.b,{id:"right-click-menu"},i.a.createElement("div",{id:"container"},i.a.createElement(O,{type:"left"}),i.a.createElement(O,{type:"right"}),i.a.createElement("div",{id:"inner"},void 0,i.a.createElement(L,{state:n,active:a}),i.a.createElement("div",{id:"content"},e),l))),i.a.createElement(U,{type:"left"}),i.a.createElement(U,{type:"right"}),i.a.createElement(w,null))}},{key:"parseData",value:function(e){this.props.parseGameData(e.detail)}},{key:"toggleHandle",value:function(e){e.detail.isLocked?document.getElementsByTagName("body")[0].classList.remove("resizeHandle"):document.getElementsByTagName("body")[0].classList.add("resizeHandle")}}]),t}(i.a.Component),Y=Object(o.b)(function(e){return e},function(e){return{parseGameData:function(t){e(P(t))}}})(z),Z=function(e){function t(){return Object(m.a)(this,t),Object(D.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.collapsed&&"tables"===this.props.viewing?"auto-height":"";return i.a.createElement("div",{id:"root-inner",className:e},i.a.createElement(Y,null))}}]),t}(i.a.Component),$=Object(o.b)(function(e){return{collapsed:e.collapsed,viewing:e.viewing}})(Z),q=function(e){function t(){return Object(m.a)(this,t),Object(D.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return"Hello"}}]),t}(i.a.Component);l.a.render(i.a.createElement(c.a,null,i.a.createElement(o.a,{store:v},i.a.createElement(s.a,{exact:!0,path:"/",component:$}),i.a.createElement(s.a,{path:"/settings",component:q}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.86e9fa03.chunk.js.map