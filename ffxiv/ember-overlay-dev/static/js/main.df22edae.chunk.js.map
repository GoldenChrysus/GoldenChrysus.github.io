{"version":3,"sources":["services/UsageService.js","redux/actions/index.js","index.css","styles/components/parser/parser-theme.less","services/ObjectService.js","helpers/StringHelper.js","data/Settings.js","processors/MessageProcessor.js","services/PluginService/PluginServiceAbstract.js","services/PluginService/OverlayPluginService.js","services/PluginService/OverlayProcService.js","services/PluginService/SocketService.js","services/PluginService.js","services/ThemeService.js","constants/SampleGameData.js","constants/SampleHistoryData.js","constants/SampleAggroData.js","redux/reducers/index.js","redux/store/index.js","processors/PlayerProcessor.js","constants/index.js","processors/GameDataProcessor.js","styles/components/settings/settings-theme.less","migrations sync /^/.//.*/.js$","migrations/01-convert-binary-short-name-setting.js","migrations/02-store-settings-in-overlayplugin.js","serviceWorker.js","services/SettingsService.js","components/Parser/Container/Menu.js","components/Parser/Container/Import.js","components/Parser/Container/IconButton.js","components/Parser/GameState.js","components/Parser/PercentBar.js","components/Parser/PlayerTable/Player.js","services/DonationService.js","services/VersionService.js","components/Parser/PlayerTable/OverlayInfo.js","components/Parser/PlayerTable.js","components/Parser/PlayerDetail/HistoryChart.js","components/Parser/PlayerDetail.js","components/Parser/Container/EncounterMenu.js","components/Parser/Footer.js","components/Parser/Placeholder/Toggle.js","processors/MonsterProcessor.js","components/Parser/AggroTable/Monster.js","components/Parser/AggroTable.js","components/Parser/Container.js","components/Parser/Placeholder.js","components/Parser.js","constants/SettingsSchema.js","services/TwitchAPIService.js","components/Settings/Screen/Inputs/MetricNameTable.js","components/Settings/Screen/Inputs/Slider.js","components/Settings/Screen/Section.js","components/Settings/Screen.js","components/Settings/Export.js","components/Settings/About/SocialLink.js","components/Settings/About.js","components/Settings/Streamers.js","components/Settings/Donate.js","components/Settings.js","constants/Migrations.js","services/MigrationService.js","index.js","constants/Locales.js","services/LocalizationService.js"],"names":["UsageService","settings","concat","getSetting","getMetricsInUse","indexOf","parseGameData","payload","type","key","loadSampleGameData","loadHistoryEntry","clearGameData","parseEnmity","parseAggroList","parseParty","updateSetting","value","source","skip_save","updateSettings","data","changeCollapse","changeTableType","changePlayerBlur","changeViewing","changeDetailPlayer","updateState","ObjectService","object","key_path","getByKeyPath","split","length","slice","setByKeyPath","StringHelper","string","units","Uint16Array","i","charCodeAt","String","fromCharCode","Uint8Array","buffer","binary","bytes","default_settings","intrinsic","table_type","collapsed","current_version","last_version","player_blur","interface","player_name","opacity","zoom","top_right_rank","blur_job_icons","collapse_down","light_theme","minimal_theme","footer_when_collapsed","footer_dps","decimal_accuracy","shorten_thousands","language","auto_hide","auto_hide_delay","custom","css","metric_names","table_settings","general","table","short_names","footer_at_top","percent_bars","prioritize_party","raid","dps","show_footer","heal","tank","table_columns","sort_columns","detail_data","Settings","Promise","resolve","reject","localForage","getItem","then","result","mergeSettings","store","dispatch","catch","e","force","window","parser","setItem","JSON","stringify","saveToOverlayPlugin","json","tmp_default_settings","Object","assign","parse","used_default","mergeWith","obj_val","src_val","Array","isArray","settings_key","fromBinary","atob","saveSettings","btoa","toBinary","process","service","getState","plugin_service","isNgld","is_websocket","getOverlayPluginKey","message","createMessage","getExportKey","callHandler","callback","resetCallback","importSettings","necessary","restoreFromOverlayPlugin","MessageProcessor","msgtype","detail","msg","AggroList","Entries","name","charName","state_data","PluginServiceAbstract","keys","subscribed","is_connected","splitEncounter","events","processMessage","is_overlayplugin","is_ngld","document","addEventListener","__OverlayCallback","OverlayPluginApi","OverlayPluginService","endEncounter","getAuthor","call","OverlayProcService","socket_service","subscribe","unsubscribe","querystring","require","BASE_RECONNECT_DELAY","SocketService","uri","reconnect_delay","try_for_ngld","location","search","processUri","params","substring","original_uri","replace","protocol","href","internal","overlayplugin","socket","WebSocket","onclose","setTimeout","reconnect","bind","onopen","connected","Math","min","initialize","setId","establishSubscriptions","id","random","toString","send","undefined","new_events","removeSubscriptions","onmessage","to","message_type","readyState","PluginService","overlayplugin_service","isSocketRequested","isOverlayPlugin","getSubscriptions","processSubscriptionAdditions","filter","processSubscriptionRemovals","old_events","settings_object","settings_data","enmity","usingEnmity","push","ThemeService","options","$","toggleClass","SampleGameData","SampleHistoryData","SampleAggroData","initial_state","last_activity","Date","getTime","viewing","character_name","rank","game","aggro","data_history","encounter_history","detail_player","party","viewing_history","overlayplugin_author","new_version","rootReducer","state","action","new_state","full_key","setSetting","createNewState","clone","setting","new_history","Encounter","DURATION","GameDataProcessor","normalizeLocales","injectEnmity","pop","unshift","appendHistory","tmp_action","normalizeAggroList","index","processEnmity","isEqual","processParty","setTheme","light","minimal","storage_key","wrapAction","time","now","storageMiddleware","next","wrapped_action","localStorage","createStorageListener","valid_action","loadSettings","updateSubscriptions","middleware","applyMiddleware","createStore","PlayerProcessor","first_name","last_name","player","players","encounter","return_sortable_value","key_function","Constants","PlayerDataCustomValues","setting_name","isNaN","convertToLocaleFormat","number_regex","matches","match","sort_column","sorted_players","self","players_copy","sort","a","b","val_a","getDataValue","val_b","Job","localeCompare","job","calculateHealed","calculateEffectiveHealed","total_effective_heals","player_effective_heals","tmp_player","ratio","OverHealPct","effective_heals","healed","effective_ratio","toFixed","calculateEffectiveHPS","hps","enchps","calculateTankedDamagePercent","total_damage_taken","player_damage_taken","damagetaken","calculateTankPerSecond","duration","formatMaxHit","parts","toLocaleString","join","formatMaxHeal","calculateHealthPercent","unit","CurrentHP","MaxHP","calculateShieldPerSecond","damageShield","GameJobs","ARC","role","GLA","LNC","MRD","PGL","ACN","CNJ","THM","ROG","BRD","DRG","MNK","PLD","WAR","BLM","WHM","SCH","SMN","NIN","AST","DRK","MCH","RDM","SAM","BLU","GNB","DNC","MonsterDataCustomDataValues","PlayerDataTitles","MonsterDataTitles","PlayerMetricTypeData","PlayerMetricFractionRules","deaths","max","PlayerMetricsSummable","foreign_number_regex","current_state","loading_sample","normalizeGameData","LocalizationService","getOverlayText","BlockPct","DirectHitPct","CritDirectHitPct","normalizeFieldLocale","Combatant","injectMaxDPS","usingMaxDPS","can_calculate_max","max_enc_dps","encdps","interval","current_history","recent_time","current_time","round","new_data","enctps","Name","sortPlayers","max_value","Enmity","percent","real_player_name","enmity_percent","inParty","accuracy","over_thousand","fraction_rules","minimum_fraction","hasOwnProperty","maximum_fraction","minimumFractionDigits","maximumFractionDigits","Migration","map","false","true","table_names","raid_names","isLocalhost","Boolean","hostname","register","config","navigator","publicUrl","URL","origin","swUrl","checkValidServiceWorker","serviceWorker","ready","console","log","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","fetch","response","contentType","headers","get","status","unregister","reload","SettingsService","open","Menu","props","collapse_item","text","plugin_actions","openSettingsWindow","openSettingsImport","React","Component","mapDispatchToProps","mapStateToProps","connect","Import","allow_overlayplugin_import","author","overlayplugin_button","handleImport","overlayplugin_text","find","target","button","$button","getButton","closest","f","g","$input","getInput","focus","execCommand","$clicked_button","button_text","$buttons","getButtons","attr","event","val","initial_text","promise","enableButtons","IconButton","ReactTooltip","rebuild","icon_attributes","icon","alt","title","no_container","onClick","additional_class","class","GameState","encounter_class","active","rank_class","show_rank","encounter_state","CurrentZoneName","PercentBar","backgroundSize","Player","player_type","_is_current","_is_pet","toUpperCase","is_raid","columns","stat_columns","job_data","prefix","getPlayerDataTitle","name_blur","blur","icon_blur","icon_style","WebkitFilter","getShortName","playerData","statData","percentBar","backgroundRepeat","backgroundPositionY","position","top","left","width","height","_party","DonationService","rel","search_add","pathname","no_changes","VersionService","intrinsic_settings","system_version","getSystemVersion","getCurrentUserVersion","compareVersions","compare","last_data","changelog","item_type","count","items","item","ul","last_user_version","getLastUserVersion","parseChangelog","processChangelog","minimum_version","max_version_count","final_data","versions","version_data","version","parsed","has_changes","translated_type","getMisc","done","Parser","OverlayInfo","browser_data","userAgent","browser_version","chrome_version","setState","chrome","getLatestChangelogs","formatChangelog","openFundingLink","url","getRealDonationLink","buildLocalDonationLink","PlayerTable","updateBackgrounds","header","footer","rows","pet_rows","found","prioritize_pt","pet_owner","_name","_skip","internal_name","sort_value","_percent","resorted_players","from","party_has_a","party_has_b","player_obj","header_row","footer_row","table_class","rank_text","rank_data","getFooterRow","petRows","overlay_info","$table","refs","player_table","is_grid","hasClass","each","$row","$bar","removeClass","outerHeight","outerWidth","addClass","HistoryChart","ChartComponent","prototype","destroyChart","saveCurrentDatasets","datasets","chartInstance","destroy","metrics","background","border","history","line_data","labels","base_time","label","backgroundColor","borderColor","encounter_time","minutes","floor","seconds","PlayerDetail","sections","section_type","EncounterMenu","Footer","determineIfNewer","navigation","types","links","type_key","show_dps","dps_value","trigger","toggleMenu","handleContextClick","actions","version_notice","obsstudio","c","className","togglePlayerBlur","Toggle","$container","hidden","togglePlaceholders","MonsterProcessor","monster","Monster","fallback_player","Target","processor","raw_key","toLowerCase","YOU","icon_image","ID","AggroTable","monsters","getMonsterDataTitle","isMe","Container","toggleHandle","isActive","content","isLocked","getElementsByTagName","classList","add","remove","Placeholder","image_src","visible","setInterval","processAutoHide","root_inner_classes","display","setting_style","language_options","decimal_options","SettingsSchema","path","obj","range","minimum","maximum","getPlayerDataTitles","getPlayerShortNameOptions","multiple","TwitchAPIService","res","usernames","MetricNameTable","delete_text","_insert","createRow","insert","metric_key","value_data","short_name","short","long_name","long","select_text","select_value","handleAdd","handleDelete","select","handleSelectChange","row","handleInputChange","auto_add","$target","currentTarget","tagName","$select","$this","input_key","row_key","syncData","onChange","Slider","$elem","slider","slide","ui","change_data","Section","setting_data","getSettingValue","forEach","querySelectorAll","el","Sortable","create","draggable","evt","originalEvent","handleChange","label_text","getSettingText","changeCallback","code","metric_options","getSettingsSubsectionText","parent_path","selection","Screen","saving","save_class","section_data","handleSave","new_value","getElementById","new_settings","checked","Export","handleCopy","SocialLink","getLink","reactStringReplace","About","getChangelogForUser","github_url","discord_url","author_url","changelog_url","author_link","changelog_cta","changelog_link_match","changelog_link_text","changelog_link","Streamers","streamers","streamer_names","shuffle","streamer_boxes","streamer_name","thumbnail","discord_link","offline_text","long_cta","toggleInfoDiv","preventDefault","$link","$div","slideToggle","Donate","$url","selectText","element","getSelection","createRange","selectNodeContents","removeAllRanges","addRange","body","createTextRange","moveToElementText","getLiveStreamers","stream_type","base_url","nav_links","routes","streamer_count","streamer_base_text","streamer_text","section","section_path","getSettingsSectionText","Migrations","MigrationService","reduce","last_promise","migration_name","executeMigration","migration","default","migrate","info","settings_result","restoreFromOverlayPluginIfNecessary","ReactDOM","render","OverlayLocales","SettingsLocales","ignore_custom","getLanguage","en","include_null","data_key","option","subsections","setting_labels","data_set","misc","short_name_options","no_short","short_first","short_last","short_both"],"mappings":"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","file":"static/js/main.df22edae.chunk.js","sourcesContent":["class UsageService {\r\n\tgetMetricsInUse(settings) {\r\n\t\treturn []\r\n\t\t\t.concat(settings.getSetting(\"table_columns.dps\"))\r\n\t\t\t.concat(settings.getSetting(\"table_columns.heal\"))\r\n\t\t\t.concat(settings.getSetting(\"table_columns.tank\"))\r\n\t\t\t.concat(settings.getSetting(\"table_columns.raid.dps\"))\r\n\t\t\t.concat(settings.getSetting(\"table_columns.raid.heal\"))\r\n\t\t\t.concat(settings.getSetting(\"table_columns.raid.tank\"))\r\n\t\t\t.concat(settings.getSetting(\"sort_columns.dps\"))\r\n\t\t\t.concat(settings.getSetting(\"sort_columns.heal\"))\r\n\t\t\t.concat(settings.getSetting(\"sort_columns.tank\"))\r\n\t\t\t.concat(settings.getSetting(\"sort_columns.raid\"))\r\n\t\t\t.concat(settings.getSetting(\"detail_data.dps\"))\r\n\t\t\t.concat(settings.getSetting(\"detail_data.heal\"))\r\n\t\t\t.concat(settings.getSetting(\"detail_data.tank\"));\r\n\t}\r\n\r\n\tusingEnmity(settings) {\r\n\t\treturn (this.getMetricsInUse(settings).indexOf(\"enmity_percent\") !== -1);\r\n\t}\r\n\r\n\tusingMaxDPS(settings) {\r\n\t\treturn (this.getMetricsInUse(settings).indexOf(\"max_enc_dps\") !== -1);\r\n\t}\r\n}\r\n\r\nexport default new UsageService();","export function parseGameData(payload) {\r\n\treturn {\r\n\t\ttype : \"parseGameData\",\r\n\t\tkey  : \"internal.game\",\r\n\t\tpayload\r\n\t};\r\n}\r\n\r\nexport function loadSampleGameData() {\r\n\treturn {\r\n\t\ttype : \"loadSampleData\"\r\n\t};\r\n}\r\n\r\nexport function loadHistoryEntry(payload) {\r\n\treturn {\r\n\t\ttype : \"loadHistoryEntry\",\r\n\t\tpayload\r\n\t};\r\n}\r\n\r\nexport function clearGameData() {\r\n\treturn parseGameData({});\r\n}\r\n\r\nexport function parseEnmity(payload) {\r\n\treturn {\r\n\t\ttype : \"parseEnmity\",\r\n\t\tkey  : \"internal.enmity\",\r\n\t\tpayload\r\n\t};\r\n}\r\n\r\nexport function parseAggroList(payload) {\r\n\treturn {\r\n\t\ttype : \"parseAggroList\",\r\n\t\tkey  : \"internal.aggro\",\r\n\t\tpayload\r\n\t};\r\n}\r\n\r\nexport function parseParty(payload) {\r\n\treturn {\r\n\t\ttype : \"parseParty\",\r\n\t\tkey  : \"internal.party\",\r\n\t\tpayload\r\n\t}\r\n}\r\n\r\nexport function updateSetting(payload) {\r\n\treturn {\r\n\t\ttype      : \"setSetting\",\r\n\t\tkey       : payload.key,\r\n\t\tpayload   : payload.value,\r\n\t\tsource    : payload.source,\r\n\t\tskip_save : payload.skip_save\r\n\t};\r\n}\r\n\r\nexport function updateSettings(payload) {\r\n\treturn {\r\n\t\ttype   : \"setSettings\",\r\n\t\tdata   : payload.data,\r\n\t\tsource : payload.source\r\n\t};\r\n}\r\n\r\nexport function changeCollapse(payload) {\r\n\treturn {\r\n\t\ttype   : \"setSetting\",\r\n\t\tkey    : \"intrinsic.collapsed\",\r\n\t\tsource : \"parser\",\r\n\t\tpayload\r\n\t};\r\n}\r\n\r\nexport function changeTableType(payload) {\r\n\treturn {\r\n\t\ttype   : \"setSetting\",\r\n\t\tkey    : \"intrinsic.table_type\",\r\n\t\tsource : \"parser\",\r\n\t\tpayload\r\n\t};\r\n}\r\n\r\nexport function changePlayerBlur(payload) {\r\n\treturn {\r\n\t\ttype   : \"setSetting\",\r\n\t\tkey    : \"intrinsic.player_blur\",\r\n\t\tsource : \"parser\",\r\n\t\tpayload\r\n\t};\r\n}\r\n\r\nexport function changeViewing(payload) {\r\n\treturn {\r\n\t\ttype   : \"changeViewing\",\r\n\t\tkey    : \"internal.viewing\",\r\n\t\tsource : \"parser\",\r\n\t\tpayload\r\n\t};\r\n}\r\n\r\nexport function changeDetailPlayer(payload) {\r\n\treturn {\r\n\t\ttype : \"changeDetailPlayer\",\r\n\t\tkey  : \"internal.detail_player\",\r\n\t\tpayload\r\n\t};\r\n}\r\n\r\nexport function updateState(payload) {\r\n\treturn {\r\n\t\ttype    : \"updateState\",\r\n\t\tkey     : payload.key,\r\n\t\tpayload : payload.value\r\n\t};\r\n}","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","class ObjectService {\r\n\tgetByKeyPath(object, key_path) {\r\n\t\tif (typeof key_path === \"string\") {\r\n\t\t\treturn this.getByKeyPath(object, key_path.split(\".\"));\r\n\t\t} else if (key_path.length === 1) {\r\n\t\t\treturn object[key_path[0]];\r\n\t\t} else {\r\n\t\t\tif (!object[key_path[0]]) {\r\n\t\t\t\tobject[key_path[0]] = {};\r\n\t\t\t}\r\n\r\n\t\t\treturn this.getByKeyPath(object[key_path[0]], key_path.slice(1));\r\n\t\t}\r\n\t}\r\n\r\n\tsetByKeyPath(object, key_path, value) {\r\n\t\tif (typeof key_path === \"string\") {\r\n\t\t\treturn this.setByKeyPath(object, key_path.split(\".\"), value);\r\n\t\t} else if (key_path.length === 1) {\r\n\t\t\treturn object[key_path[0]] = value;\r\n\t\t} else {\r\n\t\t\tif (!object[key_path[0]]) {\r\n\t\t\t\tobject[key_path[0]] = {};\r\n\t\t\t}\r\n\r\n\t\t\treturn this.setByKeyPath(object[key_path[0]], key_path.slice(1), value);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default new ObjectService();","class StringHelper {\r\n\ttoBinary(string) {\r\n\t\tconst units = new Uint16Array(string.length);\r\n\r\n\t\tfor (let i = 0; i < units.length; i++) {\r\n\t\t\tunits[i] = string.charCodeAt(i);\r\n\t\t}\r\n\r\n\t\treturn String.fromCharCode(...new Uint8Array(units.buffer));\r\n\t}\r\n\r\n\tfromBinary(binary) {\r\n\t\tconst bytes = new Uint8Array(binary.length);\r\n\r\n\t\tfor (let i = 0; i < bytes.length; i++) {\r\n\t\t\tbytes[i] = binary.charCodeAt(i);\r\n\t\t}\r\n\r\n\t\treturn String.fromCharCode(...new Uint16Array(bytes.buffer));\r\n\t}\r\n}\r\n\r\nexport default new StringHelper();","import store from \"../redux/store/index\";\r\nimport { updateState } from \"../redux/actions/index\";\r\nimport localForage from \"localforage\";\r\nimport mergeWith from \"lodash.mergewith\";\r\n\r\nimport ObjectService from \"../services/ObjectService\";\r\nimport StringHelper from \"../helpers/StringHelper\";\r\n\r\nconst default_settings = {\r\n\tintrinsic : {\r\n\t\ttable_type      : \"dps\",\r\n\t\tcollapsed       : false,\r\n\t\tcurrent_version : null,\r\n\t\tlast_version    : null,\r\n\t\tplayer_blur     : false\r\n\t},\r\n\tinterface : {\r\n\t\tplayer_name           : \"YOU\",\r\n\t\topacity               : 100,\r\n\t\tzoom                  : 100,\r\n\t\ttop_right_rank        : false,\r\n\t\tblur_job_icons        : false,\r\n\t\tcollapse_down         : false,\r\n\t\tlight_theme           : false,\r\n\t\tminimal_theme         : false,\r\n\t\tfooter_when_collapsed : false,\r\n\t\tfooter_dps            : false,\r\n\t\tdecimal_accuracy      : 2,\r\n\t\tshorten_thousands     : false,\r\n\t\tlanguage              : \"en\",\r\n\t\tauto_hide             : false,\r\n\t\tauto_hide_delay       : 0\r\n\t},\r\n\tcustom : {\r\n\t\tcss          : \"\",\r\n\t\tmetric_names : {}\r\n\t},\r\n\ttable_settings : {\r\n\t\tgeneral : {\r\n\t\t\ttable : {\r\n\t\t\t\tshort_names      : \"no_short\",\r\n\t\t\t\tfooter_at_top    : false,\r\n\t\t\t\tpercent_bars     : true,\r\n\t\t\t\tprioritize_party : false\r\n\t\t\t},\r\n\t\t\traid  : {\r\n\t\t\t\tshort_names      : \"no_short\",\r\n\t\t\t\tpercent_bars     : true,\r\n\t\t\t\tprioritize_party : false\r\n\t\t\t}\r\n\t\t},\r\n\t\tdps     : {\r\n\t\t\tshow_footer : true\r\n\t\t},\r\n\t\theal    : {\r\n\t\t\tshow_footer : true\r\n\t\t},\r\n\t\ttank    : {\r\n\t\t\tshow_footer : true\r\n\t\t}\r\n\t},\r\n\ttable_columns : {\r\n\t\tdps : [\r\n\t\t\t\"damage%\",\r\n\t\t\t\"encdps\",\r\n\t\t\t\"crithit%\",\r\n\t\t\t\"DirectHitPct\",\r\n\t\t\t\"CritDirectHitPct\"\r\n\t\t],\r\n\t\theal : [\r\n\t\t\t\"healed%\",\r\n\t\t\t\"effective_heal_pct\",\r\n\t\t\t\"enchps\",\r\n\t\t\t\"effective_hps\",\r\n\t\t\t\"OverHealPct\",\r\n\t\t\t\"critheal%\"\r\n\t\t],\r\n\t\ttank : [\r\n\t\t\t\"damage_taken_pct\",\r\n\t\t\t\"enctps\",\r\n\t\t\t\"damagetaken\",\r\n\t\t\t\"healstaken\",\r\n\t\t\t\"BlockPct\",\r\n\t\t\t\"ParryPct\",\r\n\t\t\t\"deaths\"\r\n\t\t],\r\n\t\traid : {\r\n\t\t\tdps  : [\r\n\t\t\t\t\"encdps\",\r\n\t\t\t\t\"enchps\"\r\n\t\t\t],\r\n\t\t\theal : [\r\n\t\t\t\t\"enchps\",\r\n\t\t\t\t\"encdps\"\r\n\t\t\t],\r\n\t\t\ttank : [\r\n\t\t\t\t\"encdps\",\r\n\t\t\t\t\"enchps\"\r\n\t\t\t]\r\n\t\t}\r\n\t},\r\n\tsort_columns : {\r\n\t\tdps  : \"damage\",\r\n\t\theal : \"healed\",\r\n\t\ttank : \"damagetaken\",\r\n\t\traid : \"damage\"\r\n\t},\r\n\tdetail_data : {\r\n\t\tdps : [\r\n\t\t\t\"damage%\",\r\n\t\t\t\"encdps\",\r\n\t\t\t\"damage\",\r\n\t\t\t\"crithit%\",\r\n\t\t\t\"DirectHitPct\",\r\n\t\t\t\"CritDirectHitPct\",\r\n\t\t\t\"max_hit_format\"\r\n\t\t],\r\n\t\theal : [\r\n\t\t\t\"healed%\",\r\n\t\t\t\"effective_heal_pct\",\r\n\t\t\t\"enchps\",\r\n\t\t\t\"effective_hps\",\r\n\t\t\t\"healed\",\r\n\t\t\t\"OverHealPct\",\r\n\t\t\t\"critheal%\",\r\n\t\t\t\"max_heal_format\"\r\n\t\t],\r\n\t\ttank : [\r\n\t\t\t\"damage_taken_pct\",\r\n\t\t\t\"damagetaken\",\r\n\t\t\t\"enctps\",\r\n\t\t\t\"healstaken\",\r\n\t\t\t\"BlockPct\",\r\n\t\t\t\"deaths\"\r\n\t\t]\r\n\t}\r\n};\r\n\r\nclass Settings {\r\n\tloadSettings() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlocalForage.getItem(\"settings_cache\")\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tlet result = this.mergeSettings(data);\r\n\r\n\t\t\t\t\tstore.dispatch(\r\n\t\t\t\t\t\tupdateState({\r\n\t\t\t\t\t\t\tkey   : \"settings\",\r\n\t\t\t\t\t\t\tvalue : this.settings\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t\tresolve(result);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\treject();\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tsaveSettings(force) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (!window.parser && !force) {\r\n\t\t\t\tresolve();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlocalForage.setItem(\"settings_cache\", JSON.stringify(this.settings || default_settings))\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.saveToOverlayPlugin();\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\treject();\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tmergeSettings(data) {\r\n\t\tlet json                 = false;\r\n\t\tlet tmp_default_settings = Object.assign({}, JSON.parse(JSON.stringify(default_settings)));\r\n\t\tlet result               = {\r\n\t\t\tused_default : false\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tjson = JSON.parse(data);\r\n\t\t} catch (e) {}\r\n\r\n\t\tif (!json) {\r\n\t\t\tjson = tmp_default_settings;\r\n\r\n\t\t\tresult.used_default = true;\r\n\t\t} else {\r\n\t\t\tjson = mergeWith(tmp_default_settings, json, function(obj_val, src_val) {\r\n\t\t\t\tif (Array.isArray(obj_val)) {\r\n\t\t\t\t\treturn (src_val) ? src_val : obj_val;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.settings = json;\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\timportSettings(settings_key) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet data = StringHelper.fromBinary(atob(settings_key));\r\n\r\n\t\t\tthis.mergeSettings(data);\r\n\t\t\tthis.saveSettings(true)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tstore.dispatch(\r\n\t\t\t\t\t\tupdateState({\r\n\t\t\t\t\t\t\tkey   : \"settings\",\r\n\t\t\t\t\t\t\tvalue : this.settings\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tgetSetting(key) {\r\n\t\treturn (key.indexOf(\".\") !== -1) ? ObjectService.getByKeyPath(this.settings, key) : this.settings[key] || default_settings[key];\r\n\t}\r\n\r\n\tsetSetting(key_path, value, skip_save) {\r\n\t\tObjectService.setByKeyPath(this.settings, key_path, value);\r\n\r\n\t\tif (!skip_save) {\r\n\t\t\tthis.saveSettings();\r\n\t\t}\r\n\t}\r\n\r\n\tgetExportKey() {\r\n\t\treturn btoa(StringHelper.toBinary(JSON.stringify(this.settings)));\r\n\t}\r\n\r\n\tgetOverlayPluginKey() {\r\n\t\treturn `ember-settings-${process.env.REACT_APP_ENV}`;\r\n\t}\r\n\r\n\tsaveToOverlayPlugin() {\r\n\t\tlet service = store.getState().plugin_service;\r\n\r\n\t\tif (!service.plugin_service.isNgld() || service.is_websocket) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet key     = this.getOverlayPluginKey();\r\n\t\tlet message = service.plugin_service.createMessage(\"saveData\", key, this.getExportKey());\r\n\r\n\t\tservice.callHandler(message);\r\n\t}\r\n\r\n\trestoreFromOverlayPlugin() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet service = store.getState().plugin_service;\r\n\r\n\t\t\tif (!service.plugin_service.isNgld()) {\r\n\t\t\t\tresolve();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet key      = this.getOverlayPluginKey();\r\n\t\t\tlet message  = service.plugin_service.createMessage(\"loadData\", key);\r\n\t\t\tlet callback = (data) => {\r\n\t\t\t\tif (!data.data) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata = JSON.parse(data.data || {})\r\n\r\n\t\t\t\tif (data[\"$isNull\"]) {\r\n\t\t\t\t\tservice.plugin_service.resetCallback();\r\n\t\t\t\t\treject();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!data.key || data.key !== key) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!data.data) {\r\n\t\t\t\t\tservice.plugin_service.resetCallback();\r\n\t\t\t\t\treject();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis\r\n\t\t\t\t\t.importSettings(data.data)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tservice.plugin_service.resetCallback();\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\tservice.plugin_service.resetCallback();\r\n\t\t\t\t\t\treject();\r\n\t\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tservice\r\n\t\t\t\t.plugin_service\r\n\t\t\t\t.callHandler(message, callback);\r\n\t\t});\r\n\t}\r\n\r\n\trestoreFromOverlayPluginIfNecessary(necessary) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (!necessary) {\r\n\t\t\t\tresolve();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis\r\n\t\t\t\t.restoreFromOverlayPlugin()\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default new Settings();","import store from \"../redux/store/index\";\r\nimport { parseGameData, parseEnmity, parseAggroList, parseParty, updateState } from \"../redux/actions/index\";\r\n\r\nclass MessageProcessor {\r\n\tprocessMessage(e) {\r\n\t\tlet data = e;\r\n\r\n\t\tif (typeof data !== \"object\" || (data !== null && data.data)) {\r\n\t\t\ttry {\r\n\t\t\t\tdata = JSON.parse(e.data);\r\n\t\t\t} catch (e) { }\r\n\t\t}\r\n\r\n\t\tif (typeof data !== \"object\" || data === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet type = data.msgtype || data.type;\r\n\r\n\t\tif ([\"onOverlayDataUpdate\", \"SendCharName\", \"CombatData\", \"EnmityAggroList\", \"EnmityTargetData\", \"ChangePrimaryPlayer\", \"PartyChanged\"].indexOf(type) === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase \"onOverlayDataUpdate\":\r\n\t\t\tcase \"CombatData\":\r\n\t\t\t\tlet detail = (type === \"onOverlayDataUpdate\") ? data.detail : data.msg || data;\r\n\r\n\t\t\t\tstore.dispatch(parseGameData(detail));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"EnmityAggroList\":\r\n\t\t\t\tif (data.AggroList && !data.AggroList.length) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstore.dispatch(parseAggroList(data));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"EnmityTargetData\":\r\n\t\t\t\tif (!data.Entries || !data.Entries.length) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstore.dispatch(parseEnmity(data));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"ChangePrimaryPlayer\":\r\n\t\t\tcase \"SendCharName\":\r\n\t\t\t\tlet name       = (type === \"ChangePrimaryPlayer\") ? data.charName : data.msg.charName;\r\n\t\t\t\tlet state_data = {\r\n\t\t\t\t\tkey   : \"internal.character_name\",\r\n\t\t\t\t\tvalue : name\r\n\t\t\t\t};\r\n\r\n\t\t\t\tstore.dispatch(updateState(state_data));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"PartyChanged\":\r\n\t\t\t\tstore.dispatch(parseParty(data));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default new MessageProcessor();","import MessageProcessor from \"../../processors/MessageProcessor\";\r\n\r\nclass PluginServiceAbstract {\r\n\tconstructor(settings) {\r\n\t\tif (settings && Object.keys(settings).length) {\r\n\t\t\tObject.assign(this, settings);\r\n\t\t}\r\n\r\n\t\tthis.subscribed   = false;\r\n\t\tthis.is_connected = true;\r\n\t}\r\n\r\n\tsplitEncounter() {\r\n\t\tthis.plugin_service.splitEncounter();\r\n\t}\r\n\r\n\tsubscribe(events) {\r\n\t\tlet callback = MessageProcessor.processMessage;\r\n\r\n\t\tif (!this.is_overlayplugin || !this.is_ngld) {\r\n\t\t\tif (this.subscribed) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.subscribed = true;\r\n\r\n\t\t\tdocument.addEventListener(\"onOverlayDataUpdate\", callback);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!this.subscribed) {\r\n\t\t\twindow.__OverlayCallback = callback;\r\n\t\t}\r\n\r\n\t\tthis.subscribed = true;\r\n\r\n\t\tthis.callHandler(this.createMessage(\"subscribe\", \"events\", events), callback);\r\n\t}\r\n\r\n\tunsubscribe(events) {\r\n\t\tif (!this.is_overlayplugin || !this.is_ngld) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.callHandler(this.createMessage(\"unsubscribe\", \"events\", events));\r\n\t}\r\n\r\n\tcallHandler(message, callback) {\r\n\t\twindow.OverlayPluginApi.callHandler(\r\n\t\t\tmessage,\r\n\t\t\tcallback\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PluginServiceAbstract;","import PluginServiceAbstract from \"./PluginServiceAbstract\";\r\n\r\nclass OverlayPluginService extends PluginServiceAbstract {\r\n\tsplitEncounter() {\r\n\t\twindow.OverlayPluginApi.endEncounter();\r\n\t}\r\n\r\n\tgetAuthor() {\r\n\t\treturn (window.OverlayPluginApi && window.OverlayPluginApi.callHandler) ? \"ngld\" : \"hibiyasleep\";\r\n\t}\r\n\r\n\tisNgld() {\r\n\t\treturn (this.getAuthor() === \"ngld\");\r\n\t}\r\n\r\n\tisOverlayPlugin() {\r\n\t\treturn (!!window.OverlayPluginApi);\r\n\t}\r\n\r\n\tcreateMessage(type, key, data) {\r\n\t\tlet call = {\r\n\t\t\tcall : type\r\n\t\t};\r\n\r\n\t\tif (key) {\r\n\t\t\tcall[key] = data;\r\n\r\n\t\t\tcall.key  = key;\r\n\t\t\tcall.data = data;\r\n\t\t}\r\n\r\n\t\treturn JSON.stringify(call);\r\n\t}\r\n}\r\n\r\nexport default OverlayPluginService;","import PluginServiceAbstract from \"./PluginServiceAbstract\";\r\n\r\nclass OverlayProcService extends PluginServiceAbstract {\r\n\tsplitEncounter() {\r\n\t\tthis.socket_service.splitEncounter();\r\n\t}\r\n\r\n\tsubscribe(events) {\r\n\t\tthis.socket_service.subscribe(events);\r\n\t}\r\n\r\n\tunsubscribe(events) {\r\n\t\tthis.socket_service.unsubscribe(events);\r\n\t}\r\n\r\n\tisNgld() {\r\n\t\treturn this.socket_service.isNgld();\r\n\t}\r\n}\r\n\r\nexport default OverlayProcService;","import OverlayPluginService from \"../../services/PluginService/OverlayPluginService\";\r\nimport MessageProcessor from \"../../processors/MessageProcessor\";\r\nimport store from \"../../redux/store/index\";\r\nimport { updateState } from \"../../redux/actions/index\";\r\n\r\nconst querystring = require(\"querystring\");\r\n\r\nconst BASE_RECONNECT_DELAY = 300;\r\n\r\nclass SocketService {\r\n\tconstructor(uri) {\r\n\t\tthis.reconnect_delay = BASE_RECONNECT_DELAY;\r\n\t\tthis.try_for_ngld    = (String(window.location.search).indexOf(\"fake\") === -1);\r\n\t\tthis.uri             = uri || this.processUri();\r\n\t\tthis.plugin_service  = new OverlayPluginService();\r\n\t\tthis.is_connected    = false;\r\n\t\tthis.is_ngld         = false;\r\n\t}\r\n\r\n\tprocessUri() {\r\n\t\tlet params = new querystring.parse(String(window.location.search).substring(1));\r\n\t\tlet uri    = params[\"HOST_PORT\"] || params[\"OVERLAY_WS\"];\r\n\r\n\t\tif (!uri) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet original_uri = uri;\r\n\r\n\t\turi = uri.replace(/\\/$/, \"\");\r\n\r\n\t\t// Redirect to non-SSL host if on SSL and using an insecure socket\r\n\t\tif (window.location.protocol === \"https:\" && uri.split(\":\")[0] === \"ws\" && uri.substring(uri.length - 4) !== \"fake\") {\r\n\t\t\twindow.location.href = `${process.env.REACT_APP_REDIRECT_URL}${process.env.REACT_APP_HTTP_BASE}/` + window.location.search.replace(original_uri, uri);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (this.try_for_ngld && uri.indexOf(\"/ws\") === -1) {\r\n\t\t\turi = uri + \"/ws\";\r\n\t\t} else if (uri.indexOf(\"MiniParse\") === -1 && uri.indexOf(\"/ws\") === -1) {\r\n\t\t\turi = uri + \"/MiniParse\";\r\n\t\t}\r\n\r\n\t\treturn uri;\r\n\t}\r\n\r\n\tinitialize() {\r\n\t\tif (!this.uri || store.getState().internal.overlayplugin) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.socket = new WebSocket(this.uri);\r\n\r\n\t\tthis.resetCallback();\r\n\r\n\t\tthis.socket.onclose = () => { setTimeout(this.reconnect.bind(this), this.reconnect_delay); }\r\n\t\tthis.socket.onopen  = this.connected.bind(this);\r\n\t}\r\n\r\n\treconnect() {\r\n\t\tif (this.try_for_ngld) {\r\n\t\t\tthis.try_for_ngld = false;\r\n\t\t\tthis.uri          = this.processUri();\r\n\t\t}\r\n\r\n\t\tthis.reconnect_delay = Math.min(this.reconnect_delay * 2, 3000);\r\n\r\n\t\tthis.initialize();\r\n\t}\r\n\r\n\tconnected() {\r\n\t\tif (this.try_for_ngld || this.uri.indexOf(\"/ws\") !== -1) {\r\n\t\t\tthis.is_ngld = true;\r\n\r\n\t\t\tstore.getState().plugin_service.plugin_service = this;\r\n\r\n\t\t\tstore.dispatch(updateState({\r\n\t\t\t\tkey   : \"internal.overlayplugin_author\",\r\n\t\t\t\tvalue : \"ngld\"\r\n\t\t\t}));\r\n\t\t}\r\n\r\n\t\tthis.is_connected    = true;\r\n\t\tthis.try_for_ngld    = false;\r\n\t\tthis.reconnect_delay = BASE_RECONNECT_DELAY;\r\n\r\n\t\tthis.setId();\r\n\t\tthis.establishSubscriptions();\r\n\t}\r\n\r\n\tsetId() {\r\n\t\tlet id = Math.random().toString(36).substring(7);\r\n\r\n\t\tthis.id = id;\r\n\r\n\t\tthis.send(\"set_id\", undefined, undefined, undefined, id);\r\n\t}\r\n\r\n\tsubscribe(events) {\r\n\t\tthis.new_events = events;\r\n\r\n\t\treturn (!this.is_connected) ? this.initialize() : this.establishSubscriptions();\r\n\t}\r\n\r\n\tcreateMessage(type, key, data) {\r\n\t\treturn this.plugin_service.createMessage(type, key, data);\r\n\t}\r\n\r\n\testablishSubscriptions() {\r\n\t\tthis.callHandler(\r\n\t\t\tthis.createMessage(\"subscribe\", \"events\", this.new_events)\r\n\t\t);\r\n\t}\r\n\r\n\tunsubscribe(events) {\r\n\t\treturn this.removeSubscriptions(events);\r\n\t}\r\n\r\n\tremoveSubscriptions(events) {\r\n\t\tthis.callHandler(\r\n\t\t\tthis.createMessage(\"unsubscribe\", \"events\", events)\r\n\t\t);\r\n\t}\r\n\r\n\tsplitEncounter() {\r\n\t\tthis.send(\"overlayAPI\", this.id, \"RequestEnd\");\r\n\t}\r\n\r\n\tresetCallback() {\r\n\t\tthis.socket.onmessage = MessageProcessor.processMessage;\r\n\t}\r\n\r\n\tcallHandler(message, callback) {\r\n\t\tif (callback) {\r\n\t\t\tthis.socket.onmessage = callback;\r\n\t\t}\r\n\r\n\t\tthis.socket.send(message);\r\n\t}\r\n\r\n\tsend(type, to, message_type, message, id) {\r\n\t\tif (!this.socket || this.socket.readyState !== 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet data = {\r\n\t\t\ttype    : type,\r\n\t\t\tto      : to,\r\n\t\t\tmsgtype : message_type,\r\n\t\t\tmsg     : message,\r\n\t\t\tid      : id\r\n\t\t};\r\n\r\n\t\tthis.socket.send(JSON.stringify(data));\r\n\t}\r\n\r\n\tisSocketRequested() {\r\n\t\treturn (!!this.uri);\r\n\t}\r\n\r\n\tisNgld() {\r\n\t\treturn this.is_ngld;\r\n\t}\r\n}\r\n\r\nexport default SocketService;","import store from \"../redux/store\";\r\n\r\nimport PluginServiceAbstract from \"./PluginService/PluginServiceAbstract\";\r\nimport OverlayPluginService from \"./PluginService/OverlayPluginService\";\r\nimport OverlayProcService from \"./PluginService/OverlayProcService\";\r\nimport SocketService from \"./PluginService/SocketService\";\r\nimport UsageService from \"./UsageService\";\r\n\r\nclass PluginService extends PluginServiceAbstract {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tlet socket_service        = new SocketService();\r\n\t\tlet overlayplugin_service = new OverlayPluginService();\r\n\t\tlet settings              = {\r\n\t\t\tis_websocket     : socket_service.isSocketRequested(),\r\n\t\t\tis_overlayplugin : overlayplugin_service.isOverlayPlugin(),\r\n\t\t\tis_ngld          : overlayplugin_service.isNgld(),\r\n\t\t\tsocket_service   : socket_service\r\n\t\t};\r\n\t\t\r\n\t\tObject.assign(this, settings);\r\n\r\n\t\tthis.events         = [];\r\n\t\tthis.plugin_service = (this.is_websocket && this.is_overlayplugin)\r\n\t\t\t? socket_service\r\n\t\t\t: ((this.is_overlayplugin)\r\n\t\t\t\t? new OverlayPluginService(settings)\r\n\t\t\t\t: new OverlayProcService(settings)\r\n\t\t\t);\r\n\t}\r\n\r\n\tisConnected() {\r\n\t\treturn this.plugin_service.is_connected;\r\n\t}\r\n\r\n\tsubscribe(events) {\r\n\t\tevents = events || this.getSubscriptions();\r\n\r\n\t\tthis.processSubscriptionAdditions(events);\r\n\r\n\t\tif (this.new_events.length) {\r\n\t\t\tthis.plugin_service.subscribe(this.new_events);\r\n\t\t}\r\n\t}\r\n\r\n\tprocessSubscriptionAdditions(events) {\r\n\t\tevents = events.filter(e => (this.events.indexOf(e) === -1));\r\n\r\n\t\tthis.new_events = events;\r\n\r\n\t\tif (events.length) {\r\n\t\t\tthis.events = this.events.concat(events);\r\n\t\t}\r\n\t}\r\n\r\n\tunsubscribe(events) {\r\n\t\tevents = events || this.getSubscriptions();\r\n\r\n\t\tthis.processSubscriptionRemovals(events);\r\n\r\n\t\tthis.events = events;\r\n\r\n\t\tif (this.old_events.length) {\r\n\t\t\tthis.plugin_service.unsubscribe(this.old_events);\r\n\t\t}\r\n\t}\r\n\r\n\tprocessSubscriptionRemovals(events) {\r\n\t\tevents = this.events.filter(e => (events.indexOf(e) === -1));\r\n\r\n\t\tthis.old_events = events;\r\n\t}\r\n\r\n\tupdateSubscriptions(settings_object) {\r\n\t\tlet events = this.getSubscriptions(settings_object);\r\n\r\n\t\tthis.subscribe(events);\r\n\t\tthis.unsubscribe(events);\r\n\t}\r\n\r\n\tgetSubscriptions(settings_object) {\r\n\t\tlet settings = settings_object || store.getState().settings_data;\r\n\t\tlet data     = {\r\n\t\t\tenmity : UsageService.usingEnmity(settings)\r\n\t\t};\r\n\t\tlet events   = [\r\n\t\t\t\"CombatData\",\r\n\t\t\t\"EnmityAggroList\",\r\n\t\t\t\"ChangePrimaryPlayer\",\r\n\t\t\t\"PartyChanged\"\r\n\t\t];\r\n\r\n\t\tif (data.enmity) {\r\n\t\t\tevents.push(\"EnmityTargetData\");\r\n\t\t}\r\n\r\n\t\treturn events;\r\n\t}\r\n}\r\n\r\nexport default PluginService;","import $ from \"jquery\";\r\n\r\nclass ThemeService {\r\n\tsetTheme(options) {\r\n\t\tfor (let key of Object.keys(options)) {\r\n\t\t\t$(\"body\").toggleClass(key, options[key]);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default new ThemeService();","let SampleGameData = {\r\n\t\"type\": \"CombatData\",\r\n\t\"Encounter\": {\r\n\t\t\"n\": \"\\n\",\r\n\t\t\"t\": \"\\t\",\r\n\t\t\"title\": \"King Thordan\",\r\n\t\t\"duration\": \"03:58\",\r\n\t\t\"DURATION\": \"238\",\r\n\t\t\"damage\": \"1326301\",\r\n\t\t\"damage-m\": \"1.33\",\r\n\t\t\"damage-*\": \"1.33M\",\r\n\t\t\"DAMAGE-k\": \"1326\",\r\n\t\t\"DAMAGE-m\": \"1\",\r\n\t\t\"DAMAGE-b\": \"0\",\r\n\t\t\"DAMAGE-*\": \"1326K\",\r\n\t\t\"dps\": \"5572.69\",\r\n\t\t\"dps-*\": \"dps-*\",\r\n\t\t\"DPS\": \"5573\",\r\n\t\t\"DPS-k\": \"6\",\r\n\t\t\"DPS-m\": \"DPS-m\",\r\n\t\t\"DPS-*\": \"5572\",\r\n\t\t\"encdps\": \"5572.69\",\r\n\t\t\"encdps-*\": \"5.57K\",\r\n\t\t\"ENCDPS\": \"5573\",\r\n\t\t\"ENCDPS-k\": \"6\",\r\n\t\t\"ENCDPS-m\": \"0\",\r\n\t\t\"ENCDPS-*\": \"5572\",\r\n\t\t\"hits\": \"912\",\r\n\t\t\"crithits\": \"128\",\r\n\t\t\"crithit%\": \"0%\",\r\n\t\t\"misses\": \"0\",\r\n\t\t\"hitfailed\": \"7\",\r\n\t\t\"swings\": \"919\",\r\n\t\t\"tohit\": \"NaN\",\r\n\t\t\"TOHIT\": \"NaN\",\r\n\t\t\"maxhit\": \"YOU-Midare Setsugekka-14704\",\r\n\t\t\"MAXHIT\": \"YOU-14704\",\r\n\t\t\"maxhit-*\": \"YOU-Midare Setsugekka-14.70K\",\r\n\t\t\"MAXHIT-*\": \"YOU-14K\",\r\n\t\t\"healed\": \"561136\",\r\n\t\t\"enchps\": \"2357.71\",\r\n\t\t\"enchps-*\": \"2.36K\",\r\n\t\t\"ENCHPS\": \"2358\",\r\n\t\t\"ENCHPS-k\": \"2\",\r\n\t\t\"ENCHPS-m\": \"0\",\r\n\t\t\"ENCHPS-*\": \"2357\",\r\n\t\t\"heals\": \"330\",\r\n\t\t\"critheals\": \"128\",\r\n\t\t\"critheal%\": \"0%\",\r\n\t\t\"cures\": \"0\",\r\n\t\t\"maxheal\": \"Nicolaus Copernicus-Galvanize-7697\",\r\n\t\t\"MAXHEAL\": \"Nicolaus Copernicus-7697\",\r\n\t\t\"maxhealward\": \"Nicolaus Copernicus-Galvanize-7697\",\r\n\t\t\"MAXHEALWARD\": \"Nicolaus Copernicus-7697\",\r\n\t\t\"maxheal-*\": \"Nicolaus Copernicus-Galvanize-7.70K\",\r\n\t\t\"MAXHEAL-*\": \"Nicolaus Copernicus-7697\",\r\n\t\t\"maxhealward-*\": \"Nicolaus Copernicus-Galvanize-7.70K\",\r\n\t\t\"MAXHEALWARD-*\": \"Nicolaus Copernicus-7697\",\r\n\t\t\"damagetaken\": \"212198\",\r\n\t\t\"damagetaken-*\": \"212.20K\",\r\n\t\t\"healstaken\": \"561136\",\r\n\t\t\"healstaken-*\": \"561.14K\",\r\n\t\t\"powerdrain\": \"0\",\r\n\t\t\"powerdrain-*\": \"0\",\r\n\t\t\"powerheal\": \"30100\",\r\n\t\t\"powerheal-*\": \"30.10K\",\r\n\t\t\"kills\": \"0\",\r\n\t\t\"deaths\": \"0\",\r\n\t\t\"CurrentZoneName\": \"The Singularity Reactor\",\r\n\t\t\"Last10DPS\": \"\",\r\n\t\t\"Last30DPS\": \"\",\r\n\t\t\"Last60DPS\": \"\",\r\n\t\t\"name\": \"Encounter\",\r\n\t\t\"Job\": \"ENC\",\r\n\t\t\"OverHealPct\": \"0%\",\r\n\t\t\"BlockPct\": \"0%\",\r\n\t\t\"DirectHitPct\": \"0%\",\r\n\t\t\"CritDirectHitPct\": \"0%\",\r\n\t\t\"damage%\": \"100%\",\r\n\t\t\"healed%\": \"100%\"\r\n\t},\r\n\t\"Combatant\": {\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"n\": \"\\n\",\r\n\t\t\t\"t\": \"\\t\",\r\n\t\t\t\"name\": \"Hattori Hanzo\",\r\n\t\t\t\"duration\": \"03:58\",\r\n\t\t\t\"DURATION\": \"238\",\r\n\t\t\t\"damage\": \"245752\",\r\n\t\t\t\"damage-m\": \"0.25\",\r\n\t\t\t\"damage-b\": \"0.00\",\r\n\t\t\t\"damage-*\": \"245.75K\",\r\n\t\t\t\"DAMAGE-k\": \"246\",\r\n\t\t\t\"DAMAGE-m\": \"0\",\r\n\t\t\t\"DAMAGE-b\": \"0\",\r\n\t\t\t\"DAMAGE-*\": \"245K\",\r\n\t\t\t\"damage%\": \"18%\",\r\n\t\t\t\"dps\": \"1032.57\",\r\n\t\t\t\"dps-*\": \"1.03K\",\r\n\t\t\t\"DPS\": \"1033\",\r\n\t\t\t\"DPS-k\": \"1\",\r\n\t\t\t\"DPS-m\": \"0\",\r\n\t\t\t\"DPS-*\": \"1032\",\r\n\t\t\t\"encdps\": \"1032.57\",\r\n\t\t\t\"encdps-*\": \"1.03K\",\r\n\t\t\t\"ENCDPS\": \"1033\",\r\n\t\t\t\"ENCDPS-k\": \"1\",\r\n\t\t\t\"ENCDPS-m\": \"0\",\r\n\t\t\t\"ENCDPS-*\": \"1032\",\r\n\t\t\t\"hits\": \"120\",\r\n\t\t\t\"crithits\": \"14\",\r\n\t\t\t\"crithit%\": \"12%\",\r\n\t\t\t\"crittypes\": \"0.0%L - 0.0%F - 0.0%M\",\r\n\t\t\t\"misses\": \"0\",\r\n\t\t\t\"hitfailed\": \"0\",\r\n\t\t\t\"swings\": \"120\",\r\n\t\t\t\"tohit\": \"100.00\",\r\n\t\t\t\"TOHIT\": \"100\",\r\n\t\t\t\"maxhit\": \"Raiton-8908\",\r\n\t\t\t\"MAXHIT\": \"8908\",\r\n\t\t\t\"maxhit-*\": \"Raiton-8.91K\",\r\n\t\t\t\"MAXHIT-*\": \"8908\",\r\n\t\t\t\"healed\": \"0\",\r\n\t\t\t\"healed%\": \"0%\",\r\n\t\t\t\"enchps\": \"0.00\",\r\n\t\t\t\"enchps-*\": \"0\",\r\n\t\t\t\"ENCHPS\": \"0\",\r\n\t\t\t\"ENCHPS-k\": \"0\",\r\n\t\t\t\"ENCHPS-m\": \"0\",\r\n\t\t\t\"ENCHPS-*\": \"0\",\r\n\t\t\t\"critheals\": \"0\",\r\n\t\t\t\"critheal%\": \"0%\",\r\n\t\t\t\"heals\": \"0\",\r\n\t\t\t\"cures\": \"0\",\r\n\t\t\t\"maxheal\": \"\",\r\n\t\t\t\"MAXHEAL\": \"\",\r\n\t\t\t\"maxhealward\": \"\",\r\n\t\t\t\"MAXHEALWARD\": \"\",\r\n\t\t\t\"maxheal-*\": \"\",\r\n\t\t\t\"MAXHEAL-*\": \"\",\r\n\t\t\t\"maxhealward-*\": \"\",\r\n\t\t\t\"MAXHEALWARD-*\": \"\",\r\n\t\t\t\"damagetaken\": \"26141\",\r\n\t\t\t\"damagetaken-*\": \"26.14K\",\r\n\t\t\t\"healstaken\": \"54975\",\r\n\t\t\t\"healstaken-*\": \"54.98K\",\r\n\t\t\t\"powerdrain\": \"0\",\r\n\t\t\t\"powerdrain-*\": \"0\",\r\n\t\t\t\"powerheal\": \"0\",\r\n\t\t\t\"powerheal-*\": \"0\",\r\n\t\t\t\"kills\": \"0\",\r\n\t\t\t\"deaths\": \"0\",\r\n\t\t\t\"threatstr\": \"+(0)0/-(0)0\",\r\n\t\t\t\"threatdelta\": \"0\",\r\n\t\t\t\"Last10DPS\": \"0\",\r\n\t\t\t\"Last30DPS\": \"660\",\r\n\t\t\t\"Last60DPS\": \"371\",\r\n\t\t\t\"Job\": \"Nin\",\r\n\t\t\t\"ParryPct\": \"0%\",\r\n\t\t\t\"BlockPct\": \"0%\",\r\n\t\t\t\"IncToHit\": \"100.00\",\r\n\t\t\t\"OverHealPct\": \"0%\",\r\n\t\t\t\"DirectHitPct\": \"22%\",\r\n\t\t\t\"DirectHitCount\": \"26\",\r\n\t\t\t\"CritDirectHitCount\": \"4\",\r\n\t\t\t\"CritDirectHitPct\": \"3%\",\r\n\t\t\t\"overHeal\": \"0\",\r\n\t\t\t\"damageShield\": \"0\",\r\n\t\t\t\"absorbHeal\": \"0\",\r\n\t\t\t\"max_enc_dps\": 2653.87,\r\n\t\t\t\"enmity_percent\": \"13.00\"\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"n\": \"\\n\",\r\n\t\t\t\"t\": \"\\t\",\r\n\t\t\t\"name\": \"YOU\",\r\n\t\t\t\"duration\": \"03:56\",\r\n\t\t\t\"DURATION\": \"236\",\r\n\t\t\t\"damage\": \"235206\",\r\n\t\t\t\"damage-m\": \"0.24\",\r\n\t\t\t\"damage-b\": \"0.00\",\r\n\t\t\t\"damage-*\": \"235.21K\",\r\n\t\t\t\"DAMAGE-k\": \"235\",\r\n\t\t\t\"DAMAGE-m\": \"0\",\r\n\t\t\t\"DAMAGE-b\": \"0\",\r\n\t\t\t\"DAMAGE-*\": \"235K\",\r\n\t\t\t\"damage%\": \"17%\",\r\n\t\t\t\"dps\": \"996.64\",\r\n\t\t\t\"dps-*\": \"996\",\r\n\t\t\t\"DPS\": \"997\",\r\n\t\t\t\"DPS-k\": \"1\",\r\n\t\t\t\"DPS-m\": \"0\",\r\n\t\t\t\"DPS-*\": \"996\",\r\n\t\t\t\"encdps\": \"988.26\",\r\n\t\t\t\"encdps-*\": \"988\",\r\n\t\t\t\"ENCDPS\": \"988\",\r\n\t\t\t\"ENCDPS-k\": \"1\",\r\n\t\t\t\"ENCDPS-m\": \"0\",\r\n\t\t\t\"ENCDPS-*\": \"988\",\r\n\t\t\t\"hits\": \"105\",\r\n\t\t\t\"crithits\": \"23\",\r\n\t\t\t\"crithit%\": \"22%\",\r\n\t\t\t\"crittypes\": \"0.0%L - 0.0%F - 0.0%M\",\r\n\t\t\t\"misses\": \"0\",\r\n\t\t\t\"hitfailed\": \"0\",\r\n\t\t\t\"swings\": \"105\",\r\n\t\t\t\"tohit\": \"100.00\",\r\n\t\t\t\"TOHIT\": \"100\",\r\n\t\t\t\"maxhit\": \"Midare Setsugekka-14704\",\r\n\t\t\t\"MAXHIT\": \"14704\",\r\n\t\t\t\"maxhit-*\": \"Midare Setsugekka-14.70K\",\r\n\t\t\t\"MAXHIT-*\": \"14K\",\r\n\t\t\t\"healed\": \"0\",\r\n\t\t\t\"healed%\": \"0%\",\r\n\t\t\t\"enchps\": \"0.00\",\r\n\t\t\t\"enchps-*\": \"0\",\r\n\t\t\t\"ENCHPS\": \"0\",\r\n\t\t\t\"ENCHPS-k\": \"0\",\r\n\t\t\t\"ENCHPS-m\": \"0\",\r\n\t\t\t\"ENCHPS-*\": \"0\",\r\n\t\t\t\"critheals\": \"0\",\r\n\t\t\t\"critheal%\": \"0%\",\r\n\t\t\t\"heals\": \"0\",\r\n\t\t\t\"cures\": \"0\",\r\n\t\t\t\"maxheal\": \"\",\r\n\t\t\t\"MAXHEAL\": \"\",\r\n\t\t\t\"maxhealward\": \"\",\r\n\t\t\t\"MAXHEALWARD\": \"\",\r\n\t\t\t\"maxheal-*\": \"\",\r\n\t\t\t\"MAXHEAL-*\": \"\",\r\n\t\t\t\"maxhealward-*\": \"\",\r\n\t\t\t\"MAXHEALWARD-*\": \"\",\r\n\t\t\t\"damagetaken\": \"31935\",\r\n\t\t\t\"damagetaken-*\": \"31.94K\",\r\n\t\t\t\"healstaken\": \"62240\",\r\n\t\t\t\"healstaken-*\": \"62.24K\",\r\n\t\t\t\"powerdrain\": \"0\",\r\n\t\t\t\"powerdrain-*\": \"0\",\r\n\t\t\t\"powerheal\": \"0\",\r\n\t\t\t\"powerheal-*\": \"0\",\r\n\t\t\t\"kills\": \"0\",\r\n\t\t\t\"deaths\": \"0\",\r\n\t\t\t\"threatstr\": \"+(0)0/-(0)0\",\r\n\t\t\t\"threatdelta\": \"0\",\r\n\t\t\t\"Last10DPS\": \"0\",\r\n\t\t\t\"Last30DPS\": \"248\",\r\n\t\t\t\"Last60DPS\": \"124\",\r\n\t\t\t\"Job\": \"Sam\",\r\n\t\t\t\"ParryPct\": \"0%\",\r\n\t\t\t\"BlockPct\": \"0%\",\r\n\t\t\t\"IncToHit\": \"100.00\",\r\n\t\t\t\"OverHealPct\": \"0%\",\r\n\t\t\t\"DirectHitPct\": \"35%\",\r\n\t\t\t\"DirectHitCount\": \"37\",\r\n\t\t\t\"CritDirectHitCount\": \"7\",\r\n\t\t\t\"CritDirectHitPct\": \"7%\",\r\n\t\t\t\"overHeal\": \"0\",\r\n\t\t\t\"damageShield\": \"0\",\r\n\t\t\t\"absorbHeal\": \"0\",\r\n\t\t\t\"max_enc_dps\": 2463.91,\r\n\t\t\t\"enmity_percent\": \"12.00\"\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"n\": \"\\n\",\r\n\t\t\t\"t\": \"\\t\",\r\n\t\t\t\"name\": \"Lindsey Stirling\",\r\n\t\t\t\"duration\": \"04:00\",\r\n\t\t\t\"DURATION\": \"240\",\r\n\t\t\t\"damage\": \"207557\",\r\n\t\t\t\"damage-m\": \"0.21\",\r\n\t\t\t\"damage-b\": \"0.00\",\r\n\t\t\t\"damage-*\": \"207.56K\",\r\n\t\t\t\"DAMAGE-k\": \"208\",\r\n\t\t\t\"DAMAGE-m\": \"0\",\r\n\t\t\t\"DAMAGE-b\": \"0\",\r\n\t\t\t\"DAMAGE-*\": \"207K\",\r\n\t\t\t\"damage%\": \"15%\",\r\n\t\t\t\"dps\": \"864.82\",\r\n\t\t\t\"dps-*\": \"864\",\r\n\t\t\t\"DPS\": \"865\",\r\n\t\t\t\"DPS-k\": \"1\",\r\n\t\t\t\"DPS-m\": \"0\",\r\n\t\t\t\"DPS-*\": \"864\",\r\n\t\t\t\"encdps\": \"872.09\",\r\n\t\t\t\"encdps-*\": \"872\",\r\n\t\t\t\"ENCDPS\": \"872\",\r\n\t\t\t\"ENCDPS-k\": \"1\",\r\n\t\t\t\"ENCDPS-m\": \"0\",\r\n\t\t\t\"ENCDPS-*\": \"872\",\r\n\t\t\t\"hits\": \"197\",\r\n\t\t\t\"crithits\": \"20\",\r\n\t\t\t\"crithit%\": \"10%\",\r\n\t\t\t\"crittypes\": \"0.0%L - 0.0%F - 0.0%M\",\r\n\t\t\t\"misses\": \"0\",\r\n\t\t\t\"hitfailed\": \"0\",\r\n\t\t\t\"swings\": \"197\",\r\n\t\t\t\"tohit\": \"100.00\",\r\n\t\t\t\"TOHIT\": \"100\",\r\n\t\t\t\"maxhit\": \"Straight Shot-3124\",\r\n\t\t\t\"MAXHIT\": \"3124\",\r\n\t\t\t\"maxhit-*\": \"Straight Shot-3.12K\",\r\n\t\t\t\"MAXHIT-*\": \"3124\",\r\n\t\t\t\"healed\": \"0\",\r\n\t\t\t\"healed%\": \"0%\",\r\n\t\t\t\"enchps\": \"0.00\",\r\n\t\t\t\"enchps-*\": \"0\",\r\n\t\t\t\"ENCHPS\": \"0\",\r\n\t\t\t\"ENCHPS-k\": \"0\",\r\n\t\t\t\"ENCHPS-m\": \"0\",\r\n\t\t\t\"ENCHPS-*\": \"0\",\r\n\t\t\t\"critheals\": \"0\",\r\n\t\t\t\"critheal%\": \"0%\",\r\n\t\t\t\"heals\": \"0\",\r\n\t\t\t\"cures\": \"0\",\r\n\t\t\t\"maxheal\": \"\",\r\n\t\t\t\"MAXHEAL\": \"\",\r\n\t\t\t\"maxhealward\": \"\",\r\n\t\t\t\"MAXHEALWARD\": \"\",\r\n\t\t\t\"maxheal-*\": \"\",\r\n\t\t\t\"MAXHEAL-*\": \"\",\r\n\t\t\t\"maxhealward-*\": \"\",\r\n\t\t\t\"MAXHEALWARD-*\": \"\",\r\n\t\t\t\"damagetaken\": \"18697\",\r\n\t\t\t\"damagetaken-*\": \"18.70K\",\r\n\t\t\t\"healstaken\": \"56482\",\r\n\t\t\t\"healstaken-*\": \"56.48K\",\r\n\t\t\t\"powerdrain\": \"0\",\r\n\t\t\t\"powerdrain-*\": \"0\",\r\n\t\t\t\"powerheal\": \"0\",\r\n\t\t\t\"powerheal-*\": \"0\",\r\n\t\t\t\"kills\": \"0\",\r\n\t\t\t\"deaths\": \"0\",\r\n\t\t\t\"threatstr\": \"+(0)0/-(0)0\",\r\n\t\t\t\"threatdelta\": \"0\",\r\n\t\t\t\"Last10DPS\": \"0\",\r\n\t\t\t\"Last30DPS\": \"325\",\r\n\t\t\t\"Last60DPS\": \"287\",\r\n\t\t\t\"Job\": \"Brd\",\r\n\t\t\t\"ParryPct\": \"0%\",\r\n\t\t\t\"BlockPct\": \"0%\",\r\n\t\t\t\"IncToHit\": \"100.00\",\r\n\t\t\t\"OverHealPct\": \"0%\",\r\n\t\t\t\"DirectHitPct\": \"26%\",\r\n\t\t\t\"DirectHitCount\": \"51\",\r\n\t\t\t\"CritDirectHitCount\": \"7\",\r\n\t\t\t\"CritDirectHitPct\": \"4%\",\r\n\t\t\t\"overHeal\": \"0\",\r\n\t\t\t\"damageShield\": \"0\",\r\n\t\t\t\"absorbHeal\": \"0\",\r\n\t\t\t\"max_enc_dps\": 1769.63,\r\n\t\t\t\"enmity_percent\": \"9.00\"\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"n\": \"\\n\",\r\n\t\t\t\"t\": \"\\t\",\r\n\t\t\t\"name\": \"Beedle\",\r\n\t\t\t\"duration\": \"04:02\",\r\n\t\t\t\"DURATION\": \"242\",\r\n\t\t\t\"damage\": \"188946\",\r\n\t\t\t\"damage-m\": \"0.19\",\r\n\t\t\t\"damage-b\": \"0.00\",\r\n\t\t\t\"damage-*\": \"188.95K\",\r\n\t\t\t\"DAMAGE-k\": \"189\",\r\n\t\t\t\"DAMAGE-m\": \"0\",\r\n\t\t\t\"DAMAGE-b\": \"0\",\r\n\t\t\t\"DAMAGE-*\": \"188K\",\r\n\t\t\t\"damage%\": \"14%\",\r\n\t\t\t\"dps\": \"780.77\",\r\n\t\t\t\"dps-*\": \"780\",\r\n\t\t\t\"DPS\": \"781\",\r\n\t\t\t\"DPS-k\": \"1\",\r\n\t\t\t\"DPS-m\": \"0\",\r\n\t\t\t\"DPS-*\": \"780\",\r\n\t\t\t\"encdps\": \"793.89\",\r\n\t\t\t\"encdps-*\": \"793\",\r\n\t\t\t\"ENCDPS\": \"794\",\r\n\t\t\t\"ENCDPS-k\": \"1\",\r\n\t\t\t\"ENCDPS-m\": \"0\",\r\n\t\t\t\"ENCDPS-*\": \"793\",\r\n\t\t\t\"hits\": \"192\",\r\n\t\t\t\"crithits\": \"35\",\r\n\t\t\t\"crithit%\": \"18%\",\r\n\t\t\t\"crittypes\": \"0.0%L - 0.0%F - 0.0%M\",\r\n\t\t\t\"misses\": \"0\",\r\n\t\t\t\"hitfailed\": \"0\",\r\n\t\t\t\"swings\": \"192\",\r\n\t\t\t\"tohit\": \"100.00\",\r\n\t\t\t\"TOHIT\": \"100\",\r\n\t\t\t\"maxhit\": \"Empyreal Arrow-3902\",\r\n\t\t\t\"MAXHIT\": \"3902\",\r\n\t\t\t\"maxhit-*\": \"Empyreal Arrow-3.90K\",\r\n\t\t\t\"MAXHIT-*\": \"3902\",\r\n\t\t\t\"healed\": \"0\",\r\n\t\t\t\"healed%\": \"0%\",\r\n\t\t\t\"enchps\": \"0.00\",\r\n\t\t\t\"enchps-*\": \"0\",\r\n\t\t\t\"ENCHPS\": \"0\",\r\n\t\t\t\"ENCHPS-k\": \"0\",\r\n\t\t\t\"ENCHPS-m\": \"0\",\r\n\t\t\t\"ENCHPS-*\": \"0\",\r\n\t\t\t\"critheals\": \"0\",\r\n\t\t\t\"critheal%\": \"0%\",\r\n\t\t\t\"heals\": \"0\",\r\n\t\t\t\"cures\": \"0\",\r\n\t\t\t\"maxheal\": \"\",\r\n\t\t\t\"MAXHEAL\": \"\",\r\n\t\t\t\"maxhealward\": \"\",\r\n\t\t\t\"MAXHEALWARD\": \"\",\r\n\t\t\t\"maxheal-*\": \"\",\r\n\t\t\t\"MAXHEAL-*\": \"\",\r\n\t\t\t\"maxhealward-*\": \"\",\r\n\t\t\t\"MAXHEALWARD-*\": \"\",\r\n\t\t\t\"damagetaken\": \"28198\",\r\n\t\t\t\"damagetaken-*\": \"28.20K\",\r\n\t\t\t\"healstaken\": \"61864\",\r\n\t\t\t\"healstaken-*\": \"61.86K\",\r\n\t\t\t\"powerdrain\": \"0\",\r\n\t\t\t\"powerdrain-*\": \"0\",\r\n\t\t\t\"powerheal\": \"0\",\r\n\t\t\t\"powerheal-*\": \"0\",\r\n\t\t\t\"kills\": \"0\",\r\n\t\t\t\"deaths\": \"0\",\r\n\t\t\t\"threatstr\": \"+(0)0/-(0)0\",\r\n\t\t\t\"threatdelta\": \"0\",\r\n\t\t\t\"Last10DPS\": \"0\",\r\n\t\t\t\"Last30DPS\": \"237\",\r\n\t\t\t\"Last60DPS\": \"134\",\r\n\t\t\t\"Job\": \"Brd\",\r\n\t\t\t\"ParryPct\": \"100%\",\r\n\t\t\t\"BlockPct\": \"0%\",\r\n\t\t\t\"IncToHit\": \"100.00\",\r\n\t\t\t\"OverHealPct\": \"0%\",\r\n\t\t\t\"DirectHitPct\": \"15%\",\r\n\t\t\t\"DirectHitCount\": \"28\",\r\n\t\t\t\"CritDirectHitCount\": \"4\",\r\n\t\t\t\"CritDirectHitPct\": \"2%\",\r\n\t\t\t\"overHeal\": \"0\",\r\n\t\t\t\"damageShield\": \"0\",\r\n\t\t\t\"absorbHeal\": \"0\",\r\n\t\t\t\"max_enc_dps\": 1847.35,\r\n\t\t\t\"enmity_percent\": \"9.00\"\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"n\": \"\\n\",\r\n\t\t\t\"t\": \"\\t\",\r\n\t\t\t\"name\": \"Uther\",\r\n\t\t\t\"duration\": \"03:58\",\r\n\t\t\t\"DURATION\": \"238\",\r\n\t\t\t\"damage\": \"177958\",\r\n\t\t\t\"damage-m\": \"0.18\",\r\n\t\t\t\"damage-b\": \"0.00\",\r\n\t\t\t\"damage-*\": \"177.96K\",\r\n\t\t\t\"DAMAGE-k\": \"178\",\r\n\t\t\t\"DAMAGE-m\": \"0\",\r\n\t\t\t\"DAMAGE-b\": \"0\",\r\n\t\t\t\"DAMAGE-*\": \"177K\",\r\n\t\t\t\"damage%\": \"13%\",\r\n\t\t\t\"dps\": \"747.72\",\r\n\t\t\t\"dps-*\": \"747\",\r\n\t\t\t\"DPS\": \"748\",\r\n\t\t\t\"DPS-k\": \"1\",\r\n\t\t\t\"DPS-m\": \"0\",\r\n\t\t\t\"DPS-*\": \"747\",\r\n\t\t\t\"encdps\": \"747.72\",\r\n\t\t\t\"encdps-*\": \"747\",\r\n\t\t\t\"ENCDPS\": \"748\",\r\n\t\t\t\"ENCDPS-k\": \"1\",\r\n\t\t\t\"ENCDPS-m\": \"0\",\r\n\t\t\t\"ENCDPS-*\": \"747\",\r\n\t\t\t\"hits\": \"143\",\r\n\t\t\t\"crithits\": \"20\",\r\n\t\t\t\"crithit%\": \"14%\",\r\n\t\t\t\"crittypes\": \"0.0%L - 0.0%F - 0.0%M\",\r\n\t\t\t\"misses\": \"0\",\r\n\t\t\t\"hitfailed\": \"0\",\r\n\t\t\t\"swings\": \"143\",\r\n\t\t\t\"tohit\": \"100.00\",\r\n\t\t\t\"TOHIT\": \"100\",\r\n\t\t\t\"maxhit\": \"Royal Authority-6755\",\r\n\t\t\t\"MAXHIT\": \"6755\",\r\n\t\t\t\"maxhit-*\": \"Royal Authority-6.76K\",\r\n\t\t\t\"MAXHIT-*\": \"6755\",\r\n\t\t\t\"healed\": \"0\",\r\n\t\t\t\"healed%\": \"0%\",\r\n\t\t\t\"enchps\": \"0.00\",\r\n\t\t\t\"enchps-*\": \"0\",\r\n\t\t\t\"ENCHPS\": \"0\",\r\n\t\t\t\"ENCHPS-k\": \"0\",\r\n\t\t\t\"ENCHPS-m\": \"0\",\r\n\t\t\t\"ENCHPS-*\": \"0\",\r\n\t\t\t\"critheals\": \"0\",\r\n\t\t\t\"critheal%\": \"0%\",\r\n\t\t\t\"heals\": \"0\",\r\n\t\t\t\"cures\": \"0\",\r\n\t\t\t\"maxheal\": \"\",\r\n\t\t\t\"MAXHEAL\": \"\",\r\n\t\t\t\"maxhealward\": \"\",\r\n\t\t\t\"MAXHEALWARD\": \"\",\r\n\t\t\t\"maxheal-*\": \"\",\r\n\t\t\t\"MAXHEAL-*\": \"\",\r\n\t\t\t\"maxhealward-*\": \"\",\r\n\t\t\t\"MAXHEALWARD-*\": \"\",\r\n\t\t\t\"damagetaken\": \"19498\",\r\n\t\t\t\"damagetaken-*\": \"19.50K\",\r\n\t\t\t\"healstaken\": \"78112\",\r\n\t\t\t\"healstaken-*\": \"78.11K\",\r\n\t\t\t\"powerdrain\": \"0\",\r\n\t\t\t\"powerdrain-*\": \"0\",\r\n\t\t\t\"powerheal\": \"15500\",\r\n\t\t\t\"powerheal-*\": \"15.50K\",\r\n\t\t\t\"kills\": \"0\",\r\n\t\t\t\"deaths\": \"0\",\r\n\t\t\t\"threatstr\": \"+(0)0/-(0)0\",\r\n\t\t\t\"threatdelta\": \"0\",\r\n\t\t\t\"Last10DPS\": \"0\",\r\n\t\t\t\"Last30DPS\": \"367\",\r\n\t\t\t\"Last60DPS\": \"221\",\r\n\t\t\t\"Job\": \"Pld\",\r\n\t\t\t\"ParryPct\": \"3%\",\r\n\t\t\t\"BlockPct\": \"41%\",\r\n\t\t\t\"IncToHit\": \"100.00\",\r\n\t\t\t\"OverHealPct\": \"0%\",\r\n\t\t\t\"DirectHitPct\": \"25%\",\r\n\t\t\t\"DirectHitCount\": \"35\",\r\n\t\t\t\"CritDirectHitCount\": \"2\",\r\n\t\t\t\"CritDirectHitPct\": \"1%\",\r\n\t\t\t\"overHeal\": \"0\",\r\n\t\t\t\"damageShield\": \"0\",\r\n\t\t\t\"absorbHeal\": \"0\",\r\n\t\t\t\"max_enc_dps\": 1917.07,\r\n\t\t\t\"enmity_percent\": \"100.00\"\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"n\": \"\\n\",\r\n\t\t\t\"t\": \"\\t\",\r\n\t\t\t\"name\": \"Ashor\",\r\n\t\t\t\"duration\": \"03:54\",\r\n\t\t\t\"DURATION\": \"234\",\r\n\t\t\t\"damage\": \"174040\",\r\n\t\t\t\"damage-m\": \"0.17\",\r\n\t\t\t\"damage-b\": \"0.00\",\r\n\t\t\t\"damage-*\": \"174.04K\",\r\n\t\t\t\"DAMAGE-k\": \"174\",\r\n\t\t\t\"DAMAGE-m\": \"0\",\r\n\t\t\t\"DAMAGE-b\": \"0\",\r\n\t\t\t\"DAMAGE-*\": \"174K\",\r\n\t\t\t\"damage%\": \"13%\",\r\n\t\t\t\"dps\": \"743.76\",\r\n\t\t\t\"dps-*\": \"743\",\r\n\t\t\t\"DPS\": \"744\",\r\n\t\t\t\"DPS-k\": \"1\",\r\n\t\t\t\"DPS-m\": \"0\",\r\n\t\t\t\"DPS-*\": \"743\",\r\n\t\t\t\"encdps\": \"731.26\",\r\n\t\t\t\"encdps-*\": \"731\",\r\n\t\t\t\"ENCDPS\": \"731\",\r\n\t\t\t\"ENCDPS-k\": \"1\",\r\n\t\t\t\"ENCDPS-m\": \"0\",\r\n\t\t\t\"ENCDPS-*\": \"731\",\r\n\t\t\t\"hits\": \"100\",\r\n\t\t\t\"crithits\": \"12\",\r\n\t\t\t\"crithit%\": \"12%\",\r\n\t\t\t\"crittypes\": \"0.0%L - 0.0%F - 0.0%M\",\r\n\t\t\t\"misses\": \"0\",\r\n\t\t\t\"hitfailed\": \"0\",\r\n\t\t\t\"swings\": \"100\",\r\n\t\t\t\"tohit\": \"100.00\",\r\n\t\t\t\"TOHIT\": \"100\",\r\n\t\t\t\"maxhit\": \"Souleater-5231\",\r\n\t\t\t\"MAXHIT\": \"5231\",\r\n\t\t\t\"maxhit-*\": \"Souleater-5.23K\",\r\n\t\t\t\"MAXHIT-*\": \"5231\",\r\n\t\t\t\"healed\": \"33148\",\r\n\t\t\t\"healed%\": \"5%\",\r\n\t\t\t\"enchps\": \"139.28\",\r\n\t\t\t\"enchps-*\": \"139\",\r\n\t\t\t\"ENCHPS\": \"139\",\r\n\t\t\t\"ENCHPS-k\": \"0\",\r\n\t\t\t\"ENCHPS-m\": \"0\",\r\n\t\t\t\"ENCHPS-*\": \"139\",\r\n\t\t\t\"critheals\": \"4\",\r\n\t\t\t\"critheal%\": \"31%\",\r\n\t\t\t\"heals\": \"13\",\r\n\t\t\t\"cures\": \"0\",\r\n\t\t\t\"maxheal\": \"Souleater-3503\",\r\n\t\t\t\"MAXHEAL\": \"3503\",\r\n\t\t\t\"maxhealward\": \"Souleater-3503\",\r\n\t\t\t\"MAXHEALWARD\": \"3503\",\r\n\t\t\t\"maxheal-*\": \"Souleater-3.50K\",\r\n\t\t\t\"MAXHEAL-*\": \"3.50K\",\r\n\t\t\t\"maxhealward-*\": \"Souleater-3.50K\",\r\n\t\t\t\"MAXHEALWARD-*\": \"3.50K\",\r\n\t\t\t\"damagetaken\": \"31348\",\r\n\t\t\t\"damagetaken-*\": \"31.35K\",\r\n\t\t\t\"healstaken\": \"84451\",\r\n\t\t\t\"healstaken-*\": \"84.45K\",\r\n\t\t\t\"powerdrain\": \"0\",\r\n\t\t\t\"powerdrain-*\": \"0\",\r\n\t\t\t\"powerheal\": \"12600\",\r\n\t\t\t\"powerheal-*\": \"12.60K\",\r\n\t\t\t\"kills\": \"0\",\r\n\t\t\t\"deaths\": \"0\",\r\n\t\t\t\"threatstr\": \"+(0)0/-(0)0\",\r\n\t\t\t\"threatdelta\": \"0\",\r\n\t\t\t\"Last10DPS\": \"0\",\r\n\t\t\t\"Last30DPS\": \"555\",\r\n\t\t\t\"Last60DPS\": \"336\",\r\n\t\t\t\"Job\": \"Drk\",\r\n\t\t\t\"ParryPct\": \"100%\",\r\n\t\t\t\"BlockPct\": \"0%\",\r\n\t\t\t\"IncToHit\": \"100.00\",\r\n\t\t\t\"OverHealPct\": \"0%\",\r\n\t\t\t\"DirectHitPct\": \"27%\",\r\n\t\t\t\"DirectHitCount\": \"27\",\r\n\t\t\t\"CritDirectHitCount\": \"3\",\r\n\t\t\t\"CritDirectHitPct\": \"3%\",\r\n\t\t\t\"overHeal\": \"0\",\r\n\t\t\t\"damageShield\": \"0\",\r\n\t\t\t\"absorbHeal\": \"0\",\r\n\t\t\t\"max_enc_dps\": 1711.77,\r\n\t\t\t\"enmity_percent\": \"20.00\"\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"n\": \"\\n\",\r\n\t\t\t\"t\": \"\\t\",\r\n\t\t\t\"name\": \"Sigmund Freud\",\r\n\t\t\t\"duration\": \"04:03\",\r\n\t\t\t\"DURATION\": \"243\",\r\n\t\t\t\"damage\": \"96842\",\r\n\t\t\t\"damage-m\": \"0.10\",\r\n\t\t\t\"damage-b\": \"0.00\",\r\n\t\t\t\"damage-*\": \"96.84K\",\r\n\t\t\t\"DAMAGE-k\": \"97\",\r\n\t\t\t\"DAMAGE-m\": \"0\",\r\n\t\t\t\"DAMAGE-b\": \"0\",\r\n\t\t\t\"DAMAGE-*\": \"96K\",\r\n\t\t\t\"damage%\": \"7%\",\r\n\t\t\t\"dps\": \"398.53\",\r\n\t\t\t\"dps-*\": \"398\",\r\n\t\t\t\"DPS\": \"399\",\r\n\t\t\t\"DPS-k\": \"0\",\r\n\t\t\t\"DPS-m\": \"0\",\r\n\t\t\t\"DPS-*\": \"398\",\r\n\t\t\t\"encdps\": \"406.90\",\r\n\t\t\t\"encdps-*\": \"406\",\r\n\t\t\t\"ENCDPS\": \"407\",\r\n\t\t\t\"ENCDPS-k\": \"0\",\r\n\t\t\t\"ENCDPS-m\": \"0\",\r\n\t\t\t\"ENCDPS-*\": \"406\",\r\n\t\t\t\"hits\": \"55\",\r\n\t\t\t\"crithits\": \"4\",\r\n\t\t\t\"crithit%\": \"7%\",\r\n\t\t\t\"crittypes\": \"0.0%L - 0.0%F - 0.0%M\",\r\n\t\t\t\"misses\": \"0\",\r\n\t\t\t\"hitfailed\": \"7\",\r\n\t\t\t\"swings\": \"62\",\r\n\t\t\t\"tohit\": \"88.71\",\r\n\t\t\t\"TOHIT\": \"89\",\r\n\t\t\t\"maxhit\": \"Broil-5278\",\r\n\t\t\t\"MAXHIT\": \"5278\",\r\n\t\t\t\"maxhit-*\": \"Broil-5.28K\",\r\n\t\t\t\"MAXHIT-*\": \"5278\",\r\n\t\t\t\"healed\": \"196901\",\r\n\t\t\t\"healed%\": \"35%\",\r\n\t\t\t\"enchps\": \"827.32\",\r\n\t\t\t\"enchps-*\": \"827\",\r\n\t\t\t\"ENCHPS\": \"827\",\r\n\t\t\t\"ENCHPS-k\": \"1\",\r\n\t\t\t\"ENCHPS-m\": \"0\",\r\n\t\t\t\"ENCHPS-*\": \"827\",\r\n\t\t\t\"critheals\": \"17\",\r\n\t\t\t\"critheal%\": \"13%\",\r\n\t\t\t\"heals\": \"131\",\r\n\t\t\t\"cures\": \"0\",\r\n\t\t\t\"maxheal\": \"Galvanize-5463\",\r\n\t\t\t\"MAXHEAL\": \"5463\",\r\n\t\t\t\"maxhealward\": \"Galvanize-5463\",\r\n\t\t\t\"MAXHEALWARD\": \"5463\",\r\n\t\t\t\"maxheal-*\": \"Galvanize-5.46K\",\r\n\t\t\t\"MAXHEAL-*\": \"5.46K\",\r\n\t\t\t\"maxhealward-*\": \"Galvanize-5.46K\",\r\n\t\t\t\"MAXHEALWARD-*\": \"5.46K\",\r\n\t\t\t\"damagetaken\": \"17438\",\r\n\t\t\t\"damagetaken-*\": \"17.44K\",\r\n\t\t\t\"healstaken\": \"75568\",\r\n\t\t\t\"healstaken-*\": \"75.57K\",\r\n\t\t\t\"powerdrain\": \"0\",\r\n\t\t\t\"powerdrain-*\": \"0\",\r\n\t\t\t\"powerheal\": \"1000\",\r\n\t\t\t\"powerheal-*\": \"1.00K\",\r\n\t\t\t\"kills\": \"0\",\r\n\t\t\t\"deaths\": \"0\",\r\n\t\t\t\"threatstr\": \"+(0)0/-(0)0\",\r\n\t\t\t\"threatdelta\": \"0\",\r\n\t\t\t\"Last10DPS\": \"0\",\r\n\t\t\t\"Last30DPS\": \"167\",\r\n\t\t\t\"Last60DPS\": \"84\",\r\n\t\t\t\"Job\": \"Sch\",\r\n\t\t\t\"ParryPct\": \"0%\",\r\n\t\t\t\"BlockPct\": \"0%\",\r\n\t\t\t\"IncToHit\": \"77.14\",\r\n\t\t\t\"OverHealPct\": \"66%\",\r\n\t\t\t\"DirectHitPct\": \"0%\",\r\n\t\t\t\"DirectHitCount\": \"0\",\r\n\t\t\t\"CritDirectHitCount\": \"0\",\r\n\t\t\t\"CritDirectHitPct\": \"0%\",\r\n\t\t\t\"overHeal\": \"126426\",\r\n\t\t\t\"damageShield\": \"5463\",\r\n\t\t\t\"absorbHeal\": \"0\",\r\n\t\t\t\"max_enc_dps\": 1258.43,\r\n\t\t\t\"enmity_percent\": \"9.00\"\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"n\": \"\\n\",\r\n\t\t\t\"t\": \"\\t\",\r\n\t\t\t\"name\": \"Nicolaus Copernicus\",\r\n\t\t\t\"duration\": \"03:56\",\r\n\t\t\t\"DURATION\": \"236\",\r\n\t\t\t\"damage\": \"0\",\r\n\t\t\t\"damage-m\": \"0.00\",\r\n\t\t\t\"damage-b\": \"0.00\",\r\n\t\t\t\"damage-*\": \"0\",\r\n\t\t\t\"DAMAGE-k\": \"0\",\r\n\t\t\t\"DAMAGE-m\": \"0\",\r\n\t\t\t\"DAMAGE-b\": \"0\",\r\n\t\t\t\"DAMAGE-*\": \"0\",\r\n\t\t\t\"damage%\": \"0%\",\r\n\t\t\t\"dps\": \"0.00\",\r\n\t\t\t\"dps-*\": \"0\",\r\n\t\t\t\"DPS\": \"0\",\r\n\t\t\t\"DPS-k\": \"0\",\r\n\t\t\t\"DPS-m\": \"0\",\r\n\t\t\t\"DPS-*\": \"0\",\r\n\t\t\t\"encdps\": \"0.00\",\r\n\t\t\t\"encdps-*\": \"0\",\r\n\t\t\t\"ENCDPS\": \"0\",\r\n\t\t\t\"ENCDPS-k\": \"0\",\r\n\t\t\t\"ENCDPS-m\": \"0\",\r\n\t\t\t\"ENCDPS-*\": \"0\",\r\n\t\t\t\"hits\": \"0\",\r\n\t\t\t\"crithits\": \"0\",\r\n\t\t\t\"crithit%\": \"0%\",\r\n\t\t\t\"crittypes\": \"0.0%L - 0.0%F - 0.0%M\",\r\n\t\t\t\"misses\": \"0\",\r\n\t\t\t\"hitfailed\": \"0\",\r\n\t\t\t\"swings\": \"0\",\r\n\t\t\t\"tohit\": \"---\",\r\n\t\t\t\"TOHIT\": \"---\",\r\n\t\t\t\"maxhit\": \"\",\r\n\t\t\t\"MAXHIT\": \"\",\r\n\t\t\t\"maxhit-*\": \"\",\r\n\t\t\t\"MAXHIT-*\": \"\",\r\n\t\t\t\"healed\": \"331087\",\r\n\t\t\t\"healed%\": \"59%\",\r\n\t\t\t\"enchps\": \"1391.12\",\r\n\t\t\t\"enchps-*\": \"1.39K\",\r\n\t\t\t\"ENCHPS\": \"1391\",\r\n\t\t\t\"ENCHPS-k\": \"1\",\r\n\t\t\t\"ENCHPS-m\": \"0\",\r\n\t\t\t\"ENCHPS-*\": \"1391\",\r\n\t\t\t\"critheals\": \"37\",\r\n\t\t\t\"critheal%\": \"20%\",\r\n\t\t\t\"heals\": \"186\",\r\n\t\t\t\"cures\": \"0\",\r\n\t\t\t\"maxheal\": \"Galvanize-7697\",\r\n\t\t\t\"MAXHEAL\": \"7697\",\r\n\t\t\t\"maxhealward\": \"Galvanize-7697\",\r\n\t\t\t\"MAXHEALWARD\": \"7697\",\r\n\t\t\t\"maxheal-*\": \"Galvanize-7.70K\",\r\n\t\t\t\"MAXHEAL-*\": \"7.70K\",\r\n\t\t\t\"maxhealward-*\": \"Galvanize-7.70K\",\r\n\t\t\t\"MAXHEALWARD-*\": \"7.70K\",\r\n\t\t\t\"damagetaken\": \"38943\",\r\n\t\t\t\"damagetaken-*\": \"38.94K\",\r\n\t\t\t\"healstaken\": \"87444\",\r\n\t\t\t\"healstaken-*\": \"87.44K\",\r\n\t\t\t\"powerdrain\": \"0\",\r\n\t\t\t\"powerdrain-*\": \"0\",\r\n\t\t\t\"powerheal\": \"1000\",\r\n\t\t\t\"powerheal-*\": \"1.00K\",\r\n\t\t\t\"kills\": \"0\",\r\n\t\t\t\"deaths\": \"0\",\r\n\t\t\t\"threatstr\": \"+(0)0/-(0)0\",\r\n\t\t\t\"threatdelta\": \"0\",\r\n\t\t\t\"Last10DPS\": \"\",\r\n\t\t\t\"Last30DPS\": \"\",\r\n\t\t\t\"Last60DPS\": \"\",\r\n\t\t\t\"Job\": \"Sch\",\r\n\t\t\t\"ParryPct\": \"100%\",\r\n\t\t\t\"BlockPct\": \"0%\",\r\n\t\t\t\"IncToHit\": \"97.22\",\r\n\t\t\t\"OverHealPct\": \"58%\",\r\n\t\t\t\"DirectHitPct\": \"0%\",\r\n\t\t\t\"DirectHitCount\": \"0\",\r\n\t\t\t\"CritDirectHitCount\": \"0\",\r\n\t\t\t\"CritDirectHitPct\": \"0%\",\r\n\t\t\t\"overHeal\": \"145068\",\r\n\t\t\t\"damageShield\": \"81876\",\r\n\t\t\t\"absorbHeal\": \"0\",\r\n\t\t\t\"max_enc_dps\": 0,\r\n\t\t\t\"enmity_percent\": \"5.00\"\r\n\t\t}\r\n\t},\r\n\t\"isActive\": \"false\"\r\n};\r\n\r\nexport default SampleGameData;","const SampleHistoryData = {\r\n\t\"1596275439\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 0\r\n\t\t}\r\n\t},\r\n\t\"1596275454\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 11821.2,\r\n\t\t\t\"enchps\": 1093.67,\r\n\t\t\t\"enctps\": 397.07\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 2243.47,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 0\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 2085.6,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 0\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 1891.53,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 0\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 1700.33,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 327.67\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1518.4,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 0\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 1365.33,\r\n\t\t\t\"enchps\": 155,\r\n\t\t\t\"enctps\": 69.4\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 1016.53,\r\n\t\t\t\"enchps\": 241.53,\r\n\t\t\t\"enctps\": 0\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 697.13,\r\n\t\t\t\"enctps\": 0\r\n\t\t}\r\n\t},\r\n\t\"1596275469\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 13106,\r\n\t\t\t\"enchps\": 1321.4,\r\n\t\t\t\"enctps\": 307.9\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 2561.63,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 0\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 2054.6,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 0\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 1917.07,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 219.23\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 1832.87,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 9.33\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1769.63,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 0\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 1711.77,\r\n\t\t\t\"enchps\": 377.8,\r\n\t\t\t\"enctps\": 69.27\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 1258.43,\r\n\t\t\t\"enchps\": 193.53,\r\n\t\t\t\"enctps\": 10.07\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 750.07,\r\n\t\t\t\"enctps\": 0\r\n\t\t}\r\n\t},\r\n\t\"1596275484\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 12060.13,\r\n\t\t\t\"enchps\": 1758.76,\r\n\t\t\t\"enctps\": 672.76\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 2409.16,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 76.91\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 2375.62,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 72.84\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 1719.2,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 146.16\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 1670.6,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 12.53\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1599.91,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 6.2\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 1429.04,\r\n\t\t\t\"enchps\": 301.44,\r\n\t\t\t\"enctps\": 46.18\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 856.6,\r\n\t\t\t\"enchps\": 260.69,\r\n\t\t\t\"enctps\": 81.38\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1196.62,\r\n\t\t\t\"enctps\": 230.56\r\n\t\t}\r\n\t},\r\n\t\"1596275499\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 11251.5,\r\n\t\t\t\"enchps\": 2105.43,\r\n\t\t\t\"enctps\": 995.35\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 2178.38,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 123.43\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 2170.63,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 117.17\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 1597.93,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 180.83\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 1588.87,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 46.47\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1551.52,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 44.23\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 1349.32,\r\n\t\t\t\"enchps\": 264.33,\r\n\t\t\t\"enctps\": 193.53\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 814.85,\r\n\t\t\t\"enchps\": 304.77,\r\n\t\t\t\"enctps\": 81.92\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1536.33,\r\n\t\t\t\"enctps\": 207.77\r\n\t\t}\r\n\t},\r\n\t\"1596275514\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 10928.85,\r\n\t\t\t\"enchps\": 2103.95,\r\n\t\t\t\"enctps\": 1138.6\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 2120.44,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 149.71\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 2082.55,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 154.56\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 1563.25,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 148.63\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1524.34,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 91.42\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 1511.67,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 93.6\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 1317.27,\r\n\t\t\t\"enchps\": 280.58,\r\n\t\t\t\"enctps\": 159.07\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 809.33,\r\n\t\t\t\"enchps\": 360.21,\r\n\t\t\t\"enctps\": 120.22\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1463.16,\r\n\t\t\t\"enctps\": 221.38\r\n\t\t}\r\n\t},\r\n\t\"1596275529\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 10928.85,\r\n\t\t\t\"enchps\": 2543.04,\r\n\t\t\t\"enctps\": 1139.45\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 2120.44,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 149.71\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 2082.55,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 154.56\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 1563.25,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 148.63\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1524.34,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 91.42\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 1511.67,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 93.6\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 1317.27,\r\n\t\t\t\"enchps\": 280.58,\r\n\t\t\t\"enctps\": 159.07\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 809.33,\r\n\t\t\t\"enchps\": 441.03,\r\n\t\t\t\"enctps\": 120.22\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1821.44,\r\n\t\t\t\"enctps\": 222.23\r\n\t\t}\r\n\t},\r\n\t\"1596275544\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 7697.79,\r\n\t\t\t\"enchps\": 1893.27,\r\n\t\t\t\"enctps\": 1066.08\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 1474.21,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 122.71\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 1447.87,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 152.94\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1100.61,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 86.12\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 1094.18,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 125.82\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 1085.64,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 126.9\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 932.61,\r\n\t\t\t\"enchps\": 195.07,\r\n\t\t\t\"enctps\": 141.13\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 562.68,\r\n\t\t\t\"enchps\": 369.74,\r\n\t\t\t\"enctps\": 97.38\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1328.46,\r\n\t\t\t\"enctps\": 213.07\r\n\t\t}\r\n\t},\r\n\t\"1596275559\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 7835.57,\r\n\t\t\t\"enchps\": 2068.38,\r\n\t\t\t\"enctps\": 965.01\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 1511.53,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 138.45\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 1388.29,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 112.11\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1226.93,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 79.98\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 1127.8,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 114.8\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 1084.84,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 112.42\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 974.01,\r\n\t\t\t\"enchps\": 219.03,\r\n\t\t\t\"enctps\": 125.83\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 522.17,\r\n\t\t\t\"enchps\": 643.61,\r\n\t\t\t\"enctps\": 90.03\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1205.74,\r\n\t\t\t\"enctps\": 191.38\r\n\t\t}\r\n\t},\r\n\t\"1596275574\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 7458.24,\r\n\t\t\t\"enchps\": 2101.67,\r\n\t\t\t\"enctps\": 863.83\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 1399.76,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 122.16\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 1351.88,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 98.92\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1185.87,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 70.57\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 1081.47,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 101.29\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 1019.51,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 99.2\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 917.96,\r\n\t\t\t\"enchps\": 193.26,\r\n\t\t\t\"enctps\": 123.38\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 501.79,\r\n\t\t\t\"enchps\": 769.11,\r\n\t\t\t\"enctps\": 79.44\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1139.3,\r\n\t\t\t\"enctps\": 168.87\r\n\t\t}\r\n\t},\r\n\t\"1596275589\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 7834.7,\r\n\t\t\t\"enchps\": 2041.31,\r\n\t\t\t\"enctps\": 926.31\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 1500.48,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 124.27\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 1424.86,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 102.55\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1216.37,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 71.55\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 1118.97,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 119.43\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 1030.99,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 105.72\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 970.12,\r\n\t\t\t\"enchps\": 206.95,\r\n\t\t\t\"enctps\": 131.83\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 572.91,\r\n\t\t\t\"enchps\": 751.36,\r\n\t\t\t\"enctps\": 83.09\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1083,\r\n\t\t\t\"enctps\": 187.87\r\n\t\t}\r\n\t},\r\n\t\"1596275604\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 7834.7,\r\n\t\t\t\"enchps\": 2344.91,\r\n\t\t\t\"enctps\": 1090.76\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 1500.48,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 164.44\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 1424.86,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 142.6\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1216.37,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 91.21\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 1118.97,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 139.87\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 1030.99,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 105.72\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 970.12,\r\n\t\t\t\"enchps\": 206.95,\r\n\t\t\t\"enctps\": 156.21\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 572.91,\r\n\t\t\t\"enchps\": 861.26,\r\n\t\t\t\"enctps\": 83.09\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1276.7,\r\n\t\t\t\"enctps\": 207.61\r\n\t\t}\r\n\t},\r\n\t\"1596275620\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 6505.48,\r\n\t\t\t\"enchps\": 2331.3,\r\n\t\t\t\"enctps\": 967.74\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 1235.2,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 149.66\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 1187.46,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 117.39\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1019.75,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 75.08\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 930.29,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 129.25\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 862.55,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 87.03\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 798.61,\r\n\t\t\t\"enchps\": 170.36,\r\n\t\t\t\"enctps\": 152.34\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 471.62,\r\n\t\t\t\"enchps\": 733.75,\r\n\t\t\t\"enctps\": 68.4\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1427.19,\r\n\t\t\t\"enctps\": 188.59\r\n\t\t}\r\n\t},\r\n\t\"1596275635\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 6474.18,\r\n\t\t\t\"enchps\": 2198.33,\r\n\t\t\t\"enctps\": 907.57\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 1180.15,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 140.35\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 1170.72,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 110.09\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1024.94,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 70.41\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 942.11,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 121.21\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 865.06,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 81.62\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 815.46,\r\n\t\t\t\"enchps\": 171.75,\r\n\t\t\t\"enctps\": 142.87\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 475.75,\r\n\t\t\t\"enchps\": 688.12,\r\n\t\t\t\"enctps\": 64.15\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1338.45,\r\n\t\t\t\"enctps\": 176.87\r\n\t\t}\r\n\t},\r\n\t\"1596275650\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 6474.18,\r\n\t\t\t\"enchps\": 2212.8,\r\n\t\t\t\"enctps\": 926.39\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 1180.15,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 142.77\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 1170.72,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 112.6\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1024.94,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 72.92\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 942.11,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 123.68\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 865.06,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 83.57\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 815.46,\r\n\t\t\t\"enchps\": 171.75,\r\n\t\t\t\"enctps\": 144.79\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 475.75,\r\n\t\t\t\"enchps\": 695.93,\r\n\t\t\t\"enctps\": 66.67\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1345.11,\r\n\t\t\t\"enctps\": 179.39\r\n\t\t}\r\n\t},\r\n\t\"1596275665\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 6474.18,\r\n\t\t\t\"enchps\": 2277.89,\r\n\t\t\t\"enctps\": 1099.47\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 1180.15,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 165.47\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 1170.72,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 135.45\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 1024.94,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 96.88\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 942.11,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 146.1\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 865.06,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 101.03\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 815.46,\r\n\t\t\t\"enchps\": 171.75,\r\n\t\t\t\"enctps\": 162.42\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 475.75,\r\n\t\t\t\"enchps\": 730.61,\r\n\t\t\t\"enctps\": 90.35\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1375.53,\r\n\t\t\t\"enctps\": 201.78\r\n\t\t}\r\n\t},\r\n\t\"1596275680\": {\r\n\t\t\"Encounter\": {\r\n\t\t\t\"encdps\": 5572.69,\r\n\t\t\t\"enchps\": 2287.73,\r\n\t\t\t\"enctps\": 891.59\r\n\t\t},\r\n\t\t\"Hattori Hanzo\": {\r\n\t\t\t\"encdps\": 1032.57,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 109.84\r\n\t\t},\r\n\t\t\"YOU\": {\r\n\t\t\t\"encdps\": 988.26,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 134.18\r\n\t\t},\r\n\t\t\"Lindsey Stirling\": {\r\n\t\t\t\"encdps\": 872.09,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 78.56\r\n\t\t},\r\n\t\t\"Beedle\": {\r\n\t\t\t\"encdps\": 793.89,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 118.48\r\n\t\t},\r\n\t\t\"Uther\": {\r\n\t\t\t\"encdps\": 747.72,\r\n\t\t\t\"enchps\": 0,\r\n\t\t\t\"enctps\": 81.92\r\n\t\t},\r\n\t\t\"Ashor\": {\r\n\t\t\t\"encdps\": 731.26,\r\n\t\t\t\"enchps\": 139.28,\r\n\t\t\t\"enctps\": 131.71\r\n\t\t},\r\n\t\t\"Sigmund Freud\": {\r\n\t\t\t\"encdps\": 406.9,\r\n\t\t\t\"enchps\": 787.38,\r\n\t\t\t\"enctps\": 73.27\r\n\t\t},\r\n\t\t\"Nicolaus Copernicus\": {\r\n\t\t\t\"encdps\": 0,\r\n\t\t\t\"enchps\": 1361.08,\r\n\t\t\t\"enctps\": 163.63\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default SampleHistoryData;","const SampleAggroData = {\r\n\t\"type\": \"EnmityAggroList\",\r\n\t\"AggroList\": [\r\n\t\t{\r\n\t\t\t\"ID\": 1073814728,\r\n\t\t\t\"Name\": \"King Thordan\",\r\n\t\t\t\"HateRate\": 12,\r\n\t\t\t\"Order\": 0,\r\n\t\t\t\"isCurrentTarget\": true,\r\n\t\t\t\"CurrentHP\": 1511,\r\n\t\t\t\"MaxHP\": 868000,\r\n\t\t\t\"Target\": {\r\n\t\t\t\t\"ID\": -1,\r\n\t\t\t\t\"OwnerID\": 0,\r\n\t\t\t\t\"Name\": \"Uther\",\r\n\t\t\t\t\"Enmity\": 0,\r\n\t\t\t\t\"isMe\": false,\r\n\t\t\t\t\"HateRate\": 0,\r\n\t\t\t\t\"Job\": 19\r\n\t\t\t},\r\n\t\t\t\"Effects\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"BuffID\": 215,\r\n\t\t\t\t\t\"Stack\": 0,\r\n\t\t\t\t\t\"Timer\": 0,\r\n\t\t\t\t\t\"ActorID\": -2,\r\n\t\t\t\t\t\"isOwner\": false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"BuffID\": 129,\r\n\t\t\t\t\t\"Stack\": 20,\r\n\t\t\t\t\t\"Timer\": 24.9956188,\r\n\t\t\t\t\t\"ActorID\": -3,\r\n\t\t\t\t\t\"isOwner\": false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"BuffID\": 124,\r\n\t\t\t\t\t\"Stack\": 20,\r\n\t\t\t\t\t\"Timer\": 25.576622,\r\n\t\t\t\t\t\"ActorID\": -4,\r\n\t\t\t\t\t\"isOwner\": false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"BuffID\": 189,\r\n\t\t\t\t\t\"Stack\": 0,\r\n\t\t\t\t\t\"Timer\": 26.0226231,\r\n\t\t\t\t\t\"ActorID\": -5,\r\n\t\t\t\t\t\"isOwner\": false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"BuffID\": 124,\r\n\t\t\t\t\t\"Stack\": 20,\r\n\t\t\t\t\t\"Timer\": 27.3828373,\r\n\t\t\t\t\t\"ActorID\": -3,\r\n\t\t\t\t\t\"isOwner\": false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"BuffID\": 248,\r\n\t\t\t\t\t\"Stack\": 0,\r\n\t\t\t\t\t\"Timer\": 13.2993031,\r\n\t\t\t\t\t\"ActorID\": -1,\r\n\t\t\t\t\t\"isOwner\": false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"BuffID\": 129,\r\n\t\t\t\t\t\"Stack\": 20,\r\n\t\t\t\t\t\"Timer\": 28.6495342,\r\n\t\t\t\t\t\"ActorID\": -4,\r\n\t\t\t\t\t\"isOwner\": false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport default SampleAggroData;","import clone from \"lodash.clonedeep\";\r\nimport isEqual from \"lodash.isequal\";\r\n\r\nimport Settings from \"../../data/Settings\";\r\nimport PluginService from \"../../services/PluginService\";\r\nimport OverlayPluginService from \"../../services/PluginService/OverlayPluginService\";\r\nimport ObjectService from \"../../services/ObjectService\";\r\nimport GameDataProcessor from \"../../processors/GameDataProcessor\";\r\nimport ThemeService from \"../../services/ThemeService\";\r\nimport SampleGameData from \"../../constants/SampleGameData\";\r\nimport SampleHistoryData from \"../../constants/SampleHistoryData\";\r\nimport SampleAggroData from \"../../constants/SampleAggroData\";\r\n\r\nlet overlayplugin_service = new OverlayPluginService();\r\n\r\nconst initial_state = {\r\n\tplugin_service : new PluginService(),\r\n\tsettings_data  : Settings,\r\n\tlast_activity  : (new Date()).getTime() / 1000,\r\n\tinternal       : {\r\n\t\tviewing              : \"tables\",\r\n\t\tcharacter_name       : \"YOU\",\r\n\t\trank                 : \"N/A\",\r\n\t\tgame                 : {},\r\n\t\tenmity               : {},\r\n\t\taggro                : [],\r\n\t\tdata_history         : {},\r\n\t\tencounter_history    : [],\r\n\t\tdetail_player        : {},\r\n\t\tparty                : [],\r\n\t\tviewing_history      : false,\r\n\t\toverlayplugin        : overlayplugin_service.isOverlayPlugin(),\r\n\t\toverlayplugin_author : overlayplugin_service.getAuthor(),\r\n\t\tnew_version          : false,\r\n\t},\r\n\tsettings : {}\r\n};\r\n\r\nfunction rootReducer(state, action) {\r\n\tif (!state) {\r\n\t\tstate = initial_state;\r\n\t}\r\n\r\n\tlet new_state = false;\r\n\tlet full_key  = action.key;\r\n\r\n\tswitch (action.type) {\r\n\t\tcase \"setSetting\":\r\n\t\t\tstate.settings_data.setSetting(action.key, action.payload);\r\n\r\n\t\t\tfull_key  = `settings.${action.key}`;\r\n\t\t\tnew_state = createNewState(state, full_key, action);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"setSettings\":\r\n\t\t\tnew_state = clone(state);\r\n\r\n\t\t\tfor (let setting of action.data) {\r\n\t\t\t\tnew_state.settings_data.setSetting(setting.key, setting.payload, true);\r\n\r\n\t\t\t\tfull_key  = `settings.${setting.key}`;\r\n\t\t\t\tnew_state = createNewState(new_state, full_key, setting);\r\n\t\t\t}\r\n\r\n\t\t\tnew_state.settings_data.saveSettings(true);\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"parseGameData\":\r\n\t\t\tlet new_history = (\r\n\t\t\t\t!action.payload.Encounter ||\r\n\t\t\t\t!state.internal.encounter_history.length ||\r\n\t\t\t\t!state.internal.encounter_history[0].game.Encounter ||\r\n\t\t\t\t+action.payload.Encounter.DURATION < +state.internal.encounter_history[0].game.Encounter.DURATION\r\n\t\t\t);\r\n\r\n\t\t\taction.payload = GameDataProcessor.normalizeLocales(action.payload, state.settings.interface.language, (new_history) ? undefined : state);\r\n\t\t\taction.payload = GameDataProcessor.injectEnmity(action.payload, state);\r\n\r\n\t\t\tnew_state = createNewState(state, full_key, action);\r\n\r\n\t\t\tif (new_history) {\r\n\t\t\t\tif (new_state.internal.encounter_history.length === 5) {\r\n\t\t\t\t\tnew_state.internal.encounter_history.pop();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnew_state.internal.encounter_history.unshift({\r\n\t\t\t\t\tgame         : {},\r\n\t\t\t\t\taggro        : [],\r\n\t\t\t\t\tenmity       : {},\r\n\t\t\t\t\tdata_history : {}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tGameDataProcessor.appendHistory(action.payload, new_state);\r\n\r\n\t\t\tnew_state.internal.encounter_history[0].game = action.payload;\r\n\r\n\t\t\tif ((new_history && !new_state.internal.viewing_history) || !new_state.internal.viewing_history) {\r\n\t\t\t\tnew_state.internal.game         = new_state.internal.encounter_history[0].game;\r\n\t\t\t\tnew_state.internal.data_history = new_state.internal.encounter_history[0].data_history;\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"loadSampleData\":\r\n\t\t\tlet tmp_action = {\r\n\t\t\t\ttype : \"loadSampleData\"\r\n\t\t\t};\r\n\r\n\t\t\tstate.internal.data_history = SampleHistoryData;\r\n\r\n\t\t\ttmp_action.payload = GameDataProcessor.normalizeLocales(SampleGameData, state.settings.interface.language, state, true);\r\n\r\n\t\t\tnew_state  = createNewState(state, \"internal.game\", tmp_action);\r\n\t\t\ttmp_action = {\r\n\t\t\t\tpayload : GameDataProcessor.normalizeAggroList(SampleAggroData)\r\n\t\t\t};\r\n\t\t\tnew_state  = createNewState(new_state, \"internal.aggro\", tmp_action);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"loadHistoryEntry\":\r\n\t\t\tlet index = action.payload;\r\n\r\n\t\t\tnew_state = clone(state);\r\n\r\n\t\t\tnew_state.internal.viewing_history = (index !== 0);\r\n\r\n\t\t\tfor (let key in new_state.internal.encounter_history[index]) {\r\n\t\t\t\tnew_state.internal[key] = new_state.internal.encounter_history[index][key];\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"parseEnmity\":\r\n\t\t\tif (!state.internal.encounter_history.length) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\taction.payload = GameDataProcessor.processEnmity(action.payload);\r\n\r\n\t\t\tif (isEqual(action.payload, state.internal.encounter_history[0].enmity)) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\tnew_state = clone(state);\r\n\r\n\t\t\tnew_state.internal.encounter_history[0].enmity = action.payload;\r\n\r\n\t\t\tif (!new_state.internal.viewing_history) {\r\n\t\t\t\tnew_state.internal.enmity = action.payload;\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"parseAggroList\":\r\n\t\t\tif (!state.internal.encounter_history.length) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\taction.payload = GameDataProcessor.normalizeAggroList(action.payload);\r\n\t\t\tnew_state      = clone(state);\r\n\r\n\t\t\tnew_state.internal.encounter_history[0].aggro = action.payload;\r\n\r\n\t\t\tif (!new_state.internal.viewing_history) {\r\n\t\t\t\tnew_state.internal.aggro = action.payload;\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"parseParty\":\r\n\t\t\tnew_state = clone(state);\r\n\t\t\t\r\n\t\t\tnew_state.internal.party = GameDataProcessor.processParty(action.payload);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\tnew_state = createNewState(state, full_key, action);\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\treturn Object.assign(\r\n\t\t{},\r\n\t\tnew_state || state\r\n\t);\r\n};\r\n\r\nfunction createNewState(state, full_key, action) {\r\n\tif (!full_key) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tlet new_state = clone(state);\r\n\r\n\tnew_state.plugin_service = state.plugin_service;\r\n\r\n\tif ([\"parseGameData\", \"loadSampleData\"].indexOf(action.type) !== -1) {\r\n\t\tnew_state.last_activity = (new Date()).getTime() / 1000;\r\n\r\n\t\tif (action.type === \"parseGameData\") {\r\n\t\t\treturn new_state;\r\n\t\t}\r\n\t}\r\n\r\n\tObjectService.setByKeyPath(new_state, full_key, action.payload);\r\n\r\n\tif ([\"settings\", \"settings.interface.light_theme\"].indexOf(full_key) !== -1) {\r\n\t\tlet light_theme = (full_key === \"settings\") ? action.payload.interface.light_theme : action.payload;\r\n\r\n\t\tThemeService.setTheme({light : light_theme});\r\n\t}\r\n\r\n\tif ([\"settings\", \"settings.interface.minimal_theme\"].indexOf(full_key) !== -1) {\r\n\t\tlet minimal_theme = (full_key === \"settings\") ? action.payload.interface.minimal_theme : action.payload;\r\n\r\n\t\tThemeService.setTheme({minimal : minimal_theme});\r\n\t}\r\n\r\n\treturn new_state;\r\n}\r\n\r\nexport default rootReducer;","import { applyMiddleware, createStore } from \"redux\";\r\nimport rootReducer from \"../reducers/index\";\r\n\r\nconst storage_key = \"redux-local-tab-sync\";\r\n\r\nfunction wrapAction(action) {\r\n\treturn {\r\n\t\taction,\r\n\t\ttime : Date.now()\r\n\t}\r\n}\r\n\r\nfunction storageMiddleware() {\r\n\treturn () => next => action => {\r\n\t\tconst wrapped_action = wrapAction(action);\r\n\r\n\t\tif (!window.parser) {\r\n\t\t\tlocalStorage.setItem(storage_key, JSON.stringify(wrapped_action));\r\n\t\t}\r\n\r\n\t\tnext(action);\r\n\t}\r\n}\r\n\r\nexport function createStorageListener(store) {\r\n\treturn () => {\r\n\t\tconst wrapped_action = JSON.parse(localStorage.getItem(storage_key));\r\n\r\n\t\tlet valid_action = false;\r\n\r\n\t\tswitch (wrapped_action.action.type) {\r\n\t\t\tcase \"setSetting\":\r\n\t\t\t\tvalid_action = true;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"setSettings\":\r\n\t\t\t\tvalid_action = false;\r\n\r\n\t\t\t\tlet state = store.getState();\r\n\r\n\t\t\t\tstate\r\n\t\t\t\t\t.settings_data\r\n\t\t\t\t\t.loadSettings()\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tstate.settings_data.saveToOverlayPlugin();\r\n\t\t\t\t\t\tstate.plugin_service.updateSubscriptions(state.settings_data);\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"updateState\":\r\n\t\t\t\tvalid_action = (wrapped_action.action.key === \"internal.new_version\");\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tvalid_action = false;\r\n\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif (valid_action && window.parser && (wrapped_action.action.source === \"screen-component\" || !wrapped_action.action.source)) {\r\n\t\t\tstore.dispatch(wrapped_action.action);\r\n\t\t}\r\n\t};\r\n}\r\n\r\nconst middleware = applyMiddleware(storageMiddleware());\r\nconst store      = createStore(rootReducer, middleware);\r\n\r\nwindow.addEventListener(\"storage\", createStorageListener(store));\r\n\r\nexport default store;","import store from \"../redux/store/index\";\r\n\r\nimport Constants from \"../constants/index\";\r\n\r\nimport GameDataProcessor from \"./GameDataProcessor\";\r\n\r\nclass PlayerProcessor  {\r\n\tgetShortName(name, type) {\r\n\t\tname = (name || \"\").split(\" \");\r\n\r\n\t\tlet first_name = ([\"short_first\", \"short_both\"].indexOf(type) !== -1) ? name[0].slice(0, 1) + \".\" : name[0];\r\n\r\n\t\tif (name.length === 1) {\r\n\t\t\treturn first_name;\r\n\t\t}\r\n\r\n\t\tlet last_name = name.pop();\r\n\r\n\t\tif (([\"short_last\", \"short_both\"].indexOf(type) !== -1)) {\r\n\t\t\tlast_name = last_name.slice(0, 1) + \".\";\r\n\t\t}\r\n\r\n\t\treturn `${first_name} ${last_name}`;\r\n\t}\r\n\r\n\tgetDataValue(key, player, players, encounter, return_sortable_value, state) {\r\n\t\tlet key_function = Constants.PlayerDataCustomValues[key];\r\n\t\tlet value        = (key_function) ? key_function(player, players, encounter) : player[key];\r\n\r\n\t\tif (key === \"name\" && value === \"YOU\") {\r\n\t\t\tstate = state || store.getState();\r\n\r\n\t\t\tlet setting_name = state.settings.interface.player_name;\r\n\r\n\t\t\tvalue = (setting_name && setting_name === \"YOU\") ? state.internal.character_name : setting_name;\r\n\t\t}\r\n\r\n\t\tif (!return_sortable_value && !isNaN(value)) {\r\n\t\t\tvalue = GameDataProcessor.convertToLocaleFormat(key, value);\r\n\t\t} else if (return_sortable_value) {\r\n\t\t\tlet number_regex = /((([\\d]{1,3},)?(([\\d]{3},)+)?[\\d]{3})|[\\d]+)(\\.[\\d]+)?(%|K)?$/;\r\n\t\t\tlet matches      = String(value).match(number_regex);\r\n\t\t\tlet match        = (matches && matches.length) ? matches[0] : 0;\r\n\r\n\t\t\tvalue = String(match).replace(/[%,]/g, \"\");\r\n\r\n\t\t\tif (value.indexOf(\"K\") !== -1) {\r\n\t\t\t\tvalue = +value.replace(\"K\", \"\") * 1000;\r\n\t\t\t}\r\n\r\n\t\t\tvalue = +value;\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tsortPlayers(players, encounter, sort_column) {\r\n\t\tlet sorted_players = [];\r\n\t\tlet self           = this;\r\n\r\n\t\tfor (let key in players) {\r\n\t\t\tsorted_players.push(players[key]);\r\n\t\t}\r\n\r\n\t\tlet players_copy = JSON.parse(JSON.stringify(sorted_players));\r\n\r\n\t\tsorted_players = sorted_players.sort(function(a, b) {\r\n\t\t\tlet val_a = self.getDataValue(sort_column, a, players_copy, encounter, true)\r\n\t\t\tlet val_b = self.getDataValue(sort_column, b, players_copy, encounter, true);\r\n\r\n\t\t\tif (val_a > val_b) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else if (val_b > val_a) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else {\r\n\t\t\t\tif (a.Job && b.Job) {\r\n\t\t\t\t\treturn self\r\n\t\t\t\t\t\t.getDataValue(\"name\", a)\r\n\t\t\t\t\t\t.localeCompare(self.getDataValue(\"name\", b));\r\n\t\t\t\t} else if (!a.job) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn sorted_players;\r\n\t}\r\n}\r\n\r\nexport default new PlayerProcessor();","let calculateHealed = function(player) {\r\n\tlet value = player[\"healed%\"];\r\n\r\n\tif (value === \"--\") {\r\n\t\tvalue = \"0%\";\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nlet calculateEffectiveHealed = function(player, players) {\r\n\tlet total_effective_heals  = 0;\r\n\tlet player_effective_heals = 0;\r\n\r\n\tfor (let tmp_player of players) {\r\n\t\tlet ratio           = 1 - (+String(tmp_player.OverHealPct || 0).replace(\"%\", \"\") / 100);\r\n\t\tlet effective_heals = +tmp_player.healed * ratio;\r\n\r\n\t\ttotal_effective_heals += effective_heals;\r\n\r\n\t\tif (tmp_player.name === player.name) {\r\n\t\t\tplayer_effective_heals = effective_heals;\r\n\t\t}\r\n\t}\r\n\r\n\tlet effective_ratio = (((total_effective_heals) ? (player_effective_heals / total_effective_heals) : 0) * 100).toFixed(0) + \"%\";\r\n\r\n\treturn effective_ratio;\r\n};\r\n\r\nlet calculateEffectiveHPS = function(player) {\r\n\tlet ratio = 1 - (+String(player.OverHealPct || 0).replace(\"%\", \"\") / 100);\r\n\tlet hps   = +player.enchps * ratio;\r\n\r\n\treturn hps;\r\n};\r\n\r\nlet calculateTankedDamagePercent = function(player, players) {\r\n\tlet total_damage_taken  = 0;\r\n\tlet player_damage_taken = 0;\r\n\r\n\tfor (let tmp_player of players) {\r\n\t\ttotal_damage_taken += +tmp_player.damagetaken;\r\n\r\n\t\tif (tmp_player.name === player.name) {\r\n\t\t\tplayer_damage_taken = +tmp_player.damagetaken;\r\n\t\t}\r\n\t}\r\n\r\n\tlet effective_ratio = (((total_damage_taken) ? (player_damage_taken / total_damage_taken) : 0) * 100).toFixed(0) + \"%\";\r\n\r\n\treturn effective_ratio;\r\n};\r\n\r\nlet calculateTankPerSecond = function(player, players, encounter) {\r\n\tlet duration = +encounter.DURATION || 1;\r\n\r\n\treturn (+player.damagetaken / duration).toFixed(2);\r\n}\r\n\r\nlet formatMaxHit = function(player) {\r\n\tif (!player[\"maxhit\"]) {\r\n\t\treturn \"N/A\";\r\n\t}\r\n\r\n\tlet parts = player[\"maxhit\"].split(\"-\");\r\n\tlet index = (parts[2]) ? 2 : 1;\r\n\r\n\tparts[index] = (!isNaN(parts[index])) ? (+parts[index]).toLocaleString() : parts[index];\r\n\r\n\tparts.unshift(parts.pop());\r\n\t\r\n\tlet value = parts.join(\" - \");\r\n\r\n\treturn value;\r\n}\r\n\r\nlet formatMaxHeal = function(player) {\r\n\tif (!player[\"maxheal\"]) {\r\n\t\treturn \"N/A\";\r\n\t}\r\n\r\n\tlet parts = player[\"maxheal\"].split(\"-\");\r\n\tlet index = (parts[2]) ? 2 : 1;\r\n\r\n\tparts[index] = (!isNaN(parts[index])) ? (+parts[index]).toLocaleString() : parts[index];\r\n\r\n\tparts.unshift(parts.pop());\r\n\t\r\n\tlet value = parts.join(\" - \");\r\n\r\n\treturn value;\r\n}\r\n\r\nlet calculateHealthPercent = function(unit) {\r\n\treturn ((unit.CurrentHP / unit.MaxHP) * 100).toFixed(2);\r\n}\r\n\r\nlet calculateShieldPerSecond = function(player, players, encounter) {\r\n\tlet duration = +encounter.DURATION || 1;\r\n\r\n\treturn (+player.damageShield / duration).toFixed(2);\r\n}\r\n\r\nconst GameJobs = {\r\n\tARC : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tGLA : {\r\n\t\trole : \"tank\"\r\n\t},\r\n\tLNC : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tMRD : {\r\n\t\trole : \"tank\"\r\n\t},\r\n\tPGL : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tACN : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tCNJ : {\r\n\t\trole : \"heal\"\r\n\t},\r\n\tTHM : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tROG : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tBRD : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tDRG : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tMNK : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tPLD : {\r\n\t\trole : \"tank\"\r\n\t},\r\n\tWAR : {\r\n\t\trole : \"tank\"\r\n\t},\r\n\tBLM : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tWHM : {\r\n\t\trole : \"heal\"\r\n\t},\r\n\tSCH : {\r\n\t\trole : \"heal\"\r\n\t},\r\n\tSMN : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tNIN : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tAST : {\r\n\t\trole : \"heal\"\r\n\t},\r\n\tDRK : {\r\n\t\trole : \"tank\"\r\n\t},\r\n\tMCH : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tRDM : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tSAM : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tBLU : {\r\n\t\trole : \"dps\"\r\n\t},\r\n\tGNB : {\r\n\t\trole : \"tank\"\r\n\t},\r\n\tDNC : {\r\n\t\trole : \"dps\"\r\n\t},\r\n};\r\n\r\nconst PlayerDataCustomValues = {\r\n\t\"healed%\"            : calculateHealed,\r\n\t\"effective_heal_pct\" : calculateEffectiveHealed,\r\n\t\"effective_hps\"      : calculateEffectiveHPS,\r\n\t\"damage_taken_pct\"   : calculateTankedDamagePercent,\r\n\t\"max_heal_format\"    : formatMaxHeal,\r\n\t\"max_hit_format\"     : formatMaxHit,\r\n\t\"enctps\"             : calculateTankPerSecond,\r\n\t\"shield_per_second\"  : calculateShieldPerSecond\r\n};\r\n\r\nconst MonsterDataCustomDataValues = {\r\n\t\"health_percent\" : calculateHealthPercent\r\n};\r\n\r\nconst PlayerDataTitles  = require(\"../data/locales/player-metrics.json\");\r\nconst MonsterDataTitles = require(\"../data/locales/monster-metrics.json\");\r\n\r\nconst PlayerMetricTypeData = {\r\n\tdps  : [\r\n\t\t\"CritDirectHitPct\",\r\n\t\t\"crithit%\",\r\n\t\t\"damage\",\r\n\t\t\"damage%\",\r\n\t\t\"DirectHitPct\",\r\n\t\t\"encdps\",\r\n\t\t\"max_hit_format\"\r\n\t],\r\n\theal : [\r\n\t\t\"critheal%\",\r\n\t\t\"effective_heal_pct\",\r\n\t\t\"effective_hps\",\r\n\t\t\"enchps\",\r\n\t\t\"healed\",\r\n\t\t\"healed%\",\r\n\t\t\"max_heal_format\",\r\n\t\t\"OverHealPct\"\r\n\t],\r\n\ttank : [\r\n\t\t\"BlockPct\",\r\n\t\t\"ParryPct\",\r\n\t\t\"damage_taken_pct\",\r\n\t\t\"damagetaken\",\r\n\t\t\"deaths\",\r\n\t\t\"healstaken\"\r\n\t]\r\n};\r\n\r\nconst PlayerMetricFractionRules = {\r\n\tdeaths : {\r\n\t\tmin : 0,\r\n\t\tmax : 0\r\n\t}\r\n}\r\n\r\nconst PlayerMetricsSummable = [\r\n\t\"encdps\",\r\n\t\"enchps\",\r\n\t\"damagetaken\",\r\n\t\"healstaken\",\r\n\t\"deaths\",\r\n\t\"heals\"\r\n];\r\n\r\nexport default {\r\n\tGameJobs,\r\n\tPlayerDataCustomValues,\r\n\tPlayerDataTitles,\r\n\tPlayerMetricTypeData,\r\n\tPlayerMetricFractionRules,\r\n\tPlayerMetricsSummable,\r\n\tMonsterDataCustomDataValues,\r\n\tMonsterDataTitles\r\n};","import store from \"../redux/store/index\";\r\n\r\nimport Constants from \"../constants/index\";\r\nimport PlayerProcessor from \"./PlayerProcessor\";\r\n\r\nimport LocalizationService from \"../services/LocalizationService\";\r\nimport UsageService from \"../services/UsageService\";\r\n\r\nclass GameDataProcessor  {\r\n\tnormalizeFieldLocale(value) {\r\n\t\tlet foreign_number_regex = /[\\d]+,[\\d]{2}(%|K)?$/;\r\n\t\tlet matches              = String(value).match(foreign_number_regex);\r\n\t\tlet match                = (matches && matches.length) ? matches[0] : false;\r\n\r\n\t\tif (match === false) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\treturn value.replace(match, String(match).replace(\",\", \".\"));\r\n\t}\r\n\r\n\tnormalizeLocales(data, language, current_state, loading_sample) {\r\n\t\tif (data.Encounter) {\r\n\t\t\treturn this.normalizeGameData(data, language, current_state, loading_sample);\r\n\t\t}\r\n\r\n\t\tif (data.AggroList) {\r\n\t\t\treturn this.normalizeAggroList(data);\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tnormalizeGameData(data, language, current_state, loading_sample) {\r\n\t\tdata.Encounter.name             = LocalizationService.getOverlayText(\"encounter\", language);\r\n\t\tdata.Encounter.Job              = \"ENC\";\r\n\t\tdata.Encounter.OverHealPct      = \"0%\";\r\n\t\tdata.Encounter.BlockPct         = \"0%\";\r\n\t\tdata.Encounter.DirectHitPct     = \"0%\";\r\n\t\tdata.Encounter.CritDirectHitPct = \"0%\";\r\n\t\tdata.Encounter[\"damage%\"]       = \"100%\";\r\n\t\tdata.Encounter[\"healed%\"]       = \"100%\";\r\n\r\n\t\tfor (let key in Constants.PlayerDataTitles) {\r\n\t\t\tif (data.Encounter[key] !== undefined) {\r\n\t\t\t\tdata.Encounter[key] = this.normalizeFieldLocale(data.Encounter[key]);\r\n\t\t\t}\r\n\r\n\t\t\tfor (let player_name in data.Combatant) {\r\n\t\t\t\tif (data.Combatant[player_name][key] !== undefined) {\r\n\t\t\t\t\tdata.Combatant[player_name][key] = this.normalizeFieldLocale(data.Combatant[player_name][key]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdata = this.injectMaxDPS(data, current_state, loading_sample);\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tinjectMaxDPS(data, current_state, loading_sample) {\r\n\t\tif (!current_state || !UsageService.usingMaxDPS(current_state.settings_data)) {\r\n\t\t\treturn data;\r\n\t\t}\r\n\r\n\t\tlet can_calculate_max = (!loading_sample && data.Encounter.DURATION >= 30);\r\n\r\n\t\tfor (let player_name in data.Combatant) {\r\n\t\t\tdata.Combatant[player_name].max_enc_dps = data.Combatant[player_name].max_enc_dps || 0;\r\n\r\n\t\t\tif (can_calculate_max && (!current_state || !current_state.internal.game.Combatant || !current_state.internal.game.Combatant[player_name] || +data.Combatant[player_name].encdps > current_state.internal.game.Combatant[player_name].max_enc_dps)) {\r\n\t\t\t\tdata.Combatant[player_name].max_enc_dps = +data.Combatant[player_name].encdps;\r\n\t\t\t} else if (current_state && current_state.internal.game.Combatant && current_state.internal.game.Combatant[player_name]) {\r\n\t\t\t\tdata.Combatant[player_name].max_enc_dps = current_state.internal.game.Combatant[player_name].max_enc_dps || 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tnormalizeAggroList(data) {\r\n\t\tfor (let key of [\"CurrentHP\", \"MaxHP\"]) {\r\n\t\t\tfor (let i in data.AggroList) {\r\n\t\t\t\tif (data.AggroList[i][key] !== undefined) {\r\n\t\t\t\t\tdata.AggroList[i][key] = this.normalizeFieldLocale(data.AggroList[i][key]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data.AggroList;\r\n\t}\r\n\r\n\tappendHistory(data, state) {\r\n\t\tif (!data.Encounter) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst interval = 15;\r\n\r\n\t\tlet current_history = state.internal.encounter_history[0].data_history;\r\n\t\tlet recent_time     = Object.keys(current_history).slice(-1)[0];\r\n\t\tlet current_time    = Math.round(new Date().getTime() / 1000);\r\n\r\n\t\tif (recent_time && (current_time - recent_time) < interval) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet new_data  = {};\r\n\t\tlet encounter = JSON.parse(JSON.stringify(data.Encounter));\r\n\r\n\t\tnew_data[\"Encounter\"] = {\r\n\t\t\tencdps : PlayerProcessor.getDataValue(\"encdps\", encounter, undefined, undefined, true),\r\n\t\t\tenchps : PlayerProcessor.getDataValue(\"enchps\", encounter, undefined, undefined, true),\r\n\t\t\tenctps : PlayerProcessor.getDataValue(\"enctps\", encounter, undefined, encounter, true)\r\n\t\t};\r\n\r\n\t\tfor (let player_name in data.Combatant) {\r\n\t\t\tlet player = JSON.parse(JSON.stringify(data.Combatant[player_name]));\r\n\r\n\t\t\tnew_data[player_name] = {\r\n\t\t\t\tencdps : PlayerProcessor.getDataValue(\"encdps\", player, undefined, undefined, true),\r\n\t\t\t\tenchps : PlayerProcessor.getDataValue(\"enchps\", player, undefined, undefined, true),\r\n\t\t\t\tenctps : PlayerProcessor.getDataValue(\"enctps\", player, undefined, encounter, true)\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcurrent_history[current_time] = new_data;\r\n\r\n\t\tstate.internal.encounter_history[0].data_history = current_history;\r\n\t}\r\n\r\n\tprocessEnmity(data) {\r\n\t\tfor (let i in data.Entries) {\r\n\t\t\tdata.Entries[i].name = data.Entries[i].Name;\r\n\t\t}\r\n\r\n\t\tlet sorted_players = PlayerProcessor.sortPlayers(data.Entries, undefined, \"Enmity\");\r\n\t\tlet max_value      = 0;\r\n\t\tlet players        = {};\r\n\r\n\t\tfor (let player of sorted_players) {\r\n\t\t\tif (!max_value) {\r\n\t\t\t\tmax_value = player.Enmity || 100;\r\n\t\t\t}\r\n\r\n\t\t\tlet percent = ((player.Enmity / max_value) * 100).toFixed(2);\r\n\r\n\t\t\tplayers[player.Name] = percent;\r\n\t\t}\r\n\r\n\t\treturn players;\r\n\t}\r\n\r\n\tinjectEnmity(data, state) {\r\n\t\tfor (let player_name in data.Combatant) {\r\n\t\t\tlet real_player_name = player_name;\r\n\r\n\t\t\tif (player_name === \"YOU\") {\r\n\t\t\t\tplayer_name = PlayerProcessor.getDataValue(\"name\", data.Combatant[player_name], undefined, undefined, undefined, state);\r\n\t\t\t}\r\n\r\n\t\t\tdata.Combatant[real_player_name].enmity_percent = state.internal.enmity[player_name] || 0;\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tprocessParty(data) {\r\n\t\tlet party = [];\r\n\r\n\t\tif (!data || !data.party) {\r\n\t\t\treturn party;\r\n\t\t}\r\n\r\n\t\tfor (let i in data.party) {\r\n\t\t\tif (data.party[i].inParty) {\r\n\t\t\t\tparty.push(data.party[i].name);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn party;\r\n\t}\r\n\r\n\tconvertToLocaleFormat(key, value) {\r\n\t\tconst state = store.getState();\r\n\r\n\t\tlet accuracy          = state.settings.interface.decimal_accuracy;\r\n\t\tlet shorten_thousands = state.settings.interface.shorten_thousands;\r\n\t\tlet over_thousand     = false;\r\n\t\tlet fraction_rules    = Constants.PlayerMetricFractionRules[key];\r\n\t\tlet minimum_fraction  = (fraction_rules && fraction_rules.hasOwnProperty(\"min\")) ? fraction_rules.min : accuracy;\r\n\t\tlet maximum_fraction  = (fraction_rules && fraction_rules.hasOwnProperty(\"max\")) ? fraction_rules.max : accuracy;\r\n\t\t\r\n\t\tvalue = +value;\r\n\r\n\t\tif (shorten_thousands && value >= 1000) {\r\n\t\t\tvalue         = +(value / 1000).toFixed(2);\r\n\t\t\tover_thousand = true;\r\n\t\t}\r\n\r\n\t\tvalue = value.toLocaleString(undefined, { minimumFractionDigits : minimum_fraction, maximumFractionDigits: maximum_fraction });\r\n\r\n\t\tif (over_thousand) {\r\n\t\t\tvalue += \"K\";\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t}\r\n}\r\n\r\nexport default new GameDataProcessor();","// extracted by mini-css-extract-plugin","var map = {\n\t\"./01-convert-binary-short-name-setting.js\": 403,\n\t\"./02-store-settings-in-overlayplugin.js\": 404\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 402;","import store from \"../redux/store/index\";\r\nimport { updateSetting } from \"../redux/actions/index\";\r\n\r\nclass Migration {\r\n\tmigrate() {\r\n\t\tconst map = {\r\n\t\t\tfalse : \"no_short\",\r\n\t\t\ttrue  : \"short_first\"\r\n\t\t};\r\n\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet settings    = store.getState().settings_data;\r\n\t\t\tlet table_names = settings.getSetting(\"table_settings.general.table.short_names\");\r\n\t\t\tlet raid_names  = settings.getSetting(\"table_settings.general.raid.short_names\");\r\n\r\n\t\t\tstore.dispatch(\r\n\t\t\t\tupdateSetting({\r\n\t\t\t\t\tkey       : \"table_settings.general.table.short_names\",\r\n\t\t\t\t\tvalue     : map[table_names] || \"no_short\",\r\n\t\t\t\t\tskip_save : true\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tstore.dispatch(\r\n\t\t\t\tupdateSetting({\r\n\t\t\t\t\tkey       : \"table_settings.general.raid.short_names\",\r\n\t\t\t\t\tvalue     : map[raid_names] || \"no_short\",\r\n\t\t\t\t\tskip_save : true\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tresolve();\r\n\t\t});\r\n\t}\t\r\n}\r\n\r\nexport default new Migration();","import store from \"../redux/store/index\";\r\n\r\nclass Migration {\r\n\tmigrate() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet state    = store.getState();\r\n\t\t\tlet service  = state.plugin_service;\r\n\t\t\t\r\n\t\t\tif (!service.plugin_service.isNgld()) {\r\n\t\t\t\tresolve();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tstate.settings_data.saveToOverlayPlugin();\r\n\t\t\tresolve();\r\n\t\t});\r\n\t}\t\r\n}\r\n\r\nexport default new Migration();","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import store from \"../redux/store/index\";\r\nimport { updateState } from \"../redux/actions/index\";\r\n\r\nclass SettingsService {\r\n\topenSettingsWindow() {\r\n\t\tlet new_data = {\r\n\t\t\tkey   : \"internal.new_version\",\r\n\t\t\tvalue : false\r\n\t\t}\r\n\r\n\t\tstore.dispatch(updateState(new_data));\r\n\t\twindow.open(\"#/settings/about\", \"\", \"width=600,height=430,location=no,menubar=no\");\r\n\t}\r\n\r\n\topenSettingsImport() {\r\n\t\tlet new_data = {\r\n\t\t\tkey   : \"internal.viewing\",\r\n\t\t\tvalue : \"import\"\r\n\t\t}\r\n\r\n\t\tstore.dispatch(updateState(new_data));\r\n\t}\r\n}\r\n\r\nexport default new SettingsService();","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { ContextMenu, MenuItem } from \"react-contextmenu\";\r\nimport { changeCollapse, loadSampleGameData, clearGameData, changeViewing, changeDetailPlayer } from \"../../../redux/actions/index\";\r\n\r\nimport SettingsService from \"../../../services/SettingsService\";\r\nimport LocalizationService from \"../../../services/LocalizationService\";\r\n\r\nclass Menu extends React.Component {\r\n\trender() {\r\n\t\tlet self           = this;\r\n\t\tlet plugin_service = this.props.plugin_service;\r\n\r\n\t\tlet collapse_item = function() {\r\n\t\t\tlet text = LocalizationService.getOverlayText((self.props.collapsed) ? \"uncollapse\" : \"collapse\");\r\n\t\t\tlet data = { state: !self.props.collapsed };\r\n\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem data={data} onClick={self.changeCollapse.bind(self)}>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</MenuItem>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tlet plugin_actions = function() {\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem onClick={plugin_service.splitEncounter.bind(plugin_service)}>\r\n\t\t\t\t\t{LocalizationService.getOverlayText(\"split_encounter\")}\r\n\t\t\t\t</MenuItem>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<ContextMenu id=\"right-click-menu\" className=\"container-context-menu\">\r\n\t\t\t\t<div className=\"item-group\">\r\n\t\t\t\t\t{collapse_item()}\r\n\t\t\t\t\t{plugin_actions()}\r\n\t\t\t\t\t<div className=\"split\"></div>\r\n\t\t\t\t\t<MenuItem onClick={this.changeViewing.bind(this, \"player\", this.props.encounter)}>\r\n\t\t\t\t\t\t{LocalizationService.getOverlayText(\"view_encounter\")}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t<MenuItem onClick={this.loadSampleGameData.bind(this)}>\r\n\t\t\t\t\t\t{LocalizationService.getOverlayText(\"load_sample\")}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t<MenuItem onClick={this.clearGameData.bind(this)}>\r\n\t\t\t\t\t\t{LocalizationService.getOverlayText(\"clear_encounter\")}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t<div className=\"split\"></div>\r\n\t\t\t\t\t<MenuItem onClick={SettingsService.openSettingsWindow}>\r\n\t\t\t\t\t\t{LocalizationService.getOverlayText(\"settings\")}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t<MenuItem onClick={SettingsService.openSettingsImport}>\r\n\t\t\t\t\t\t{LocalizationService.getOverlayText(\"import\")}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t</div>\r\n\t\t\t</ContextMenu>\r\n\t\t);\r\n\t}\r\n\r\n\tchangeCollapse(e, data) {\r\n\t\tthis.props.changeCollapse(data.state);\r\n\t}\r\n\r\n\tloadSampleGameData() {\r\n\t\tthis.props.loadSampleGameData();\r\n\t}\r\n\r\n\tclearGameData() {\r\n\t\tthis.props.clearGameData();\r\n\t}\r\n\r\n\tchangeViewing(type, player) {\r\n\t\tif (!player) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.changeViewing(type);\r\n\t\tthis.props.changeDetailPlayer(player);\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tchangeCollapse      : (data) => {\r\n\t\t\tdispatch(changeCollapse(data));\r\n\t\t},\r\n\r\n\t\tloadSampleGameData : () => {\r\n\t\t\tdispatch(loadSampleGameData());\r\n\t\t},\r\n\r\n\t\tclearGameData      : () => {\r\n\t\t\tdispatch(clearGameData());\r\n\t\t},\r\n\r\n\t\tchangeViewing      : (data) => {\r\n\t\t\tdispatch(changeViewing(data));\r\n\t\t},\r\n\r\n\t\tchangeDetailPlayer : (data) => {\r\n\t\t\tdispatch(changeDetailPlayer(data));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tplugin_service : state.plugin_service,\r\n\t\tlanguage       : state.settings.interface.language,\r\n\t\tcollapsed      : state.settings.intrinsic.collapsed,\r\n\t\toverlayplugin  : state.internal.overlayplugin,\r\n\t\tencounter      : state.internal.game.Encounter\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Form, Input, Button } from \"semantic-ui-react\";\r\nimport $ from \"jquery\";\r\n\r\nimport LocalizationService from \"../../../services/LocalizationService\";\r\n\r\nclass Import extends React.Component {\r\n\trender() {\r\n\t\tlet allow_overlayplugin_import = (this.props.plugin_service.is_websocket && this.props.author === \"ngld\");\r\n\t\tlet overlayplugin_button       = (!allow_overlayplugin_import)\r\n\t\t\t? \"\"\r\n\t\t\t: <Button size=\"mini\" className=\"import\" onClick={this.handleImport.bind(this, true)}>{LocalizationService.getOverlayText(\"import\")} from OverlayPlugin</Button>;\r\n\t\tlet overlayplugin_text         = (!allow_overlayplugin_import)\r\n\t\t\t? \"\"\r\n\t\t\t: (\r\n\t\t\t\t<p>\r\n\t\t\t\t\tEmber has detected you are using OverlayPlugin.\r\n\t\t\t\t\tYou can attempt to import automatically from OverlayPlugin by clicking \"{LocalizationService.getOverlayText(\"import\")} from OverlayPlugin\" below.\r\n\t\t\t\t\tOtherwise, follow the import steps as normal.\r\n\t\t\t\t</p>\r\n\t\t\t);\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div id=\"import\">\r\n\t\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t\t<div className=\"name\">{LocalizationService.getOverlayText(\"import_settings\")}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"section\">\r\n\t\t\t\t\t\t{overlayplugin_text}\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{LocalizationService.getOverlayText(\"import_instructions\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t\t<Input/>\r\n\t\t\t\t\t\t\t\t\t<Button size=\"mini\" className=\"import\" onClick={this.handleImport.bind(this, false)}>{LocalizationService.getOverlayText(\"import\")}</Button>\r\n\t\t\t\t\t\t\t\t\t{overlayplugin_button}\r\n\t\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\r\n\tgetButtons() {\r\n\t\treturn $(document).find(\"button.import\");\r\n\t}\r\n\r\n\tgetButton(e) {\r\n\t\treturn $(e.target);\r\n\t}\r\n\r\n\tgetInput(e, button) {\r\n\t\tlet $button = button || this.getButton(e);\r\n\t\t\r\n\t\treturn $button.closest(\".field\").find(\"input\");\r\n\t}\r\n\r\n\thandlePaste(e, f, g) {\r\n\t\tlet $input = this.getInput(e);\r\n\r\n\t\t$input[0].focus();\r\n\t\tdocument.execCommand(\"paste\");\r\n\t}\r\n\r\n\tenableButtons($clicked_button, button_text) {\r\n\t\tlet $buttons = this.getButtons();\r\n\r\n\t\t$clicked_button.text(button_text);\r\n\t\t$buttons.attr(\"disabled\", false);\r\n\t}\r\n\r\n\thandleImport(overlayplugin, event) {\r\n\t\tlet $button      = this.getButton(event);\r\n\t\tlet $buttons     = this.getButtons();\r\n\t\tlet value        = this.getInput(event, $button).val();\r\n\t\tlet initial_text = $button.text();\r\n\t\tlet promise      = null;\r\n\r\n\t\t$buttons.attr(\"disabled\", true);\r\n\t\t$button.text(\"Importing...\");\r\n\r\n\t\tif (!overlayplugin) {\r\n\t\t\tpromise = this.props.settings_data.importSettings(value);\r\n\t\t} else {\r\n\t\t\tpromise = this.props.settings_data.restoreFromOverlayPlugin();\r\n\t\t}\r\n\r\n\t\tpromise\r\n\t\t\t.then(() => {\r\n\t\t\t\t$button.text(\"Imported!\");\r\n\t\t\t\tsetTimeout(this.enableButtons.bind(this, $button, initial_text), 4000);\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\t$button.text(\"Import has failed...\");\r\n\t\t\t\tsetTimeout(this.enableButtons.bind(this, $button, initial_text), 4000);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauthor         : state.internal.overlayplugin_author,\r\n\t\tlanguage       : state.settings.interface.language,\r\n\t\tsettings_data  : state.settings_data,\r\n\t\tplugin_service : state.plugin_service\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps)(Import);","import React from \"react\";\r\nimport { Icon } from \"semantic-ui-react\";\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\nclass IconButton extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tReactTooltip.rebuild();\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet icon_attributes  = {\r\n\t\t\tname       : this.props.icon,\r\n\t\t\talt        : this.props.title,\r\n\t\t\t\"data-tip\" : this.props.title,\r\n\t\t\ttitle      : this.props.title\r\n\t\t};\r\n\r\n\t\tif (this.props.no_container) {\r\n\t\t\ticon_attributes.onClick = this.props.onClick;\r\n\t\t}\r\n\r\n\t\tlet additional_class = this.props.class || \"\";\r\n\t\tlet icon             = <Icon {...icon_attributes}/>;\r\n\r\n\t\treturn (\r\n\t\t\t(this.props.no_container)\r\n\t\t\t\t? icon\r\n\t\t\t\t: <div className={\"icon-container \" + additional_class} onClick={this.props.onClick}>\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default IconButton;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { changeCollapse } from \"../../redux/actions/index\";\r\n\r\nimport IconButton from \"./Container/IconButton\";\r\nimport LocalizationService from \"../../services/LocalizationService\";\r\n\r\nclass GameState extends React.Component {\r\n\trender() {\r\n\t\tlet encounter_class = (this.props.active) ? \"active\" : \"inactive\";\r\n\t\tlet rank_class      = (this.props.show_rank) ? \"\" : \"hidden\";\r\n\t\tlet rank            = (this.props.rank === \"N/A\") ? LocalizationService.getOverlayText(\"not_applicable\") : this.props.rank;\r\n\t\tlet collapse_item   = () => {\r\n\t\t\tlet icon = (this.props.collapsed) ? \"expand\" : \"compress\";\r\n\t\t\tlet data = { state: !this.props.collapsed };\r\n\r\n\t\t\treturn(\r\n\t\t\t\t<IconButton icon={icon} title={LocalizationService.getOverlayText(\"toggle_collapse\")} key=\"toggle-collapsed\" onClick={this.changeCollapse.bind(this, data)}/>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\tlet encounter       = this.props.encounter;\r\n\t\tlet encounter_state = [];\r\n\r\n\t\tif (!encounter.title) {\r\n\t\t\tencounter_state.push(LocalizationService.getOverlayText(\"awaiting_encounter\"));\r\n\t\t} else {\r\n\t\t\tencounter_state.push(encounter.duration);\r\n\r\n\t\t\tif (encounter.title !== \"Encounter\") {\r\n\t\t\t\tencounter_state.push(encounter.title);\r\n\t\t\t}\r\n\r\n\t\t\tencounter_state.push(encounter.CurrentZoneName);\r\n\t\t}\r\n\r\n\t\tencounter_state = encounter_state.join(\" - \");\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"game-state\">\r\n\t\t\t\t<span className={encounter_class}>{encounter_state}</span>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<span className={rank_class}>{rank}</span>\r\n\t\t\t\t\t{collapse_item()}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tchangeCollapse(data) {\r\n\t\tthis.props.changeCollapse(data.state);\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tchangeCollapse : (data) => {\r\n\t\t\tdispatch(changeCollapse(data));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tcollapsed : state.settings.intrinsic.collapsed\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(GameState);","import React from \"react\";\r\n\r\nclass PercentBar extends React.Component {\r\n\trender() {\r\n\t\tlet percent = this.props.percent;\r\n\r\n\t\treturn(\r\n\t\t\t<div className=\"column-percent-bar\" key=\"column-percent-bar\" style={{backgroundSize: `${percent}% 100%`}}></div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PercentBar;","import React from \"react\";\r\n\r\nimport PlayerProcessor from \"../../../processors/PlayerProcessor\";\r\nimport LocalizationService from \"../../../services/LocalizationService\";\r\nimport Constants from \"../../../constants/index\";\r\nimport PercentBar from \"../PercentBar\";\r\n\r\nclass Player extends React.Component {\r\n\trender() {\r\n\t\tlet player       = this.props.player;\r\n\t\tlet player_type  = (player._is_current) ? \"active\" : \"other\";\r\n\t\tlet job          = (player._is_pet) ? \"PET\" : player.Job.toUpperCase() || \"LMB\";\r\n\t\tlet table_type   = this.props.type;\r\n\t\tlet is_raid      = (table_type === \"raid\");\r\n\t\tlet columns      = [];\r\n\t\tlet stat_columns = this.props.columns;\r\n\t\tlet job_data     = Constants.GameJobs[job];\r\n\t\tlet role         = (job_data) ? job_data.role : \"dps\";\r\n\r\n\t\tif (is_raid) {\r\n\t\t\tstat_columns = stat_columns[role];\r\n\t\t}\r\n\r\n\t\tfor (let key of stat_columns) {\r\n\t\t\tlet value  = PlayerProcessor.getDataValue(key, player, this.props.players, this.props.encounter);\r\n\t\t\tlet prefix = (is_raid) ? LocalizationService.getPlayerDataTitle(key, \"short\") + \": \" : \"\";\r\n\r\n\t\t\tif (key === \"enmity_percent\") {\r\n\t\t\t\tcolumns.push(<div className=\"column\" key={key}><PercentBar percent={value}/></div>);\r\n\t\t\t} else {\r\n\t\t\t\tcolumns.push(\r\n\t\t\t\t\t<div className=\"column\" key={key}><span>{prefix}</span>{value}</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet name_blur   = (this.props.blur) ? \"blur\" : \"\";\r\n\t\tlet icon_blur   = (this.props.blur && this.props.icon_blur) ? \"blur\" : \"\";\r\n\t\tlet icon_style  = (icon_blur) ? { WebkitFilter: \"blur(4px)\" } : {};\r\n\t\tlet player_name = PlayerProcessor.getDataValue(\"name\", player);\r\n\t\tlet icon        = <div className=\"column\" key={\"player-data-icon-\" + player_name}><img src={\"img/icons/jobs/\" + job + \".png\"} className={\"icon \" + icon_blur} style={icon_style} alt={job + \" icon\"}></img></div>;\r\n\r\n\t\tif (this.props.short_names !== \"no_short\") {\r\n\t\t\tplayer_name = PlayerProcessor.getShortName(player_name, this.props.short_names);\r\n\t\t}\r\n\r\n\t\tlet name       = <div className={\"column \" + name_blur} key=\"player-data-name\">{player_name}</div>;\r\n\t\tlet playerData = () => {\r\n\t\t\tif (!is_raid) {\r\n\t\t\t\treturn [\r\n\t\t\t\t\ticon,\r\n\t\t\t\t\tname\r\n\t\t\t\t];\r\n\t\t\t}\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"player-data\">\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t\t{name}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t};\r\n\t\tlet statData   = () => {\r\n\t\t\tif (!is_raid) {\r\n\t\t\t\treturn columns;\r\n\t\t\t}\r\n\r\n\r\n\t\t\treturn(\r\n\t\t\t\t<div className=\"stat-data\">\r\n\t\t\t\t\t{columns}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t};\r\n\t\tlet percentBar = () => {\r\n\t\t\tif (!this.props.percent_bars) {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"percent-bar\" key={\"percent-bar-\" + player_name} style={{\r\n\t\t\t\t\tbackgroundSize      : \"0% 100%\",\r\n\t\t\t\t\tbackgroundRepeat    : \"no-repeat\",\r\n\t\t\t\t\tbackgroundPositionY : \"1px\",\r\n\t\t\t\t\tposition            : \"absolute\",\r\n\t\t\t\t\ttop                 : \"0\",\r\n\t\t\t\t\tleft                : \"0\",\r\n\t\t\t\t\twidth               : \"0\",\r\n\t\t\t\t\theight              : \"0\"\r\n\t\t\t\t}}></div>\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className={\"row player \" + player_type} data-job={job} data-role={role} data-party={+(player._party || 0)} key={\"player-\" + player_name} data-percent={this.props.percent} onClick={this.props.onClick}>\r\n\t\t\t\t{playerData()}\r\n\t\t\t\t{statData()}\r\n\t\t\t\t{percentBar()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Player;","class DonationService {\r\n\tbuildLocalDonationLink(rel) {\r\n\t\tlet search     = window.location.search || \"\";\r\n\t\tlet search_add = (search.slice(0, 1) === \"?\") ? \"&\" : \"?\";\r\n\r\n\t\tsearch += search_add + `default=${rel}`;\r\n\r\n\t\treturn window.location.pathname + search + \"#/settings/donate\";\r\n\t}\r\n\r\n\tgetRealDonationLink(rel) {\r\n\t\trel = rel.toUpperCase();\r\n\r\n\t\treturn process.env[`REACT_APP_${rel}_DONATE_LINK`];\r\n\t}\r\n}\r\n\r\nexport default new DonationService();","import React from \"react\";\r\nimport store from \"../redux/store/index\";\r\nimport { updateSetting, updateState } from \"../redux/actions/index\";\r\nimport { Container } from \"semantic-ui-react\";\r\nimport $ from \"jquery\";\r\nimport Parser from \"changelog-parser\";\r\nimport compareVersions from \"compare-versions\";\r\n\r\nimport LocalizationService from \"./LocalizationService\";\r\n\r\nconst no_changes = \"No changes since your last visit.\";\r\n\r\nclass VersionService {\r\n\tgetSystemVersion() {\r\n\t\treturn process.env.REACT_APP_VERSION;\r\n\t}\r\n\r\n\tgetLastUserVersion() {\r\n\t\tconst intrinsic_settings = store.getState().settings.intrinsic;\r\n\r\n\t\treturn intrinsic_settings.last_version || \"0.0.0\";\r\n\t}\r\n\r\n\tgetCurrentUserVersion() {\r\n\t\tconst intrinsic_settings = store.getState().settings.intrinsic;\r\n\r\n\t\treturn intrinsic_settings.current_version || \"0.0.0\";\r\n\t}\r\n\r\n\tdetermineIfNewer() {\r\n\t\tlet system_version  = this.getSystemVersion();\r\n\t\tlet current_version = this.getCurrentUserVersion();\r\n\r\n\t\tconst settings_data = store.getState().settings_data;\r\n\r\n\t\tif (!compareVersions.compare(system_version, current_version, \">\")) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tsettings_data.setSetting(\"intrinsic.current_version\", system_version, true);\r\n\r\n\t\tlet last_data = {\r\n\t\t\tkey   : \"intrinsic.last_version\",\r\n\t\t\tvalue : current_version\r\n\t\t};\r\n\r\n\t\tstore.dispatch(updateSetting(last_data));\r\n\r\n\t\tlet new_data = {\r\n\t\t\tkey   : \"internal.new_version\",\r\n\t\t\tvalue : true\r\n\t\t}\r\n\r\n\t\tstore.dispatch(updateState(new_data));\r\n\t\treturn true;\r\n\t}\r\n\r\n\tformatChangelog(data) {\r\n\t\tlet changelog = [];\r\n\r\n\t\tif (typeof data === \"string\") {\r\n\t\t\tchangelog = <p>{data}</p>;\r\n\t\t} else {\r\n\t\t\tfor (let item_type in data) {\r\n\t\t\t\tlet count = 0;\r\n\t\t\t\tlet items = data[item_type].map((item) => {\r\n\t\t\t\t\tcount++;\r\n\r\n\t\t\t\t\treturn <li key={item_type + \"-\" + count}>{item}</li>\r\n\t\t\t\t});\r\n\r\n\t\t\t\tlet ul = <ul>{items}</ul>\r\n\r\n\t\t\t\tchangelog.push(\r\n\t\t\t\t\t<Container fluid className=\"changelog-section\" key={item_type + \"-section\"}>\r\n\t\t\t\t\t\t<h4>{item_type}</h4>\r\n\t\t\t\t\t\t{ul}\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn changelog;\r\n\t}\r\n\r\n\tgetChangelogForUser() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet last_user_version = this.getLastUserVersion();\r\n\r\n\t\t\tif (compareVersions.compare(this.getSystemVersion(), last_user_version, \">\")) {\r\n\t\t\t\tthis.parseChangelog()\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\tresolve(this.processChangelog(data, last_user_version));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\treject();\r\n\t\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tresolve(no_changes);\r\n\t\t\treturn;\r\n\t\t});\r\n\t}\r\n\r\n\tgetLatestChangelogs(count) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.parseChangelog()\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tresolve(this.processChangelog(data, undefined, count));\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\treject();\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprocessChangelog(data, minimum_version, max_version_count) {\r\n\t\tlet final_data = {\r\n\t\t\t\"Features\"   : [],\r\n\t\t\t\"UI Changes\" : [],\r\n\t\t\t\"Bug Fixes\"  : []\r\n\t\t};\r\n\r\n\t\tfor (let i in data.versions) {\r\n\t\t\tlet version_data = data.versions[i];\r\n\t\t\tlet version      = version_data.version;\r\n\r\n\t\t\tif ((minimum_version && compareVersions.compare(version, minimum_version, \"<=\")) || (max_version_count && +i === (max_version_count - 1))) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tfor (let item_type in version_data.parsed) {\r\n\t\t\t\tif (!final_data[item_type]) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfinal_data[item_type] = final_data[item_type].concat(version_data.parsed[item_type]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet has_changes = false;\r\n\r\n\t\tfor (let item_type in final_data) {\r\n\t\t\tfinal_data[item_type] = final_data[item_type].filter((item) => {\r\n\t\t\t\treturn ([\"N/A\", \"?\"].indexOf(item) === -1);\r\n\t\t\t});\r\n\r\n\t\t\tif (!has_changes) {\r\n\t\t\t\thas_changes = (final_data[item_type].length > 0);\r\n\t\t\t}\r\n\r\n\t\t\tif (final_data[item_type].length === 0) {\r\n\t\t\t\tdelete final_data[item_type];\r\n\t\t\t}\r\n\r\n\t\t\tif (has_changes) {\r\n\t\t\t\tfor (let item_type in final_data) {\r\n\t\t\t\t\tlet translated_type = item_type;\r\n\r\n\t\t\t\t\tswitch (item_type) {\r\n\t\t\t\t\t\tcase \"Features\":\r\n\t\t\t\t\t\t\ttranslated_type = LocalizationService.getMisc(\"features\");\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"UI Changes\":\r\n\t\t\t\t\t\t\ttranslated_type = LocalizationService.getMisc(\"ui_changes\");\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"Bug Fixes\":\r\n\t\t\t\t\t\t\ttranslated_type = LocalizationService.getMisc(\"bug_fixes\");\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (translated_type !== item_type) {\r\n\t\t\t\t\t\tfinal_data[translated_type] = JSON.parse(JSON.stringify(final_data[item_type]));\r\n\r\n\t\t\t\t\t\tdelete final_data[item_type];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (has_changes) ? final_data : no_changes;\r\n\t}\r\n\r\n\tparseChangelog() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t$.get(\"logs/CHANGELOG.md\")\r\n\t\t\t\t.done((data) => {\r\n\t\t\t\t\tParser({\r\n\t\t\t\t\t\ttext : data\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t\tresolve(result);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\treject();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default new VersionService();","import React from \"react\";\r\n\r\nimport DonationService from \"../../../services/DonationService\";\r\nimport VersionService from \"../../../services/VersionService\";\r\n\r\nclass OverlayInfo extends React.Component {\r\n\tcomponentWillMount() {\r\n\t\t// Hibiya OverlayPlugin: 45.0.2454.85\r\n\t\t// ACTWS: 53.0.2785.148\r\n\t\t// ngld OverlayPlugin: 78\r\n\t\tlet browser_data    = navigator.userAgent.match(/Chrome\\/[\\d.]+/g);\r\n\t\tlet browser_version = \"hibiya\";\r\n\r\n\t\tif (browser_data) {\r\n\t\t\tlet chrome_version = +browser_data[0].split(\"/\")[1].split(\".\")[0];\r\n\r\n\t\t\tif (chrome_version >= 65) {\r\n\t\t\t\tbrowser_version = \"ngld\";\r\n\t\t\t} else if (chrome_version >= 53) {\r\n\t\t\t\tbrowser_version = \"actws\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Probably in a non-Chrome desktop browser, so we'll call it ngld for consistency\r\n\t\t\tbrowser_version = \"ngld\";\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tchangelog : <p>Loading changelog...</p>,\r\n\t\t\tchrome    : browser_version\r\n\t\t});\r\n\r\n\t\tVersionService.getLatestChangelogs(5)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tlet changelog = VersionService.formatChangelog(data);\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchangelog: changelog\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"overlay-info\">\r\n\t\t\t\t<h3>Ember Overlay</h3>\r\n\t\t\t\t<p>This section will disappear when an encounter begins.</p>\r\n\t\t\t\t<p>Try out the new minimal theme in Settings -> Interface!</p>\r\n\r\n\t\t\t\t<div id=\"funding\">\r\n\t\t\t\t\t<span onClick={this.openFundingLink.bind(this, \"cash\")} ref=\"cash\"><img src=\"img/buttons/funding/cash.svg\" alt=\"Donate on Cash App\" height=\"20\"/></span>\r\n\t\t\t\t\t<span onClick={this.openFundingLink.bind(this, \"paypal\")} ref=\"paypal\"><img src=\"img/buttons/funding/paypal-resized.png\" alt=\"Donate at PayPal\" height=\"20\"/></span>\r\n\t\t\t\t\t<span onClick={this.openFundingLink.bind(this, \"kofi\")} ref=\"kofi\"><img src=\"img/buttons/funding/kofi.svg\" alt=\"Donate at Ko-fi\" height=\"20\"/></span>\r\n\t\t\t\t\t<span onClick={this.openFundingLink.bind(this, \"patreon\")} ref=\"patreon\"><img src=\"img/buttons/funding/patreon.png\" alt=\"Donate at Patreon\" height=\"20\"/></span>\r\n\t\t\t\t\t<span onClick={this.openFundingLink.bind(this, \"streamlabs\")} ref=\"streamlabs\"><img src=\"img/buttons/funding/streamlabs.svg\" alt=\"Donate at Streamlabs\" height=\"20\"/></span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<h3>Latest Changes</h3>\r\n\t\t\t\t{this.state.changelog}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\topenFundingLink(rel) {\r\n\t\tlet url = \"\";\r\n\r\n\t\t// Min for PayPal: Hibiya\r\n\t\t// Min for Streamlabs: ngld\r\n\t\t// Min for Ko-fi: Hibiya\r\n\t\t// Min for Patreon: ngld\r\n\t\tswitch (this.state.chrome) {\r\n\t\t\tcase \"hibiya\":\r\n\t\t\tcase \"actws\":\r\n\t\t\t\tswitch (rel) {\r\n\t\t\t\t\tcase \"paypal\":\r\n\t\t\t\t\tcase \"kofi\":\r\n\t\t\t\t\tcase \"cash\":\r\n\t\t\t\t\t\turl = DonationService.getRealDonationLink(rel);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\turl = DonationService.buildLocalDonationLink(rel);\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"ngld\":\r\n\t\t\tdefault:\r\n\t\t\t\turl = DonationService.getRealDonationLink(rel);\r\n\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\twindow.open(url, \"\", \"width=600,height=530,location=yes,menubar=yes\");\r\n\t}\r\n}\r\n\r\nexport default OverlayInfo;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport $ from \"jquery\";\r\nimport { changeViewing, changeDetailPlayer, updateState } from \"../../redux/actions/index\";\r\n\r\nimport GameDataProcessor from \"../../processors/GameDataProcessor\";\r\nimport PlayerProcessor from \"../../processors/PlayerProcessor\";\r\nimport LocalizationService from \"../../services/LocalizationService\";\r\nimport Constants from \"../../constants/index\";\r\n\r\nimport Player from \"./PlayerTable/Player\";\r\nimport OverlayInfo from \"./PlayerTable/OverlayInfo\";\r\n\r\nclass PlayerTable extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.updateBackgrounds();\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tthis.updateBackgrounds();\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet header         = [];\r\n\t\tlet footer         = [];\r\n\t\tlet rows           = [];\r\n\t\tlet pet_rows       = [];\r\n\t\tlet count          = 0;\r\n\t\tlet rank           = 0;\r\n\t\tlet found          = false;\r\n\t\tlet table_type     = this.props.type;\r\n\t\tlet is_raid        = (table_type === \"raid\");\r\n\t\tlet player_blur    = (this.props.player_blur);\r\n\t\tlet collapsed      = this.props.collapsed;\r\n\t\tlet sort_column    = this.props.sort_columns[table_type];\r\n\t\tlet sorted_players = (this.props.players) ? PlayerProcessor.sortPlayers(this.props.players, this.props.encounter, sort_column) : [];\r\n\t\tlet short_names    = (is_raid) ? this.props.table_settings.general.raid.short_names : this.props.table_settings.general.table.short_names;\r\n\t\tlet footer_at_top  = this.props.table_settings.general.table.footer_at_top;\r\n\t\tlet percent_bars   = (is_raid) ? this.props.table_settings.general.raid.percent_bars : this.props.table_settings.general.table.percent_bars;\r\n\t\tlet prioritize_pt  = (is_raid) ? this.props.table_settings.general.raid.prioritize_party : this.props.table_settings.general.table.prioritize_party;\r\n\r\n\t\tif (!is_raid) {\r\n\t\t\tfor (let key of this.props.table_columns[table_type]) {\r\n\t\t\t\tlet title = LocalizationService.getPlayerDataTitle(key, \"short\");\r\n\r\n\t\t\t\theader.push(\r\n\t\t\t\t\t<div className=\"column\" key={key}>{title}</div>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (Constants.PlayerMetricsSummable.indexOf(key) !== -1) {\r\n\t\t\t\t\tfooter.push(\r\n\t\t\t\t\t\t<div className=\"column\" key={key}>{GameDataProcessor.convertToLocaleFormat(key, +this.props.encounter[key] || 0)}</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfooter.push(\r\n\t\t\t\t\t\t<div className=\"column\" key={key}></div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet max_value = 0;\r\n\r\n\t\tfor (let player of sorted_players) {\r\n\t\t\tlet pet_owner = null;\r\n\r\n\t\t\tplayer._name = player.name;\r\n\t\t\tplayer._skip = false;\r\n\r\n\t\t\tif (player.Job === \"\" && player.name !== \"Limit Break\") {\r\n\t\t\t\tlet name    = player.name;\r\n\t\t\t\tlet matches = name.match(/[^()]+\\(([^()]+)\\)/i);\r\n\r\n\t\t\t\tif (!matches || !matches.length || !matches[1]) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpet_owner = matches[1];\r\n\r\n\t\t\t\tplayer._is_pet = true;\r\n\t\t\t\tplayer._name   = pet_owner;\r\n\t\t\t}\r\n\r\n\t\t\tplayer._is_current = (player.name === \"YOU\" || player._name === this.props.player_name || (player._name === this.props.internal_name && this.props.player_name === \"YOU\"));\r\n\r\n\t\t\tif (player._is_pet && !player._is_current && !this.props.players[player._name]) {\r\n\t\t\t\tplayer._skip = true;\r\n\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (!found) {\r\n\t\t\t\trank++;\r\n\t\t\t}\r\n\r\n\t\t\tif (player._is_current && !player._is_pet) {\r\n\t\t\t\tfound = true;\r\n\t\t\t}\r\n\r\n\t\t\tcount++;\r\n\r\n\t\t\tlet sort_value = PlayerProcessor.getDataValue(sort_column, player, sorted_players, this.props.encounter, true);\r\n\r\n\t\t\tif (!max_value) {\r\n\t\t\t\tmax_value = sort_value || 1;\r\n\t\t\t}\r\n\r\n\t\t\tlet percent = ((sort_value / max_value) * 100).toFixed(2);\r\n\r\n\t\t\tplayer._percent = percent;\r\n\r\n\t\t\tif (collapsed && !player._is_current) {\r\n\t\t\t\tplayer._skip = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet resorted_players = Array.from(sorted_players);\r\n\r\n\t\tif (prioritize_pt && this.props.party.length > 1) {\r\n\t\t\tresorted_players.sort((a, b) => {\r\n\t\t\t\tlet party_has_a = (a._is_current || this.props.party.indexOf(a._name) !== -1);\r\n\t\t\t\tlet party_has_b = (b._is_current || this.props.party.indexOf(b._name) !== -1);\r\n\r\n\t\t\t\ta._party = party_has_a;\r\n\t\t\t\tb._party = party_has_b;\r\n\r\n\t\t\t\tif (party_has_a && !party_has_b) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (party_has_b && !party_has_a) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfor (let player of resorted_players) {\r\n\t\t\tif (player._skip) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tlet blur       = (player_blur && !player._is_current);\r\n\t\t\tlet player_obj = <Player key={player.name} percent={player._percent} percent_bars={percent_bars} player={player} players={sorted_players} encounter={this.props.encounter} columns={this.props.table_columns[table_type]} type={this.props.type} blur={blur} icon_blur={this.props.icon_blur} short_names={short_names} onClick={this.changeViewing.bind(this, \"player\", player)}/>\r\n\r\n\t\t\tif (player._is_pet) {\r\n\t\t\t\tpet_rows.push(player_obj);\r\n\t\t\t} else {\r\n\t\t\t\trows.push(player_obj);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet header_row, footer_row, table_class;\r\n\r\n\t\tlet rank_text = (rank === 0) ? LocalizationService.getOverlayText(\"not_applicable\") : `${rank}/${count}`;\r\n\r\n\t\tif (rank_text !== this.props.rank) {\r\n\t\t\tlet rank_data = {\r\n\t\t\t\tkey   : \"internal.rank\",\r\n\t\t\t\tvalue : rank_text\r\n\t\t\t};\r\n\r\n\t\t\tthis.props.updateState(rank_data);\r\n\t\t}\r\n\r\n\t\tif (!is_raid) {\r\n\t\t\theader_row = \r\n\t\t\t\t<div className=\"row header\">\r\n\t\t\t\t\t<div className=\"column\"></div>\r\n\t\t\t\t\t<div className=\"column\">{LocalizationService.getOverlayText(\"player_name\")}</div>\r\n\t\t\t\t\t{header}\r\n\t\t\t\t</div>;\r\n\r\n\t\t\tif (this.props.table_settings[table_type].show_footer) {\r\n\t\t\t\tfooter_row =\r\n\t\t\t\t\t<div className=\"row footer\">\r\n\t\t\t\t\t\t<div className=\"column\"></div>\r\n\t\t\t\t\t\t<div className=\"column\">{rank_text}</div>\r\n\t\t\t\t\t\t{footer}\r\n\t\t\t\t\t</div>;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttable_class = \"grid\";\r\n\t\t}\r\n\r\n\t\tlet getFooterRow = (location) => {\r\n\t\t\treturn ((footer_at_top && location === \"top\") || (!footer_at_top && location === \"bottom\")) ? footer_row : \"\";\r\n\t\t}\r\n\t\tlet petRows      = () => {\r\n\t\t\treturn (pet_rows.length)\r\n\t\t\t\t? <React.Fragment>\r\n\t\t\t\t\t<br></br>\r\n\t\t\t\t\t{pet_rows}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t\t: null;\r\n\t\t}\r\n\r\n\t\tlet overlay_info = (collapsed || (this.props.encounter && Object.keys(this.props.encounter).length)) ? \"\" : <OverlayInfo/>\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div id=\"player-table\" className={table_class} ref=\"player_table\">\r\n\t\t\t\t\t{header_row}\r\n\t\t\t\t\t{getFooterRow(\"top\")}\r\n\t\t\t\t\t{rows}\r\n\t\t\t\t\t{getFooterRow(\"bottom\")}\r\n\t\t\t\t\t{petRows()}\r\n\t\t\t\t</div>\r\n\t\t\t\t{overlay_info}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\r\n\tchangeViewing(type, player) {\r\n\t\tthis.props.changeViewing(type);\r\n\t\tthis.props.changeDetailPlayer(player);\r\n\t}\r\n\r\n\tupdateBackgrounds() {\r\n\t\tlet $table  = $(this.refs.player_table);\r\n\t\tlet is_grid = $table.hasClass(\"grid\");\r\n\r\n\t\t$table.find(\".row\").each(function() {\r\n\t\t\tlet $row = $(this);\r\n\t\t\tlet $bar = $row.find(\".percent-bar\");\r\n\r\n\t\t\tif (!$bar.length) {\r\n\t\t\t\tif ($row.hasClass(\"active-with-bar\")) {\r\n\t\t\t\t\t$row.removeClass(\"active-with-bar\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet height   = $row.outerHeight();\r\n\t\t\tlet width    = $row.outerWidth();\r\n\t\t\tlet position = $row.position();\r\n\r\n\t\t\tif (is_grid) {\r\n\t\t\t\theight--;\r\n\t\t\t}\r\n\r\n\t\t\tif ($row.hasClass(\"active\")) {\r\n\t\t\t\t$row.addClass(\"active-with-bar\");\r\n\t\t\t}\r\n\r\n\t\t\t$bar\r\n\t\t\t\t.css(\"top\", position.top + \"px\")\r\n\t\t\t\t.css(\"left\", position.left + \"px\")\r\n\t\t\t\t.css(\"width\", \"100%\")\r\n\t\t\t\t.css(\"height\", height + \"px\")\r\n\t\t\t\t.css(\"width\", width + \"px\")\r\n\t\t\t\t.css(\"backgroundSize\", $row.attr(\"data-percent\") + \"% 100%\");\r\n\t\t});\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tchangeViewing      : (data) => {\r\n\t\t\tdispatch(changeViewing(data));\r\n\t\t},\r\n\r\n\t\tchangeDetailPlayer : (data) => {\r\n\t\t\tdispatch(changeDetailPlayer(data));\r\n\t\t},\r\n\r\n\t\tupdateState        : (data) => {\r\n\t\t\tdispatch(updateState(data));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tinternal_name  : state.internal.character_name,\r\n\t\tlanguage       : state.settings.interface.language,\r\n\t\tplayer_name    : state.settings.interface.player_name,\r\n\t\ticon_blur      : state.settings.interface.blur_job_icons,\r\n\t\ttable_columns  : state.settings.table_columns,\r\n\t\tsort_columns   : state.settings.sort_columns,\r\n\t\tcollapsed      : state.settings.intrinsic.collapsed,\r\n\t\tplayer_blur    : state.settings.intrinsic.player_blur,\r\n\t\ttable_settings : state.settings.table_settings,\r\n\t\trank           : state.internal.rank,\r\n\t\tparty          : state.internal.party\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayerTable);","import React from \"react\";\r\nimport ChartComponent from \"react-chartjs-2\";\r\nimport { Line } from \"react-chartjs-2\";\r\n\r\nimport LocalizationService from \"../../../services/LocalizationService\";\r\n\r\nclass HistoryChart extends React.Component {\r\n\tcomponentWillMount() {\r\n\t\tChartComponent.prototype.destroyChart = function() {\r\n\t\t\tthis.saveCurrentDatasets();\r\n\r\n\t\t\tlet datasets = [];\r\n\r\n\t\t\tfor (let i in this.datasets) {\r\n\t\t\t\tdatasets.push(this.datasets[i]);\r\n\t\t\t}\r\n\r\n\t\t\tthis.chartInstance.config.data.datasets = datasets;\r\n\r\n\t\t\tthis.chartInstance.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst metrics = [\r\n\t\t\t{\r\n\t\t\t\tname       : LocalizationService.getPlayerDataTitle(\"encdps\", \"short\"),\r\n\t\t\t\tkey        : \"encdps\",\r\n\t\t\t\tbackground : \"rgba(116, 51, 51, 0.40)\",\r\n\t\t\t\tborder     : \"rgba(116, 51, 51, 0.20)\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname       : LocalizationService.getPlayerDataTitle(\"enchps\", \"short\"),\r\n\t\t\t\tkey        : \"enchps\",\r\n\t\t\t\tbackground : \"rgba(60, 103, 47, 0.40)\",\r\n\t\t\t\tborder     : \"rgba(60, 103, 47, 0.20)\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname       : LocalizationService.getPlayerDataTitle(\"enctps\", \"short\"),\r\n\t\t\t\tkey        : \"enctps\",\r\n\t\t\t\tbackground : \"rgba(59, 78, 171, 0.40)\",\r\n\t\t\t\tborder     : \"rgba(59, 78, 171, 0.20)\"\r\n\t\t\t}\r\n\t\t];\r\n\r\n\t\tlet history        = this.props.history;\r\n\t\tlet player         = this.props.player;\r\n\t\tlet line_data      = {\r\n\t\t\tlabels   : [],\r\n\t\t\tdatasets : []\r\n\t\t};\r\n\t\tlet player_name    = player.name;\r\n\t\tlet base_time      = +Object.keys(history)[0];\r\n\r\n\t\tfor (let i in metrics) {\r\n\t\t\tline_data.datasets.push(\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel           : metrics[i].name,\r\n\t\t\t\t\tbackgroundColor : metrics[i].background,\r\n\t\t\t\t\tborderColor     : metrics[i].border,\r\n\t\t\t\t\tdata            : []\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfor (let time in history) {\r\n\t\t\tlet item           = history[time];\r\n\t\t\tlet encounter_time = +time - base_time;\r\n\r\n\t\t\tif (encounter_time === 0) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tlet minutes = Math.floor(encounter_time / 60);\r\n\t\t\tlet seconds = encounter_time - (minutes * 60);\r\n\r\n\t\t\tif (seconds < 10) {\r\n\t\t\t\tseconds = `0${seconds}`;\r\n\t\t\t}\r\n\r\n\t\t\tline_data.labels.push(`${minutes}:${seconds}`);\r\n\r\n\t\t\tlet player = item[player_name];\r\n\r\n\t\t\tfor (let i in metrics) {\r\n\t\t\t\tlet key   = metrics[i].key;\r\n\t\t\t\tlet value = 0;\r\n\r\n\t\t\t\tif (player) {\r\n\t\t\t\t\tvalue = player[key];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tline_data.datasets[i].data.push(value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Line data={line_data} height={125}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default HistoryChart;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport PlayerProcessor from \"../../processors/PlayerProcessor\";\r\nimport LocalizationService from \"../../services/LocalizationService\";\r\nimport HistoryChart from \"./PlayerDetail/HistoryChart\";\r\n\r\nclass PlayerDetail extends React.Component {\r\n\trender() {\r\n\t\tlet player      = this.props.player;\r\n\t\tlet players     = [];\r\n\t\tlet job         = (!player.Job && player.name !== \"Limit Break\") ? \"PET\" : player.Job.toUpperCase() || \"LMB\";\r\n\t\tlet detail_data = this.props.detail_data;\r\n\t\tlet sections    = [\r\n\t\t\t<div className=\"split\" key=\"chart-split\"></div>,\r\n\t\t\t<HistoryChart player={player} history={this.props.history} light_theme={this.props.light_theme} key=\"chart\"/>\r\n\t\t];\r\n\r\n\t\tfor (let i in this.props.players) {\r\n\t\t\tplayers.push(this.props.players[i]);\r\n\t\t}\r\n\r\n\t\tfor (let section_type in detail_data) {\r\n\t\t\tlet detail  = detail_data[section_type];\r\n\t\t\tlet columns = [];\r\n\r\n\t\t\tfor (let key of detail) {\r\n\t\t\t\tlet title = LocalizationService.getPlayerDataTitle(key, \"long\");\r\n\t\t\t\tlet value = PlayerProcessor.getDataValue(key, player, players, this.props.encounter);\r\n\r\n\t\t\t\tcolumns.push(\r\n\t\t\t\t\t<div className=\"column\" key={key}>\r\n\t\t\t\t\t\t<div className=\"title\" key={key + \"-title\"}>{title}</div>\r\n\t\t\t\t\t\t<div className=\"value\" key={key + \"-value\"}>{value}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tsections.push(\r\n\t\t\t\t<div className=\"split\" key={section_type + \"-split\"}></div>\r\n\t\t\t);\r\n\t\t\tsections.push(\r\n\t\t\t\t<div className=\"section\" key={section_type}>\r\n\t\t\t\t\t<div className=\"title\" key={section_type + \"-title\"}>{LocalizationService.getOverlayText(section_type)}</div>\r\n\t\t\t\t\t<div className=\"data\" key={section_type + \"-data\"}>\r\n\t\t\t\t\t\t{columns}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"player-detail\">\r\n\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t<div className=\"job\">\r\n\t\t\t\t\t\t<img src={\"img/icons/jobs/\" + job + \".png\"} alt={job + \" icon\"}></img>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"name\">\r\n\t\t\t\t\t\t{PlayerProcessor.getDataValue(\"name\", player)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{sections}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdetail_data : state.settings.detail_data,\r\n\t\thistory     : state.internal.data_history,\r\n\t\tlight_theme : state.settings.interface.light_theme\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps)(PlayerDetail);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { ContextMenu, MenuItem } from \"react-contextmenu\";\r\nimport { loadHistoryEntry } from \"../../../redux/actions/index\";\r\n\r\nclass EncounterMenu extends React.Component {\r\n\trender() {\r\n\t\tlet options = [];\r\n\t\tlet i       = 0;\r\n\r\n\t\tfor (let encounter of this.props.history) {\r\n\t\t\tif (!encounter.game.Encounter) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tlet title = [];\r\n\r\n\t\t\ttitle.push((encounter.game.Encounter.title !== \"Encounter\") ? encounter.game.Encounter.title : encounter.game.Encounter.CurrentZoneName);\r\n\t\t\ttitle.push(encounter.game.Encounter.duration);\r\n\r\n\t\t\ttitle = title.join(\" - \");\r\n\r\n\t\t\toptions.push(\r\n\t\t\t\t<MenuItem key={\"encounter-history-item-\" + i} onClick={this.loadHistoryEntry.bind(this, i)}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</MenuItem>\r\n\t\t\t);\r\n\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\tif (!options.length) {\r\n\t\t\toptions.push(\r\n\t\t\t\t<MenuItem key=\"no-encounter\">\r\n\t\t\t\t\tNo encounters available.\r\n\t\t\t\t</MenuItem>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<ContextMenu id=\"encounter-history-menu\" className=\"container-context-menu\">\r\n\t\t\t\t<div className=\"item-group\">\r\n\t\t\t\t\t{options}\r\n\t\t\t\t</div>\r\n\t\t\t</ContextMenu>\r\n\t\t);\r\n\t}\r\n\r\n\tloadHistoryEntry(index) {\r\n\t\tthis.props.loadHistoryEntry(index);\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tloadHistoryEntry : (data) => {\r\n\t\t\tdispatch(loadHistoryEntry(data));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\thistory : state.internal.encounter_history\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EncounterMenu);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\nimport { changeTableType, changeViewing, changePlayerBlur } from \"../../redux/actions/index\";\r\n\r\nimport PlayerProcessor from \"../../processors/PlayerProcessor\";\r\nimport VersionService from \"../../services/VersionService\";\r\nimport SettingsService from \"../../services/SettingsService\";\r\nimport LocalizationService from \"../../services/LocalizationService\";\r\nimport IconButton from \"./Container/IconButton\";\r\nimport EncounterMenu from \"./Container/EncounterMenu\";\r\n\r\nclass Footer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tVersionService.determineIfNewer();\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet viewing        = this.props.viewing;\r\n\t\tlet table_type     = this.props.table_type;\r\n\t\tlet self           = this;\r\n\t\tlet plugin_service = this.props.plugin_service;\r\n\r\n\t\tlet navigation = function() {\r\n\t\t\tswitch (viewing) {\r\n\t\t\t\tcase \"player\":\r\n\t\t\t\t\treturn(\r\n\t\t\t\t\t\t<div id=\"navigation-links\">\r\n\t\t\t\t\t\t\t<span className=\"navigation-link\" onClick={self.changeViewing.bind(self, \"tables\")} key=\"navigation-link-back\">&lsaquo; {LocalizationService.getOverlayText(\"back\")}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tlet types   = {\r\n\t\t\t\t\t\tdps   : \"\",\r\n\t\t\t\t\t\theal  : \"\",\r\n\t\t\t\t\t\ttank  : \"\",\r\n\t\t\t\t\t\traid  : \"24\",\r\n\t\t\t\t\t\taggro : \"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet links   = [];\r\n\r\n\t\t\t\t\tif (self.props.overlayplugin_author !== \"ngld\") {\r\n\t\t\t\t\t\tdelete types.aggro;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (let type_key in types) {\r\n\t\t\t\t\t\tlet name   = (type_key === \"raid\") ? types[type_key] : LocalizationService.getOverlayText(type_key);\r\n\t\t\t\t\t\tlet active = (table_type === type_key && viewing === \"tables\") ? \"active\" : \"\";\r\n\r\n\t\t\t\t\t\tlinks.push(\r\n\t\t\t\t\t\t\t<div className={\"role-link \" + active} onClick={self.changeTableType.bind(self, type_key)} key={\"navigation-link-\" + type_key}>{name}</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet dps;\r\n\r\n\t\t\t\t\tif (self.props.show_dps) {\r\n\t\t\t\t\t\tlet dps_value = (self.props.encounter) ? PlayerProcessor.getDataValue(\"encdps\", self.props.encounter) : \"0.00\";\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdps = <div className=\"info-item\" key=\"info-item-dps\">rDPS: {dps_value}</div>;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn(\r\n\t\t\t\t\t\t<div id=\"role-links\">\r\n\t\t\t\t\t\t\t{links}\r\n\t\t\t\t\t\t\t{dps}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet trigger    = null;\r\n\t\tlet toggleMenu = e => {\r\n\t\t\tif (trigger) {\r\n\t\t\t\ttrigger.handleContextClick(e);\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet actions    = function() {\r\n\t\t\tlet version_notice = (self.props.new_version && !window.obsstudio) ? \"notice\" : \"\";\r\n\t\t\tlet actions        = [\r\n\t\t\t\t<ContextMenuTrigger id=\"encounter-history-menu\" key=\"encounter-history-trigger\" ref={c => trigger = c} attributes={{className: \"icon-container\"}} holdToDisplay={-1}>\r\n\t\t\t\t\t<IconButton icon=\"history\" key=\"encounter-history-button\" no_container={true} onClick={toggleMenu}/>\r\n\t\t\t\t</ContextMenuTrigger>,\r\n\t\t\t\t<IconButton icon=\"eye slash\" title={LocalizationService.getOverlayText(\"blur_names\")} key=\"player-blur\" onClick={self.togglePlayerBlur.bind(self)}/>,\r\n\t\t\t\t<IconButton icon=\"cut\" title={LocalizationService.getOverlayText(\"split_encounter\")} key=\"split-encounter\" onClick={plugin_service.splitEncounter.bind(plugin_service)}/>,\r\n\t\t\t\t<IconButton icon=\"cog\" title={LocalizationService.getOverlayText(\"settings\")} key=\"settings\" class={version_notice} onClick={SettingsService.openSettingsWindow}/>\r\n\t\t\t];\r\n\r\n\t\t\treturn actions;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"footer\">\r\n\t\t\t\t{navigation()}\r\n\t\t\t\t<div id=\"footer-actions\">\r\n\t\t\t\t\t{actions()}\r\n\t\t\t\t\t<EncounterMenu/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tchangeTableType(type) {\r\n\t\tif (this.props.viewing !== \"tables\") {\r\n\t\t\tthis.changeViewing(\"tables\");\r\n\t\t}\r\n\r\n\t\tthis.props.changeTableType(type);\r\n\t}\r\n\r\n\tchangeViewing(type) {\r\n\t\tthis.props.changeViewing(type);\r\n\t}\r\n\r\n\ttogglePlayerBlur() {\r\n\t\tthis.props.changePlayerBlur(!this.props.player_blur);\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tchangeTableType  : (data) => {\r\n\t\t\tdispatch(changeTableType(data));\r\n\t\t},\r\n\r\n\t\tchangeViewing    : (data) => {\r\n\t\t\tdispatch(changeViewing(data));\r\n\t\t},\r\n\r\n\t\tchangePlayerBlur : (data) => {\r\n\t\t\tdispatch(changePlayerBlur(data));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tplugin_service       : state.plugin_service,\r\n\t\tlanguage             : state.settings.interface.language,\r\n\t\ttable_type           : state.settings.intrinsic.table_type,\r\n\t\tplayer_blur          : state.settings.intrinsic.player_blur,\r\n\t\tviewing              : state.internal.viewing,\r\n\t\toverlayplugin        : state.internal.overlayplugin,\r\n\t\toverlayplugin_author : state.internal.overlayplugin_author,\r\n\t\tnew_version          : state.internal.new_version,\r\n\t\tencounter            : state.internal.game.Encounter,\r\n\t\tshow_dps             : state.settings.interface.footer_dps\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Footer);","import React from \"react\";\r\nimport $ from \"jquery\";\r\n\r\nclass Toggle extends React.Component {\r\n\ttogglePlaceholders() {\r\n\t\tlet $container = $(document).find(\"#container\");\r\n\t\tlet self       = this;\r\n\r\n\t\t$(document).find(\".placeholder\").each(function() {\r\n\t\t\tlet hidden = (!$(this).hasClass(self.props.type));\r\n\r\n\t\t\t$(this).toggleClass(\"hidden\", hidden);\r\n\t\t});\r\n\r\n\t\t$container.toggleClass(\"hidden\", true);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={\"toggle \" + this.props.type} onClick={this.togglePlaceholders.bind(this)}></div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Toggle;","import Constants from \"../constants/index\";\r\n\r\nimport GameDataProcessor from \"./GameDataProcessor\";\r\n\r\nclass MonsterProcessor  {\r\n\tgetDataValue(key, monster) {\r\n\t\tlet key_function = Constants.MonsterDataCustomDataValues[key];\r\n\t\tlet value        = (key_function) ? key_function(monster) : monster[key];\r\n\r\n\t\tif (!isNaN(value)) {\r\n\t\t\tvalue = GameDataProcessor.convertToLocaleFormat(key, value);\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t}\r\n}\r\n\r\nexport default new MonsterProcessor();","import React from \"react\";\r\n\r\nimport PlayerProcessor from \"../../../processors/PlayerProcessor\";\r\nimport MonsterProcessor from \"../../../processors/MonsterProcessor\";\r\nimport PercentBar from \"../PercentBar\";\r\n\r\nclass Monster extends React.Component {\r\n\trender() {\r\n\t\tconst fallback_player = { Job : \"\", Name : \"\", name : \"\"};\r\n\r\n\t\tlet monster      = this.props.monster;\r\n\t\tlet player       = monster.Target || fallback_player;\r\n\t\tlet player_type  = (monster._is_current) ? \"active\" : \"other\";\r\n\t\tlet columns      = [];\r\n\t\tlet stat_columns = this.props.columns;\r\n\r\n\t\tfor (let key of stat_columns) {\r\n\t\t\tlet processor = MonsterProcessor;\r\n\t\t\tlet object    = monster;\r\n\t\t\tlet raw_key   = key;\r\n\t\t\tlet name_blur = (this.props.blur && key === \"player_Name\") ? \"blur\" : \"\";\r\n\r\n\t\t\tif (key.substring(0, 7) === \"player_\") {\r\n\t\t\t\tkey       = key.substring(7);\r\n\t\t\t\tprocessor = PlayerProcessor;\r\n\t\t\t\tobject    = player;\r\n\r\n\t\t\t\tobject[key.toLowerCase()] = object[key];\r\n\t\t\t}\r\n\r\n\t\t\tlet value = processor.getDataValue(key, object);\r\n\r\n\t\t\tif (key === \"health_percent\") {\r\n\t\t\t\tcolumns.push(<div className=\"column\" key={raw_key}><PercentBar percent={value}/></div>);\r\n\t\t\t} else {\r\n\t\t\t\tif (raw_key === \"player_Name\") {\r\n\t\t\t\t\tlet player = this.props.encounter.Combatant[value];\r\n\r\n\t\t\t\t\tif (monster._is_current && !player) {\r\n\t\t\t\t\t\tplayer = this.props.encounter.Combatant.YOU;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!player) {\r\n\t\t\t\t\t\tplayer = fallback_player;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet job        = player.Job.toUpperCase();\r\n\t\t\t\t\tlet icon_blur  = (this.props.blur && this.props.icon_blur) ? \"blur\" : \"\";\r\n\t\t\t\t\tlet icon_style = (icon_blur) ? { WebkitFilter: \"blur(4px)\" } : {};\r\n\t\t\t\t\tlet icon_image = (job) ? <img src={\"img/icons/jobs/\" + job + \".png\"} className={\"icon \" + icon_blur} style={icon_style} alt={job + \" icon\"}></img> : \"\";\r\n\t\t\t\t\tlet icon       = <div className=\"column icon\" key=\"player-data-icon\">{icon_image}</div>;\r\n\r\n\t\t\t\t\tif (this.props.short_names !== \"no_short\") {\r\n\t\t\t\t\t\tvalue = PlayerProcessor.getShortName(value, this.props.short_names);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcolumns.push(icon);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcolumns.push(\r\n\t\t\t\t\t<div className={\"column \" + name_blur} key={raw_key}>{value}</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className={\"row player \" + player_type} key={\"monster-\" + monster.ID}>\r\n\t\t\t\t<div className=\"column\" key=\"icon\"></div>\r\n\t\t\t\t{columns}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Monster;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport LocalizationService from \"../../services/LocalizationService\";\r\n\r\nimport Monster from \"./AggroTable/Monster\";\r\nimport OverlayInfo from \"./PlayerTable/OverlayInfo\";\r\n\r\nclass AggroTable extends React.Component {\r\n\trender() {\r\n\t\tlet header      = [\r\n\t\t\t<div className=\"column\" key=\"icon\"></div>\r\n\t\t];\r\n\t\tlet rows        = [];\r\n\t\tlet player_blur = (this.props.player_blur);\r\n\t\tlet short_names = this.props.table_settings.general.table.short_names;\r\n\t\tlet columns     = [\r\n\t\t\t\"Name\",\r\n\t\t\t\"health_percent\",\r\n\t\t\t\"CurrentHP\",\r\n\t\t\t\"player_Name\"\r\n\t\t];\r\n\t\tlet monsters    = (!this.props.encounter.Combatant || this.props.overlayplugin_author !== \"ngld\") ? [] : this.props.monsters;\r\n\r\n\t\tfor (let key of columns) {\r\n\t\t\tlet title = LocalizationService.getMonsterDataTitle(key, \"short\");\r\n\r\n\t\t\tif (key === \"player_Name\") {\r\n\t\t\t\theader.push(\r\n\t\t\t\t\t<div className=\"column icon\" key=\"job-icon\"></div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\theader.push(\r\n\t\t\t\t<div className=\"column\" key={key}>{title}</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfor (let monster of monsters) {\r\n\t\t\tmonster._is_current = (monster.Target && monster.Target.isMe);\r\n\r\n\t\t\tlet blur = (player_blur && !monster._is_current);\r\n\r\n\t\t\trows.push(\r\n\t\t\t\t<Monster key={monster.ID} monster={monster} columns={columns} blur={blur} icon_blur={this.props.icon_blur} short_names={short_names} encounter={this.props.encounter}/>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tlet overlay_info = (this.props.collapsed || (this.props.monsters && this.props.monsters.length)) ? \"\" : <OverlayInfo/>\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div id=\"player-table\" className=\"monster-table\" ref=\"aggro_table\">\r\n\t\t\t\t\t<div className=\"row header\">\r\n\t\t\t\t\t\t{header}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{rows}\r\n\t\t\t\t</div>\r\n\t\t\t\t{overlay_info}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tencounter            : state.internal.game,\r\n\t\toverlayplugin_author : state.internal.overlayplugin_author,\r\n\t\tplayer_blur          : state.settings.intrinsic.player_blur,\r\n\t\ticon_blur            : state.settings.interface.blur_job_icons,\r\n\t\ttable_settings       : state.settings.table_settings,\r\n\t\tcollapsed            : state.settings.intrinsic.collapsed\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps)(AggroTable);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\nimport ContextMenu from \"./Container/Menu\";\r\nimport Import from \"./Container/Import\";\r\nimport GameState from \"./GameState\";\r\nimport PlayerTable from \"./PlayerTable\";\r\nimport PlayerDetail from \"./PlayerDetail\";\r\nimport Footer from \"./Footer\";\r\nimport PlaceholderToggle from \"./Placeholder/Toggle\";\r\nimport AggroTable from \"./AggroTable\";\r\n\r\nclass Container extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener(\"onOverlayStateUpdate\", this.toggleHandle.bind(this));\r\n\t\tthis.props.plugin_service.subscribe();\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet encounter = this.props.internal.game.Encounter || {};\r\n\t\tlet active    = ([\"true\", true].indexOf(this.props.internal.game.isActive) !== -1);\r\n\t\tlet viewing   = this.props.internal.viewing;\r\n\r\n\t\tlet content;\r\n\r\n\t\tswitch (viewing) {\r\n\t\t\tcase \"tables\":\r\n\t\t\t\tif (this.props.settings.intrinsic.table_type !== \"aggro\") {\r\n\t\t\t\t\tcontent = <PlayerTable players={this.props.internal.game.Combatant} encounter={encounter} type={this.props.settings.intrinsic.table_type}/>;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontent = <AggroTable monsters={this.props.internal.aggro}/>\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"player\":\r\n\t\t\t\tcontent = <PlayerDetail player={this.props.internal.detail_player} players={this.props.internal.game.Combatant} encounter={encounter}/>;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"import\":\r\n\t\t\t\tcontent = <Import/>;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tlet footer = [];\r\n\r\n\t\tif (!this.props.settings.intrinsic.collapsed || viewing !== \"tables\" || this.props.settings.interface.footer_when_collapsed) {\r\n\t\t\tfooter = [\r\n\t\t\t\t\t<div className=\"split\" key=\"above-footer-split\"></div>,\r\n\t\t\t\t\t<Footer key=\"parser-footer\"/>\r\n\t\t\t];\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<ContextMenuTrigger id=\"right-click-menu\" holdToDisplay={-1}>\r\n\t\t\t\t\t<div id=\"container\">\r\n\t\t\t\t\t\t<PlaceholderToggle type=\"top left\"/>\r\n\t\t\t\t\t\t<PlaceholderToggle type=\"top right\"/>\r\n\t\t\t\t\t\t<PlaceholderToggle type=\"bottom left\"/>\r\n\t\t\t\t\t\t<PlaceholderToggle type=\"bottom right\"/>\r\n\t\t\t\t\t\t<div id=\"inner\">\r\n\t\t\t\t\t\t\t<GameState encounter={encounter} active={active} rank={this.props.internal.rank} show_rank={this.props.settings.interface.top_right_rank}/>\r\n\t\t\t\t\t\t\t<div id=\"content\">\r\n\t\t\t\t\t\t\t\t{content}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{footer}\r\n\t\t\t\t\t\t\t<ReactTooltip className=\"react-tooltip\" effect=\"solid\" multiline={false} place=\"left\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</ContextMenuTrigger>\r\n\t\t\t\t<ContextMenu/>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\r\n\ttoggleHandle(e) {\r\n\t\tif (!e.detail.isLocked) {\r\n\t\t\tdocument.getElementsByTagName(\"body\")[0].classList.add(\"resizeHandle\");\r\n\t\t} else {\r\n\t\t\tdocument.getElementsByTagName(\"body\")[0].classList.remove(\"resizeHandle\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn state;\r\n};\r\n\r\nexport default connect(mapStateToProps)(Container);","import React from \"react\";\r\nimport $ from \"jquery\";\r\n\r\nclass Placeholder extends React.Component {\r\n\ttogglePlaceholders() {\r\n\t\tlet $container = $(document).find(\"#container\");\r\n\t\tlet active     = $container.hasClass(\"hidden\");\r\n\r\n\t\t$(document).find(\".placeholder\").each(function() {\r\n\t\t\t$(this).toggleClass(\"hidden\", active);\r\n\t\t});\r\n\r\n\t\t$container.toggleClass(\"hidden\", !active);\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet image_src = (this.props.light_theme) ? \"img/icons/placeholder-light-theme.png\" : \"img/icons/placeholder-dark-theme.png\";\r\n\r\n\t\treturn (\r\n\t\t\t<div className={\"placeholder \" + this.props.type + \" hidden\"} onClick={this.togglePlaceholders.bind(this)}>\r\n\t\t\t\t<div className=\"inner\">\r\n\t\t\t\t\t<img src={image_src} alt=\"Minimized button\"></img>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Placeholder;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport \"./../styles/components/parser/parser-theme.less\";\r\n\r\nimport Container from \"./Parser/Container\";\r\nimport Placeholder from \"./Parser/Placeholder\";\r\n\r\nclass Parser extends React.Component {\r\n\tcomponentWillMount() {\r\n\t\twindow.parser = true;\r\n\r\n\t\tthis.setState({\r\n\t\t\tvisible : true\r\n\t\t});\r\n\r\n\t\tsetInterval(this.processAutoHide.bind(this), 2000);\r\n\t}\r\n\r\n\tprocessAutoHide() {\r\n\t\tlet visible = true;\r\n\r\n\t\tif (this.props.auto_hide && this.props.auto_hide_delay > 0 && ((new Date().getTime() / 1000) - this.props.last_activity) > this.props.auto_hide_delay) {\r\n\t\t\tvisible = false;\r\n\t\t}\r\n\r\n\t\tif (this.state.visible !== visible) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tvisible : visible\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet collapsed          = (this.props.collapsed && this.props.viewing === \"tables\");\r\n\t\tlet root_inner_classes = [];\r\n\t\tlet opacity            = this.props.opacity / 100;\r\n\t\tlet zoom               = this.props.zoom / 100;\r\n\t\tlet display            = (this.state.visible) ? \"block\" : \"none\";\r\n\t\tlet setting_style      = `\r\n\t\t\tbody {\r\n\t\t\t\tzoom: ${zoom};\r\n\t\t\t\tdisplay: ${display};\r\n\t\t\t}\r\n\r\n\t\t\t#container {\r\n\t\t\t\topacity: ${opacity};\r\n\t\t\t}\r\n\r\n\t\t\t.resizeHandle {\r\n\t\t\t\tbackground-image: url(\"img/handle.png\");\r\n\t\t\t}\r\n\t\t`;\r\n\r\n\t\tif (collapsed) {\r\n\t\t\troot_inner_classes.push(\"auto-height\");\r\n\r\n\t\t\tif (this.props.collapse_down) {\r\n\t\t\t\troot_inner_classes.push(\"down\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\troot_inner_classes = root_inner_classes.join(\" \");\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<style type=\"text/css\">\r\n\t\t\t\t\t{setting_style}\r\n\t\t\t\t\t{this.props.css}\r\n\t\t\t\t</style>\r\n\t\t\t\t<Placeholder type=\"top left\" light_theme={this.props.light_theme}/>\r\n\t\t\t\t<Placeholder type=\"top right\" light_theme={this.props.light_theme}/>\r\n\t\t\t\t<Placeholder type=\"bottom left\" light_theme={this.props.light_theme}/>\r\n\t\t\t\t<Placeholder type=\"bottom right\" light_theme={this.props.light_theme}/>\r\n\t\t\t\t<div id=\"root-inner\" className={root_inner_classes}>\r\n\t\t\t\t\t<Container/>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tcollapsed       : state.settings.intrinsic.collapsed,\r\n\t\tcollapse_down   : state.settings.interface.collapse_down,\r\n\t\tviewing         : state.internal.viewing,\r\n\t\tcss             : state.settings.custom.css || \"\",\r\n\t\topacity         : state.settings.interface.opacity,\r\n\t\tzoom            : state.settings.interface.zoom,\r\n\t\tlight_theme     : state.settings.interface.light_theme,\r\n\t\tauto_hide       : state.settings.interface.auto_hide,\r\n\t\tauto_hide_delay : state.settings.interface.auto_hide_delay,\r\n\t\tlast_activity   : state.last_activity\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps)(Parser);","import LocalizationService from \"../services/LocalizationService\";\r\n\r\nconst language_options = [\r\n\t{\r\n\t\tkey   : \"en\",\r\n\t\tvalue : \"en\",\r\n\t\ttext  : \"English\"\r\n\t},\r\n\t{\r\n\t\tkey   : \"cn\",\r\n\t\tvalue : \"cn\",\r\n\t\ttext  : \"中文\"\r\n\t},\r\n\t{\r\n\t\tkey   : \"de\",\r\n\t\tvalue : \"de\",\r\n\t\ttext  : \"Deutsch\"\r\n\t},\r\n\t{\r\n\t\tkey   : \"fr\",\r\n\t\tvalue : \"fr\",\r\n\t\ttext  : \"Français\"\r\n\t},\r\n\t{\r\n\t\tkey   : \"jp\",\r\n\t\tvalue : \"jp\",\r\n\t\ttext  : \"日本語\"\r\n\t},\r\n\t{\r\n\t\tkey   : \"kr\",\r\n\t\tvalue : \"kr\",\r\n\t\ttext  : \"한국어\"\r\n\t},\r\n\t{\r\n\t\tkey   : \"pt\",\r\n\t\tvalue : \"pt\",\r\n\t\ttext  : \"Português\"\r\n\t},\r\n\t{\r\n\t\tkey   : \"es\",\r\n\t\tvalue : \"es\",\r\n\t\ttext  : \"Español\"\r\n\t}\r\n];\r\nconst decimal_options  = [\r\n\t{\r\n\t\tkey   : \"0\",\r\n\t\tvalue : \"0\",\r\n\t\ttext  : \"0\"\r\n\t},\r\n\t{\r\n\t\tkey   : \"1\",\r\n\t\tvalue : 1,\r\n\t\ttext  : \"1\"\r\n\t},\r\n\t{\r\n\t\tkey   : \"2\",\r\n\t\tvalue : 2,\r\n\t\ttext  : \"2\"\r\n\t},\r\n];\r\n\r\nconst SettingsSchema = {\r\n\tsections : [\r\n\t\t{\r\n\t\t\tpath     : \"interface\",\r\n\t\t\tsections : [\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.language\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\toptions  : language_options,\r\n\t\t\t\t\t\t\tvalue    : obj => obj.props.settings.interface.language\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.player_name\",\r\n\t\t\t\t\t\t\ttype     : \"textbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.player_name;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.blur_job_icons\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.blur_job_icons;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.collapse_down\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.collapse_down;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.footer_when_collapsed\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.footer_when_collapsed;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.auto_hide\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.auto_hide;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.auto_hide_delay\",\r\n\t\t\t\t\t\t\ttype     : \"slider\",\r\n\t\t\t\t\t\t\trange    : \"min\",\r\n\t\t\t\t\t\t\tminimum  : 0,\r\n\t\t\t\t\t\t\tmaximum  : 600,\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.auto_hide_delay;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.top_right_rank\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.top_right_rank;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.footer_dps\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.footer_dps;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.decimal_accuracy\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\toptions  : decimal_options,\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.decimal_accuracy;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.shorten_thousands\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.shorten_thousands;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.opacity\",\r\n\t\t\t\t\t\t\ttype     : \"slider\",\r\n\t\t\t\t\t\t\trange    : \"min\",\r\n\t\t\t\t\t\t\tminimum  : 0,\r\n\t\t\t\t\t\t\tmaximum  : 100,\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.opacity;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.zoom\",\r\n\t\t\t\t\t\t\ttype     : \"slider\",\r\n\t\t\t\t\t\t\trange    : \"min\",\r\n\t\t\t\t\t\t\tminimum  : 1,\r\n\t\t\t\t\t\t\tmaximum  : 500,\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.zoom;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.light_theme\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.light_theme;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"interface.minimal_theme\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.interface.minimal_theme;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath     : \"metric-names\",\r\n\t\t\tsections : [\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"custom.metric_names\",\r\n\t\t\t\t\t\t\ttype     : \"MetricNameTable\",\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(true, true),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.custom.metric_names;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath     : \"player-table\",\r\n\t\t\tsections : [\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_settings.general.table.short_names\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerShortNameOptions(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_settings.general.table.short_names;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_settings.general.table.footer_at_top\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_settings.general.table.footer_at_top;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_settings.general.table.percent_bars\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_settings.general.table.percent_bars;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_settings.general.table.prioritize_party\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_settings.general.table.prioritize_party;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_columns.dps\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\tmultiple : true,\r\n\t\t\t\t\t\t\tsearch   : true,\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_columns.dps;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"sort_columns.dps\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\tmultiple : false,\r\n\t\t\t\t\t\t\tsearch   : true,\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.sort_columns.dps;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_settings.dps.show_footer\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_settings.dps.show_footer;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_columns.heal\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\tmultiple : true,\r\n\t\t\t\t\t\t\tsearch   : true,\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_columns.heal;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"sort_columns.heal\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\tmultiple : false,\r\n\t\t\t\t\t\t\tsearch   : true,\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.sort_columns.heal;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_settings.heal.show_footer\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_settings.heal.show_footer;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_columns.tank\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\tmultiple : true,\r\n\t\t\t\t\t\t\tsearch   : true,\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_columns.tank;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"sort_columns.tank\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\tmultiple : false,\r\n\t\t\t\t\t\t\tsearch   : true,\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.sort_columns.tank;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_settings.tank.show_footer\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_settings.tank.show_footer;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath     : \"player-detail\",\r\n\t\t\tsections : [\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"detail_data.dps\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\tmultiple : true,\r\n\t\t\t\t\t\t\tsearch   : true,\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.detail_data.dps;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"detail_data.heal\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\tmultiple : true,\r\n\t\t\t\t\t\t\tsearch   : true,\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.detail_data.heal;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"detail_data.tank\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\tmultiple : true,\r\n\t\t\t\t\t\t\tsearch   : true,\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.detail_data.tank;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath     : \"raid-view\",\r\n\t\t\tsections : [\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"sort_columns.raid\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\tmultiple : false,\r\n\t\t\t\t\t\t\tsearch   : true,\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.sort_columns.raid;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_settings.general.raid.short_names\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerShortNameOptions(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_settings.general.raid.short_names;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_settings.general.raid.percent_bars\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_settings.general.raid.percent_bars;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_settings.general.raid.prioritize_party\",\r\n\t\t\t\t\t\t\ttype     : \"checkbox\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_settings.general.raid.prioritize_party;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_columns.raid.dps\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\tmultiple : true,\r\n\t\t\t\t\t\t\tsearch   : true,\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_columns.raid.dps;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_columns.raid.heal\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\tmultiple : true,\r\n\t\t\t\t\t\t\tsearch   : true,\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_columns.raid.heal;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"table_columns.raid.tank\",\r\n\t\t\t\t\t\t\ttype     : \"select\",\r\n\t\t\t\t\t\t\tmultiple : true,\r\n\t\t\t\t\t\t\tsearch   : true,\r\n\t\t\t\t\t\t\toptions  : () => LocalizationService.getPlayerDataTitles(),\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.table_columns.raid.tank;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath     : \"custom-css\",\r\n\t\t\tsections : [\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tkey_path : \"custom.css\",\r\n\t\t\t\t\t\t\ttype     : \"code\",\r\n\t\t\t\t\t\t\tvalue    : function() {\r\n\t\t\t\t\t\t\t\treturn this.props.settings.custom.css;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n}\r\n\r\nexport default SettingsSchema;","import $ from \"jquery\";\r\n\r\nclass TwitchAPIService {\r\n\tgetLiveStreamers() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t$.get(\"data/streamers.txt\")\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet usernames = res.split(\",\")\r\n\r\n\t\t\t\t\t$.get({\r\n\t\t\t\t\t\turl : `https://chrysus.xyz/games/ffxiv/ember-overlay/scripts/streamers.php?usernames=${usernames}`,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\treject(e);\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\treject(e);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default new TwitchAPIService();","import React from \"react\";\r\nimport { Button, Select, Input } from \"semantic-ui-react\";\r\nimport $ from \"jquery\";\r\n\r\nimport LocalizationService from \"../../../../services/LocalizationService\";\r\n\r\nclass MetricNameTable extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.data        = {\r\n\t\t\tkey_path : this.props.key_path,\r\n\t\t\tvalue    : {}\r\n\t\t};\r\n\t\tthis.delete_text = LocalizationService.getMisc(\"delete\");\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tlet rows = {\r\n\t\t\t_insert : this.createRow({insert: true})\r\n\t\t};\r\n\r\n\t\tfor (let metric_key in this.props.value) {\r\n\t\t\tlet value_data = this.props.value[metric_key];\r\n\t\t\tlet short_name = value_data.short;\r\n\t\t\tlet long_name  = value_data.long;\r\n\r\n\t\t\trows[metric_key] = this.createRow({\r\n\t\t\t\tselect_text  : LocalizationService.getPlayerDataTitle(metric_key, \"long\", true),\r\n\t\t\t\tselect_value : metric_key,\r\n\t\t\t\tshort_name   : short_name,\r\n\t\t\t\tlong_name    : long_name\r\n\t\t\t});\r\n\r\n\t\t\tthis.data.value[metric_key] = {\r\n\t\t\t\tshort : short_name,\r\n\t\t\t\tlong  : long_name\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\trows : rows\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet rows = (this.state && this.state.rows)\r\n\t\t\t? Object.keys(this.state.rows).map(key => this.state.rows[key])\r\n\t\t\t: [];\r\n\r\n\t\treturn(\r\n\t\t\t<table key=\"metric-name-table\" ref=\"metric_name_table\" className=\"ui unstackable inverted celled table\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>{LocalizationService.getMisc(\"metric\")}</th>\r\n\t\t\t\t\t\t<th>{LocalizationService.getMisc(\"short_name\")}</th>\r\n\t\t\t\t\t\t<th>{LocalizationService.getMisc(\"long_name\")}</th>\r\n\t\t\t\t\t\t<th className=\"collapsing\"></th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{rows}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t);\r\n\t}\r\n\r\n\tcreateRow(options) {\r\n\t\tlet button = (options.insert)\r\n\t\t\t? <Button onClick={this.handleAdd.bind(this)}>{LocalizationService.getMisc(\"add\")}</Button>\r\n\t\t\t: <Button onClick={this.handleDelete.bind(this)}>{this.delete_text}</Button>;\r\n\t\tlet select = (!options.insert)\r\n\t\t\t? options.select_text\r\n\t\t\t: <Select fluid search options={this.props.options} onChange={this.handleSelectChange}/>;\r\n\t\tlet row    = (\r\n\t\t\t<tr id=\"insert-row\" key={\"metric-key-\" + (options.select_value || \"_insert\")} data-key={options.select_value}>\r\n\t\t\t\t<td>{select}</td>\r\n\t\t\t\t<td><Input fluid key_path=\"short_name\" defaultValue={options.short_name} onChange={this.handleInputChange.bind(this)}/></td>\r\n\t\t\t\t<td><Input fluid key_path=\"long_name\" defaultValue={options.long_name} onChange={this.handleInputChange.bind(this)}/></td>\r\n\t\t\t\t<td>{button}</td>\r\n\t\t\t</tr>\r\n\t\t);\r\n\r\n\t\tif (!options.auto_add) {\r\n\t\t\treturn row;\r\n\t\t}\r\n\r\n\t\tlet rows = this.state.rows;\r\n\r\n\t\trows[options.select_value] = row;\r\n\r\n\t\tthis.setState({\r\n\t\t\trows : rows\r\n\t\t});\r\n\t}\r\n\r\n\thandleSelectChange(e, data) {\r\n\t\tlet $row    = $(document).find(\"#insert-row\");\r\n\t\tlet $target = (e.currentTarget.tagName === \"DIV\") ? $(e.currentTarget) : $row.find(\".active.selected.item\");\r\n\t\tlet $select = $target.closest(\".ui.dropdown\");\r\n\r\n\t\t$select\r\n\t\t\t.attr(\"data-value\", data.value)\r\n\t\t\t.attr(\"data-text\", $target.text());\r\n\t}\r\n\r\n\thandleInputChange(e) {\r\n\t\tlet $this = $(e.currentTarget);\r\n\t\tlet $row  = $this.closest(\"tr[data-key]\");\r\n\r\n\t\tif (!$row.length) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tlet input_key = $this.closest(\".ui.input\").attr(\"key_path\").split(\"_\")[0];\r\n\t\tlet row_key   = $row.attr(\"data-key\");\r\n\r\n\t\tif (row_key === \"_insert\") {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tthis.data.value[row_key][input_key] = $this.val();\r\n\r\n\t\tthis.syncData();\r\n\t}\r\n\r\n\thandleAdd(e) {\r\n\t\tlet $target = $(e.currentTarget);\r\n\t\tlet $row    = $target.closest(\"tr\");\r\n\t\tlet $select = $row.find(\".ui.dropdown\");\r\n\t\tlet options = {\r\n\t\t\tselect_value : $select.attr(\"data-value\"),\r\n\t\t\tselect_text  : $select.attr(\"data-text\"),\r\n\t\t\tshort_name   : $row.find(\"div[key_path=short_name] > input\").val(),\r\n\t\t\tlong_name    : $row.find(\"div[key_path=long_name] > input\").val(),\r\n\t\t\tauto_add     : true\r\n\t\t};\r\n\r\n\t\tif (!options.select_value) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.data.value[options.select_value] = {\r\n\t\t\tshort : options.short_name,\r\n\t\t\tlong  : options.long_name\r\n\t\t};\r\n\r\n\t\tthis.createRow(options);\r\n\t\tthis.syncData();\r\n\t}\r\n\r\n\thandleDelete(e) {\r\n\t\tlet key  = $(e.currentTarget).closest(\"tr\").attr(\"data-key\");\r\n\t\tlet rows = this.state.rows;\r\n\r\n\t\tdelete rows[key];\r\n\t\tdelete this.data.value[key];\r\n\r\n\t\tthis.setState({\r\n\t\t\trows : rows\r\n\t\t});\r\n\t\tthis.syncData();\r\n\t}\r\n\r\n\tsyncData() {\r\n\t\tthis.props.onChange(undefined, this.data);\r\n\t}\r\n}\r\n\r\nexport default MetricNameTable;","import React from \"react\";\r\nimport $ from \"jquery\";\r\n\r\n// eslint-disable-next-line\r\nimport UISlider from \"jquery-ui/ui/widgets/slider\";\r\n\r\nimport \"jquery-ui/themes/base/theme.css\";\r\nimport \"jquery-ui/themes/base/slider.css\";\r\n\r\nclass Slider extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.$elem = $(this.refs.slider);\r\n\r\n\t\tlet $elem = this.$elem;\r\n\r\n\t\tthis.$elem.slider({\r\n\t\t\trange : this.props.range,\r\n\t\t\tmin   : this.props.minimum,\r\n\t\t\tmax   : this.props.maximum,\r\n\t\t\tvalue : this.props.value,\r\n\t\t\tslide : (e, ui) => {\r\n\t\t\t\tlet change_data = {\r\n\t\t\t\t\tkey_path : this.props.key_path,\r\n\t\t\t\t\tvalue    : ui.value\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.onChange(e, change_data);\r\n\t\t\t\t$elem\r\n\t\t\t\t\t.closest(\"div.field\")\r\n\t\t\t\t\t.find(\".value\")\r\n\t\t\t\t\t.text(ui.value);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.$elem.slider(\"destroy\");\r\n\t}\r\n\r\n\tshouldComponentUpdate() {\r\n\t\treturn false;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<div ref=\"slider\"></div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Slider;","import React from \"react\";\r\nimport { Header, Form, Select, Input, TextArea, Checkbox } from \"semantic-ui-react\";\r\nimport Editor from \"react-simple-code-editor\";\r\nimport Sortable from \"sortablejs/modular/sortable.core.esm.js\";\r\n\r\nimport LocalizationService from \"../../../services/LocalizationService\";\r\n\r\nimport MetricNameTable from \"./Inputs/MetricNameTable\";\r\nimport Slider from \"./Inputs/Slider\";\r\n\r\nclass Section extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\tgetSettingValue(setting_data) {\r\n\t\treturn (typeof setting_data.value === \"function\") ? setting_data.value.call(this, this) : setting_data.value;\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tlet state_data = {};\r\n\r\n\t\tfor (let setting_data of this.props.data.settings) {\r\n\t\t\tlet value = this.getSettingValue(setting_data);\r\n\r\n\t\t\tstate_data[setting_data.key_path] = value;\r\n\t\t}\r\n\r\n\t\tthis.setState(state_data);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tArray.prototype.forEach.call(document.querySelectorAll(\".multiple.selection\"), (el) => {\r\n\t\t\tSortable.create(el, {draggable: \"a\", onUpdate: (evt, originalEvent) => { this.handleChange(evt); }});\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet settings = [];\r\n\t\tlet language = this.props.settings.interface.language;\r\n\r\n\t\tfor (let setting_data of this.props.data.settings) {\r\n\t\t\tlet setting;\r\n\r\n\t\t\tlet label_text = LocalizationService.getSettingText(setting_data.key_path) || \"\";\r\n\t\t\tlet label      = (label_text) ? <label>{label_text}</label> : \"\";\r\n\t\t\tlet value      = this.getSettingValue(setting_data);\r\n\r\n\t\t\tswitch (setting_data.type) {\r\n\t\t\t\tcase \"select\":\r\n\t\t\t\t\tif (!value) {\r\n\t\t\t\t\t\tvalue = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet options = (typeof setting_data.options === \"function\") ? setting_data.options() : setting_data.options;\r\n\r\n\t\t\t\t\tsetting = <Select fluid labeled multiple={setting_data.multiple || false} search={setting_data.search || false}\r\n\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\tdefaultValue={value}\r\n\t\t\t\t\t\tkey_path={setting_data.key_path}\r\n\t\t\t\t\t\tid={setting_data.key_path}\r\n\t\t\t\t\t\tonChange={this.props.changeCallback}/>;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"textbox\":\r\n\t\t\t\t\tsetting = <Input defaultValue={value} key_path={setting_data.key_path} onChange={this.props.changeCallback}/>;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"textarea\":\r\n\t\t\t\t\tsetting = <TextArea defaultValue={value} key_path={setting_data.key_path} rows={20} onChange={this.props.changeCallback}/>;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"code\":\r\n\t\t\t\t\tlet key_path = setting_data.key_path;\r\n\r\n\t\t\t\t\tsetting = <Editor\r\n\t\t\t\t\t\tclassName=\"code\"\r\n\t\t\t\t\t\tvalue={this.state[key_path]}\r\n\t\t\t\t\t\tkey_path={setting_data.key_path}\r\n\t\t\t\t\t\tonValueChange={(code) => {\r\n\t\t\t\t\t\t\tthis.props.changeCallback({}, {key_path : setting_data.key_path, value : code});\r\n\r\n\t\t\t\t\t\t\tlet state_data = {};\r\n\r\n\t\t\t\t\t\t\tstate_data[key_path] = code;\r\n\r\n\t\t\t\t\t\t\tthis.setState(state_data);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\thighlight={code => code}/>;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"checkbox\":\r\n\t\t\t\t\tsetting = <Checkbox toggle label={label} defaultChecked={value} key_path={setting_data.key_path} onChange={this.props.changeCallback}/>;\r\n\t\t\t\t\tlabel   = \"\";\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"slider\":\r\n\t\t\t\t\tlet range = setting_data.range || \"min\";\r\n\t\t\t\t\tlet min   = setting_data.minimum || 0;\r\n\t\t\t\t\tlet max   = setting_data.maximum || 100;\r\n\r\n\t\t\t\t\tlabel = <label>{label_text}: <span className=\"value\">{value}</span></label>;\r\n\r\n\t\t\t\t\tsetting = <Slider range={range} minimum={min} maximum ={max} key_path={setting_data.key_path} value={value} onChange={this.props.changeCallback}/>;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"MetricNameTable\":\r\n\t\t\t\t\tlet metric_options = setting_data.options().sort((a, b) => (a.text > b.text) ? 1 : -1);\r\n\r\n\t\t\t\t\tlabel   = \"\";\r\n\t\t\t\t\tsetting = <MetricNameTable value={value} options={metric_options} key_path={setting_data.key_path} onChange={this.props.changeCallback}/>;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tsettings.push(\r\n\t\t\t\t<Form.Field inline key={setting_data.key_path}>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t\t{setting}\r\n\t\t\t\t</Form.Field>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Header as=\"h2\">{LocalizationService.getSettingsSubsectionText(this.props.parent_path, this.props.index)}</Header>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{settings}\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\t\r\n\thandleChange(e) {\r\n\t\te.target.key_path  = e.target.id;\r\n\t\te.target.selection = true;\r\n\t\t\r\n\t\tthis.props.changeCallback(e.target, e.target);\r\n\t}\r\n}\r\n\r\nexport default Section;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { updateSettings } from \"../../redux/actions/index\";\r\nimport { Container, Form, Button } from \"semantic-ui-react\";\r\nimport $ from \"jquery\";\r\n\r\nimport LocalizationService from \"../../services/LocalizationService\";\r\n\r\nimport Section from \"./Screen/Section\";\r\n\r\nclass Screen extends React.Component {\r\n\tcomponentWillMount() {\r\n\t\tthis.setState({\r\n\t\t\tsaving : false\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet sections   = [];\r\n\t\tlet save_class = (this.state.saving) ? \"loading\" : \"\";\r\n\r\n\t\tfor (let i in this.props.sections) {\r\n\t\t\tlet section_data = this.props.sections[i];\r\n\t\t\t\r\n\t\t\tsections.push(\r\n\t\t\t\t<Container fluid key={this.props.path + \"-settings-\" + i} className=\"section-container\">\r\n\t\t\t\t\t<Section data={section_data} parent_path={this.props.path} index={i} settings={this.props.settings} changeCallback={this.handleChange.bind(this)}/>\r\n\t\t\t\t</Container>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn(\r\n\t\t\t<Form>\r\n\t\t\t\t<Button floated=\"right\" className={\"save \" + save_class} onClick={this.handleSave.bind(this)}>{LocalizationService.getMisc(\"save\")}</Button>\r\n\t\t\t\t<div className=\"clear\"></div>\r\n\t\t\t\t{sections}\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n\r\n\thandleChange(e, data) {\r\n\t\tlet key_path = data.key_path;\r\n\r\n\t\tif (data.selection && data.multiple) {\r\n\t\t\tsetTimeout(\r\n\t\t\t\t() => {\r\n\t\t\t\t\tlet new_value = []\r\n\t\t\t\t\t\r\n\t\t\t\t\tArray.prototype.forEach.call(document.getElementById(key_path).getElementsByTagName(\"a\"), (el) => {\r\n\t\t\t\t\t\tnew_value.push($(el).attr(\"value\"));\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.props.new_settings[key_path] = new_value;\r\n\t\t\t\t},\r\n\t\t\t\t100\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tlet new_value = data.value || data.checked;\r\n\t\t\t\r\n\t\t\tthis.props.new_settings[key_path] = new_value;\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\thandleSave() {\r\n\t\tthis.setState({\r\n\t\t\tsaving : true\r\n\t\t});\r\n\r\n\t\tlet data = [];\r\n\r\n\t\tfor (let key_path in this.props.new_settings) {\r\n\t\t\tdata.push({\r\n\t\t\t\tkey     : key_path,\r\n\t\t\t\tpayload : this.props.new_settings[key_path]\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.props.updateSettings({\r\n\t\t\tdata   : data,\r\n\t\t\tsource : \"screen-component\"\r\n\t\t});\r\n\r\n\t\tsetTimeout(\r\n\t\t\t() => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsaving : false\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t400\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSettings : (data) => {\r\n\t\t\tdispatch(updateSettings(data));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tsettings     : state.settings,\r\n\t\tnew_settings : {}\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Screen);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container, Form, TextArea, Button } from \"semantic-ui-react\";\r\nimport $ from \"jquery\";\r\n\r\nimport LocalizationService from \"../../services/LocalizationService\";\r\n\r\nclass Export extends React.Component {\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Container fluid className=\"section-container\">\r\n\t\t\t\t\t<h2>{LocalizationService.getSettingsSubsectionText(\"export\", 0)}</h2>\r\n\t\t\t\t\t<p>{LocalizationService.getMisc(\"export_info\")}</p>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<Button size=\"mini\" className=\"export\" onClick={this.handleCopy.bind(this)}>{LocalizationService.getMisc(\"copy\")}</Button>\r\n\t\t\t\t\t\t\t\t<TextArea defaultValue={this.props.settings_data.getExportKey()} rows={20} readOnly=\"readonly\"/>\r\n\t\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Container>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\r\n\thandleCopy(e, f, g) {\r\n\t\tlet $button = $(e.target);\r\n\t\tlet text    = $button.closest(\".field\").find(\"textarea\")[0];\r\n\r\n\t\ttext.focus();\r\n\t\ttext.select();\r\n\t\tdocument.execCommand(\"copy\");\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tsettings_data : state.settings_data\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps)(Export);","import React from \"react\";\r\nimport { Icon } from \"semantic-ui-react\";\r\n\r\nclass SocialLink extends React.Component {\r\n\t   render() {\r\n\t   \t\tlet getLink = () => {\r\n\t   \t\t\tlet name = this.props.name || \"\";\r\n\r\n\t   \t\t\tswitch (this.props.type) {\r\n\t   \t\t\t\tcase \"twitter\":\r\n\t   \t\t\t\t\treturn `https://twitter.com/${name}`;\r\n\r\n\t   \t\t\t\tcase \"twitch\":\r\n\t   \t\t\t\t\treturn `https://www.twitch.tv/${name}`;\r\n\r\n\t   \t\t\t\tdefault:\r\n\t   \t\t\t\t\treturn this.props.url;\r\n\t   \t\t\t}\r\n\t   \t\t}\r\n\r\n\t   \t\treturn(\r\n\t   \t\t\t<a href={getLink()} target=\"_blank\" rel=\"noreferrer noopener\"><Icon name={this.props.type}/></a>\r\n\t   \t\t);\r\n\t   }\r\n}\r\n\r\nexport default SocialLink;","import React from \"react\";\r\nimport { Container } from \"semantic-ui-react\";\r\n\r\nimport LocalizationService from \"../../services/LocalizationService\";\r\nimport VersionService from \"../../services/VersionService\";\r\n\r\nimport SocialLink from \"./About/SocialLink\";\r\n\r\nconst reactStringReplace = require(\"react-string-replace\");\r\n\r\nclass About extends React.Component {\r\n\tcomponentWillMount() {\r\n\t\tthis.setState({\r\n\t\t\tchangelog: <p>Loading changelog...</p>\r\n\t\t});\r\n\r\n\t\tVersionService.getChangelogForUser()\r\n\t\t\t.then((data) => {\r\n\t\t\t\tlet changelog = VersionService.formatChangelog(data);\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchangelog: changelog\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet github_url    = process.env.REACT_APP_GITHUB_URL;\r\n\t\tlet discord_url   = process.env.REACT_APP_DISCORD_URL;\r\n\t\tlet author_url    = process.env.REACT_APP_AUTHOR_URL;\r\n\t\tlet changelog_url = process.env.REACT_APP_CHANGELOG_URL;\r\n\r\n\t\tlet state                = this.state || {};\r\n\t\tlet author_link          = <a href={author_url} target=\"_blank\" rel=\"noopener noreferrer\">GoldenChrysus</a>;\r\n\t\tlet changelog_cta        = LocalizationService.getMisc(\"changelog_cta\");\r\n\t\tlet changelog_link_match = changelog_cta.match(/{{changelog_link_open}}.+{{changelog_link_close}}/g)[0];\r\n\t\tlet changelog_link_text  = changelog_link_match\r\n\t\t\t.replace(\"{{changelog_link_open}}\", \"\")\r\n\t\t\t.replace(\"{{changelog_link_close}}\", \"\");\r\n\t\tlet changelog_link       = <a href={changelog_url} target=\"_blank\" rel=\"noopener noreferrer\">{changelog_link_text}</a>;\r\n\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Container fluid className=\"section-container\">\r\n\t\t\t\t\t<h2>{LocalizationService.getSettingsSubsectionText(\"about\", 0)}</h2>\r\n\t\t\t\t\t<p>{reactStringReplace(LocalizationService.getMisc(\"developer_credit\"), \"{{developer}}\", () => author_link)}</p>\r\n\r\n\t\t\t\t\t<h3>Discord</h3>\r\n\t\t\t\t\t<p>{LocalizationService.getMisc(\"discord_cta\")}</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<a href={discord_url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t<img className=\"discord\" src=\"img/buttons/discord.png\" alt=\"Join our Discord server.\" title=\"Join our Discord server.\"/>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<p>{LocalizationService.getMisc(\"broken_link\")} <span className=\"discord-link\">{discord_url}</span></p>\r\n\r\n\t\t\t\t\t<h3>GitHub</h3>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{LocalizationService.getMisc(\"github_cta\")}<br/>\r\n\t\t\t\t\t\t<a href={github_url} target=\"_blank\" rel=\"noopener noreferrer\">{github_url}</a>\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<h3>Credits</h3>\r\n\t\t\t\t\t<p id=\"credits\">\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li><strong>Bona</strong> - Portuguese translation</li>\r\n\t\t\t\t\t\t\t<li><strong>ShadyWhite</strong> - Chinese translation</li>\r\n\t\t\t\t\t\t\t<li><strong>Gusma</strong> - Portuguese translation</li>\r\n\t\t\t\t\t\t\t<li><strong>The_X</strong> - Portuguese translation</li>\r\n\t\t\t\t\t\t\t<li><strong>okuRaku</strong> <SocialLink name=\"okurakuu\" type=\"twitter\"/><SocialLink name=\"okuraku\" type=\"twitch\"/> - Japanese translation</li>\r\n\t\t\t\t\t\t\t<li><strong>Astriel</strong> - German translation</li>\r\n\t\t\t\t\t\t\t<li><strong>Claud</strong> - Spanish translation</li>\r\n\t\t\t\t\t\t\t<li><strong>Okâme</strong> - French translation</li>\r\n\t\t\t\t\t\t\t<li><strong>Tsunari96</strong> - Tsunari96#8491 (Discord) - Korean translation</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</Container>\r\n\t\t\t\t<Container fluid className=\"section-container\">\r\n\t\t\t\t\t<h2>{LocalizationService.getMisc(\"changelog\")}</h2>\r\n\t\t\t\t\t<p>{LocalizationService.getMisc(\"changelog_info\")}</p>\r\n\t\t\t\t\t<p>{reactStringReplace(changelog_cta, changelog_link_match, () => changelog_link)}</p>\r\n\r\n\t\t\t\t\t<h3>{LocalizationService.getMisc(\"latest_changes\")}</h3>\r\n\t\t\t\t\t{state.changelog}\r\n\t\t\t\t</Container>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default About;","import React from \"react\";\r\nimport { Container } from \"semantic-ui-react\";\r\nimport $ from \"jquery\";\r\nimport shuffle from \"lodash.shuffle\";\r\n\r\nimport LocalizationService from \"../../services/LocalizationService\";\r\n\r\nconst reactStringReplace = require(\"react-string-replace\");\r\n\r\nclass Streamers extends React.Component {\r\n\trender() {\r\n\t\tlet streamers      = this.props.streamers || {};\r\n\t\tlet streamer_names = shuffle(Object.keys(streamers));\r\n\t\tlet streamer_boxes = [];\r\n\t\tlet discord_url    = process.env.REACT_APP_DISCORD_URL;\r\n\t\tlet author_url     = process.env.REACT_APP_AUTHOR_URL;\r\n\r\n\t\tfor (let streamer_name of streamer_names) {\r\n\t\t\tlet thumbnail = streamers[streamer_name];\r\n\r\n\t\t\tthumbnail = thumbnail\r\n\t\t\t\t.replace(\"{width}\", \"1920\")\r\n\t\t\t\t.replace(\"{height}\", \"1080\");\r\n\r\n\t\t\tstreamer_boxes.push(\r\n\t\t\t\t<div className=\"row\" key={streamer_name}>\r\n\t\t\t\t\t<a href={\"https://twitch.tv/\" + streamer_name} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t<span className=\"name\">{streamer_name}</span>\r\n\t\t\t\t\t\t<img src={thumbnail} alt={streamer_name}/>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tlet discord_link = <span key=\"discord-link\" className=\"discord-link\">{discord_url}</span>;\r\n\t\tlet author_link  = <span key=\"author-link\" className=\"author-link\">{author_url}</span>;\r\n\t\tlet offline_text = (this.props.type === \"offline\")\r\n\t\t\t? <p className=\"offline\">Looks like no one is live. Check out some Ember Overlay users below and follow them to receive notifications when they are live!</p>\r\n\t\t\t: \"\";\r\n\t\tlet long_cta     = LocalizationService.getMisc(\"streamer_long_cta\");\r\n\r\n\t\tlong_cta = reactStringReplace(long_cta, \"{{discord_link}}\", () => discord_link);\r\n\t\tlong_cta = reactStringReplace(long_cta, \"{{twitch_link}}\", () => author_link);\r\n\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Container fluid className=\"section-container\">\r\n\t\t\t\t\t<h2>{LocalizationService.getMisc(\"streamers\")}</h2>\r\n\t\t\t\t\t<p>{LocalizationService.getMisc(\"streamer_info\")}</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<a href=\"/\" className=\"info-link\" onClick={this.toggleInfoDiv}>{LocalizationService.getMisc(\"streamer_short_cta\")}</a>\r\n\t\t\t\t\t\t<span className=\"info-span\" style={{ display: \"none\" }}>{long_cta}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t{offline_text}\r\n\t\t\t\t\t<div id=\"streamers\">\r\n\t\t\t\t\t\t{streamer_boxes}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Container>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\r\n\ttoggleInfoDiv(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet $link = $(e.target);\r\n\t\tlet $div  = $link.closest(\"p\").find(\".info-span\");\r\n\r\n\t\t$div.slideToggle();\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nexport default Streamers;","import React from \"react\";\r\nimport { Container } from \"semantic-ui-react\";\r\nimport $ from \"jquery\";\r\n\r\nimport DonationService from \"../../services/DonationService\";\r\n\r\nconst querystring = require(\"querystring\");\r\n\r\nclass Donate extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tlet params = new querystring.parse(window.location.search);\r\n\t\tlet type   = params[\"default\"] || params[\"?default\"];\r\n\r\n\t\tthis.state = {\r\n\t\t\ttype : type\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.state.type) {\r\n\t\t\tlet type = this.state.type;\r\n\t\t\tlet $url = $(this.refs[type]);\r\n\r\n\t\t\t$url.focus();\r\n\t\t\tthis.selectText(`donation-${type}`);\r\n\t\t\t$url.focus();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Container fluid className=\"section-container\">\r\n\t\t\t\t\t<h2>Donate</h2>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tCopy one of the following URL's into your regular browser to make a donation. \r\n\t\t\t\t\t\tDonations are extremely appreciated, but this overlay will continue to be developed even without donations. \r\n\t\t\t\t\t\tIf you would like your name to be included in the list of donors, please state this in the donation message. \r\n\t\t\t\t\t\tThank you!\r\n\t\t\t\t\t</p>\r\n\r\n\r\n\t\t\t\t\t<div className=\"donation-link\" data-type=\"cash\" ref=\"cash\" id=\"donation-cash\">{DonationService.getRealDonationLink(\"cash\")}</div>\r\n\t\t\t\t\t<div className=\"donation-link\" data-type=\"paypal\" ref=\"paypal\" id=\"donation-paypal\">{DonationService.getRealDonationLink(\"paypal\")}</div>\r\n\t\t\t\t\t<div className=\"donation-link\" data-type=\"kofi\" ref=\"kofi\" id=\"donation-kofi\">{DonationService.getRealDonationLink(\"kofi\")}</div>\r\n\t\t\t\t\t<div className=\"donation-link\" data-type=\"patreon\" ref=\"patreon\" id=\"donation-patreon\">{DonationService.getRealDonationLink(\"patreon\")}</div>\r\n\t\t\t\t\t<div className=\"donation-link\" data-type=\"streamlabs\" ref=\"streamlabs\" id=\"donation-streamlabs\">{DonationService.getRealDonationLink(\"streamlabs\")}</div>\r\n\r\n\t\t\t\t\t<h2>Donors</h2>\r\n\t\t\t\t\t<p>Amneamnius, Vulasuw</p>\r\n\t\t\t\t</Container>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\r\n\tselectText(id) {\r\n\t\tlet element = document.getElementById(id);\r\n\r\n\t\tlet range;\r\n\r\n\t\tif (window.getSelection && document.createRange) {\r\n\t\t\tlet selection = window.getSelection();\r\n\r\n\t\t\trange = document.createRange();\r\n\r\n\t\t\trange.selectNodeContents(element);\r\n\t\t\tselection.removeAllRanges();\r\n\t\t\tselection.addRange(range);\r\n\t\t} else if (document.body.createTextRange) {\r\n\t\t\trange = document.body.createTextRange();\r\n\r\n\t\t\trange.moveToElementText(element);\r\n\t\t\trange.select();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Donate;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { HashRouter as Router, Route, Redirect, NavLink } from \"react-router-dom\";\r\nimport { Grid, Menu } from \"semantic-ui-react\";\r\n\r\nimport LocalizationService from \"../services/LocalizationService\";\r\nimport SettingsSchema from \"../constants/SettingsSchema\";\r\nimport TwitchAPIService from \"../services/TwitchAPIService\";\r\n\r\nimport Screen from \"./Settings/Screen\";\r\nimport Export from \"./Settings/Export\";\r\nimport About from \"./Settings/About\";\r\nimport Streamers from \"./Settings/Streamers\";\r\nimport Donate from \"./Settings/Donate\";\r\n\r\nimport \"./../styles/components/settings/settings-theme.less\";\r\n\r\nclass Settings extends React.Component {\r\n\tcomponentWillMount() {\r\n\t\tTwitchAPIService.getLiveStreamers()\r\n\t\t\t.then((data) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tstream_type : data.type,\r\n\t\t\t\t\tstreamers   : data.streamers\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\r\n\t\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet base_url           = this.props.match.url;\r\n\t\tlet nav_links          = [];\r\n\t\tlet routes             = [];\r\n\t\tlet streamers          = (this.state && this.state.streamers) ? this.state.streamers : {};\r\n\t\tlet stream_type        = (this.state && this.state.stream_type) ? this.state.stream_type : \"offline\";\r\n\t\tlet streamer_count     = (streamers) ? Object.keys(streamers).length : 0;\r\n\t\tlet streamer_base_text = (streamer_count && stream_type === \"live\")\r\n\t\t\t? LocalizationService.getMisc((streamer_count > 1) ? \"streamers_live\" : \"streamer_live\")\r\n\t\t\t: LocalizationService.getMisc(\"streamers\");\r\n\t\tlet streamer_text      = streamer_base_text.replace(\"{{number}}\", streamer_count);\r\n\r\n\t\tfor (let section of SettingsSchema.sections) {\r\n\t\t\tlet section_path = section.path;\r\n\t\t\tlet path         = `${base_url}/${section_path}`;\r\n\t\t\tlet title        = LocalizationService.getSettingsSectionText(section_path);\r\n\r\n\t\t\tnav_links.push(\r\n\t\t\t\t<NavLink to={path} className=\"item\" key={section_path}>{title}</NavLink>\r\n\t\t\t);\r\n\r\n\t\t\troutes.push(\r\n\t\t\t\t<Route path={path} key={path} render={() => <Screen sections={section.sections} path={section_path}/>}/>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Grid celled id=\"settings-container\">\r\n\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t<Grid.Column width={3} id=\"settings-sidebar\">\r\n\t\t\t\t\t\t\t\t<Menu vertical id=\"settings-menu\">\r\n\t\t\t\t\t\t\t\t\t{nav_links}\r\n\t\t\t\t\t\t\t\t\t<NavLink to={base_url + \"/export\"} className=\"item\">{LocalizationService.getSettingsSectionText(\"export\")}</NavLink>\r\n\t\t\t\t\t\t\t\t\t<NavLink to={base_url + \"/about\"} className=\"item\">{LocalizationService.getSettingsSectionText(\"about\")}</NavLink>\r\n\t\t\t\t\t\t\t\t\t<NavLink to={base_url + \"/streamers\"} className=\"streamers item\">{streamer_text}</NavLink>\r\n\t\t\t\t\t\t\t\t\t<NavLink to={base_url + \"/donate\"} className=\"item\">Donate</NavLink>\r\n\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t\t<Grid.Column width={13} id=\"settings-screen\">\r\n\t\t\t\t\t\t\t\t<Route exact path={base_url} render={() => (\r\n\t\t\t\t\t\t\t\t\t<Redirect to={base_url + \"/about\"}/>\r\n\t\t\t\t\t\t\t\t)}/>\r\n\t\t\t\t\t\t\t\t{routes}\r\n\t\t\t\t\t\t\t\t<Route path={base_url + \"/export\"} component={Export}/>\r\n\t\t\t\t\t\t\t\t<Route path={base_url + \"/about\"} component={About}/>\r\n\t\t\t\t\t\t\t\t<Route path={base_url + \"/streamers\"} render={() => <Streamers streamers={streamers} type={stream_type}/>}/>\r\n\t\t\t\t\t\t\t\t<Route path={base_url + \"/donate\"} component={Donate}/>\r\n\t\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Router>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tlanguage : state.settings.interface.language\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps)(Settings);","const Migrations = [\r\n\t\"01-convert-binary-short-name-setting\",\r\n\t\"02-store-settings-in-overlayplugin\"\r\n];\r\n\r\nexport default Migrations;","import store from \"../redux/store/index\";\r\nimport localForage from \"localforage\";\r\n\r\nimport Migrations from \"../constants/Migrations\";\r\n\r\nclass MigrationService {\r\n\tmigrate() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlocalForage.getItem(\"migration_history\")\r\n\t\t\t\t.then((history) => {\r\n\t\t\t\t\tif (history) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\thistory = JSON.parse(history);\r\n\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!history) {\r\n\t\t\t\t\t\thistory = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.history = history;\r\n\r\n\t\t\t\t\tlet promise = Migrations.reduce(\r\n\t\t\t\t\t\t(last_promise, migration_name) => {\r\n\t\t\t\t\t\t\treturn last_promise.then(() => {\r\n\t\t\t\t\t\t\t\tthis.executeMigration(migration_name);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tPromise.resolve()\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tpromise.then(() => {\r\n\t\t\t\t\t\tstore\r\n\t\t\t\t\t\t\t.getState()\r\n\t\t\t\t\t\t\t.settings_data\r\n\t\t\t\t\t\t\t.saveSettings(true)\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\tlocalForage\r\n\t\t\t\t\t\t\t\t\t.setItem(\"migration_history\", JSON.stringify(history))\r\n\t\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\texecuteMigration(migration_name) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (this.history.indexOf(migration_name) !== -1) {\r\n\t\t\t\tresolve();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet migration = require(`../migrations/${migration_name}.js`);\r\n\r\n\t\t\tmigration\r\n\t\t\t\t.default\r\n\t\t\t\t.migrate()\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.history.push(migration_name);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default new MigrationService();","// React\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter as Router, Route } from \"react-router-dom\";\r\nimport localForage from \"localforage\";\r\n\r\n// Redux\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\n\r\n// Styles\r\nimport \"semantic-ui-less/semantic.less\";\r\nimport \"./index.css\";\r\n\r\n// Other React\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\n// Custom\r\nimport Parser from \"./components/Parser\";\r\nimport Settings from \"./components/Settings\";\r\nimport MigrationService from \"./services/MigrationService\";\r\n\r\n// localForage.setItem(\"settings_cache\", \"{\\\"intrinsic\\\":{\\\"table_type\\\":\\\"raid\\\",\\\"collapsed\\\":false,\\\"current_version\\\":\\\"0.22.0-alpha\\\",\\\"last_version\\\":\\\"0.21.0-alpha\\\",\\\"player_blur\\\":false},\\\"interface\\\":{\\\"player_name\\\":\\\"YOU\\\",\\\"opacity\\\":100,\\\"zoom\\\":110,\\\"top_right_rank\\\":false,\\\"blur_job_icons\\\":false,\\\"collapse_down\\\":false,\\\"light_theme\\\":false,\\\"minimal_theme\\\":false,\\\"footer_when_collapsed\\\":false,\\\"footer_dps\\\":true,\\\"decimal_accuracy\\\":2,\\\"shorten_thousands\\\":true,\\\"language\\\":\\\"en\\\",\\\"auto_hide\\\":true,\\\"auto_hide_delay\\\":199},\\\"custom\\\":{\\\"css\\\":\\\"\\\",\\\"metric_names\\\":{}},\\\"table_settings\\\":{\\\"general\\\":{\\\"table\\\":{\\\"short_names\\\":\\\"no_short\\\",\\\"footer_at_top\\\":false,\\\"percent_bars\\\":false,\\\"prioritize_party\\\":false},\\\"raid\\\":{\\\"short_names\\\":\\\"no_short\\\",\\\"percent_bars\\\":false,\\\"prioritize_party\\\":false}},\\\"dps\\\":{\\\"show_footer\\\":true},\\\"heal\\\":{\\\"show_footer\\\":true},\\\"tank\\\":{\\\"show_footer\\\":true}},\\\"table_columns\\\":{\\\"dps\\\":[\\\"damage%\\\",\\\"encdps\\\",\\\"crithit%\\\",\\\"DirectHitPct\\\",\\\"CritDirectHitPct\\\",\\\"deaths\\\"],\\\"heal\\\":[\\\"healed%\\\",\\\"effective_heal_pct\\\",\\\"enchps\\\",\\\"effective_hps\\\",\\\"OverHealPct\\\",\\\"critheal%\\\"],\\\"tank\\\":[\\\"damage_taken_pct\\\",\\\"enctps\\\",\\\"damagetaken\\\",\\\"healstaken\\\",\\\"BlockPct\\\",\\\"deaths\\\"],\\\"raid\\\":{\\\"dps\\\":[\\\"encdps\\\",\\\"enchps\\\"],\\\"heal\\\":[\\\"enchps\\\",\\\"encdps\\\"],\\\"tank\\\":[\\\"encdps\\\",\\\"enchps\\\"]}},\\\"sort_columns\\\":{\\\"dps\\\":\\\"damage\\\",\\\"heal\\\":\\\"healed\\\",\\\"tank\\\":\\\"damagetaken\\\",\\\"raid\\\":\\\"damage\\\"},\\\"detail_data\\\":{\\\"dps\\\":[\\\"damage%\\\",\\\"encdps\\\",\\\"damage\\\",\\\"crithit%\\\",\\\"DirectHitPct\\\",\\\"CritDirectHitPct\\\",\\\"max_hit_format\\\"],\\\"heal\\\":[\\\"healed%\\\",\\\"effective_heal_pct\\\",\\\"enchps\\\",\\\"effective_hps\\\",\\\"healed\\\",\\\"OverHealPct\\\",\\\"critheal%\\\",\\\"max_heal_format\\\"],\\\"tank\\\":[\\\"damage_taken_pct\\\",\\\"damagetaken\\\",\\\"enctps\\\",\\\"healstaken\\\",\\\"BlockPct\\\",\\\"deaths\\\"]}}\");\r\n\r\nconsole.info(`Welcome and thank you for using Ember Overlay! Join the Discord at ${process.env.REACT_APP_DISCORD_URL}. GitHub is located at ${process.env.REACT_APP_GITHUB_URL}.`);\r\n\r\nlet state = store.getState();\r\n\r\nstate\r\n\t.settings_data\r\n\t.loadSettings()\r\n\t.then((settings_result) => {\r\n\t\tMigrationService\r\n\t\t\t.migrate()\r\n\t\t\t.then(() => {\r\n\t\t\t\tstate\r\n\t\t\t\t\t.settings_data\r\n\t\t\t\t\t.restoreFromOverlayPluginIfNecessary(settings_result.used_default)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tReactDOM.render(\r\n\t\t\t\t\t\t\t<Router basename={process.env.REACT_APP_ROUTER_BASE}>\r\n\t\t\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/\" component={Parser}/>\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/settings\" component={Settings}/>\r\n\t\t\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t\t\t</Router>,\r\n\t\t\t\t\t\t\tdocument.getElementById(\"root\")\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t})\r\n\t.catch((e) => {\r\n\r\n\t});\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();","export const OverlayLocales = require(\"../data/locales/overlay.json\");\r\nexport const SettingsLocales = require(\"../data/locales/settings.json\");","import Constants from \"../constants/index\";\r\nimport { OverlayLocales, SettingsLocales } from \"../constants/Locales\";\r\nimport store from \"../redux/store/index\";\r\n\r\nclass LocalizationService {\r\n\tgetLanguage() {\r\n\t\treturn store.getState().settings.interface.language;\r\n\t}\r\n\r\n\tgetPlayerDataTitle(key, type, ignore_custom) {\r\n\t\tlet custom = (ignore_custom) ? {} : store.getState().settings.custom.metric_names;\r\n\r\n\t\tif (!ignore_custom && custom[key] && custom[key][type]) {\r\n\t\t\treturn custom[key][type];\r\n\t\t}\r\n\r\n\t\tlet title = Constants.PlayerDataTitles[key];\r\n\r\n\t\ttitle = title[this.getLanguage()] || title.en;\r\n\r\n\t\treturn title[type];\r\n\t}\r\n\r\n\tgetPlayerDataTitles(include_null, ignore_custom) {\r\n\t\tlet custom   = (ignore_custom) ? {} : store.getState().settings.custom.metric_names;\r\n\t\tlet language = this.getLanguage();\r\n\t\tlet options  = [];\r\n\r\n\t\tif (include_null) {\r\n\t\t\toptions.push({\r\n\t\t\t\tkey   : \"\",\r\n\t\t\t\tvalue : \"\",\r\n\t\t\t\ttext  : \"\"\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfor (let data_key in Constants.PlayerDataTitles) {\r\n\t\t\tlet data   = Constants.PlayerDataTitles[data_key];\r\n\t\t\tlet option = {\r\n\t\t\t\tkey   : data_key,\r\n\t\t\t\tvalue : data_key,\r\n\t\t\t\ttext  : \"\"\r\n\t\t\t};\r\n\r\n\t\t\tif (!ignore_custom && custom[data_key] && custom[data_key].long) {\r\n\t\t\t\toption.text = custom[data_key].long\r\n\t\t\t} else {\r\n\t\t\t\toption.text = (data[language]) ? data[language].long : data.en.long;\r\n\t\t\t}\r\n\r\n\t\t\toptions.push(option);\r\n\t\t}\r\n\r\n\t\treturn options;\r\n\t}\r\n\r\n\tgetMonsterDataTitle(key, type) {\r\n\t\tlet title = Constants.MonsterDataTitles[key];\r\n\r\n\t\ttitle = title[this.getLanguage()] || title.en;\r\n\r\n\t\treturn title[type];\r\n\t}\r\n\r\n\tgetOverlayText(key, language) {\r\n\t\tif (!language) {\r\n\t\t\tlanguage = this.getLanguage();\r\n\t\t}\r\n\r\n\t\treturn OverlayLocales[key][language] || OverlayLocales[key].en;\r\n\t}\r\n\r\n\tgetSettingsSectionText(section) {\r\n\t\treturn SettingsLocales.sections[section].title[this.getLanguage()] || SettingsLocales.sections[section].title.en;\r\n\t}\r\n\r\n\tgetSettingsSubsectionText(section, index) {\r\n\t\treturn SettingsLocales.sections[section].subsections[index][this.getLanguage()] || SettingsLocales.sections[section].subsections[index].en; \r\n\t}\r\n\r\n\tgetSettingText(key_path) {\r\n\t\treturn SettingsLocales.setting_labels[key_path][this.getLanguage()] || SettingsLocales.setting_labels[key_path].en;\r\n\t}\r\n\r\n\tgetPlayerShortNameOptions() {\r\n\t\tlet language = this.getLanguage();\r\n\t\tlet data_set = SettingsLocales.misc.short_name_options[language] || SettingsLocales.misc.short_name_options.en;\r\n\t\t\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tkey   : \"no_short\",\r\n\t\t\t\tvalue : \"no_short\",\r\n\t\t\t\ttext  : data_set.no_short\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey   : \"short_first\",\r\n\t\t\t\tvalue : \"short_first\",\r\n\t\t\t\ttext  : data_set.short_first\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey   : \"short_last\",\r\n\t\t\t\tvalue : \"short_last\",\r\n\t\t\t\ttext  : data_set.short_last\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey   : \"short_both\",\r\n\t\t\t\tvalue : \"short_both\",\r\n\t\t\t\ttext  : data_set.short_both\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\tgetMisc(key) {\r\n\t\tlet language = this.getLanguage();\r\n\r\n\t\treturn SettingsLocales.misc[key][language] || SettingsLocales.misc[key].en;\r\n\t}\r\n}\r\n\r\nexport default new LocalizationService();"],"sourceRoot":""}