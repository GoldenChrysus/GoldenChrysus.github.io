(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{203:function(e,t,a){e.exports=a(364)},216:function(e,t,a){},217:function(e,t,a){},351:function(e,t,a){},364:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(41),s=a.n(r),l=a(64),o=a(46),c=a(25),u=a(72),h=a(170),p=a.n(h),m=a(8),d=a(9),g={Encounter:{n:"\n",t:"\t",title:"The Griffin",duration:"23:50",DURATION:"1430",damage:"5691852","damage-m":"5.69","damage-*":"5.69M","DAMAGE-k":"5692","DAMAGE-m":"6","DAMAGE-b":"0","DAMAGE-*":"5691K",dps:"3980.32","dps-*":"dps-*",DPS:"3980","DPS-k":"4","DPS-m":"DPS-m","DPS-*":"3980",encdps:"3980.32","encdps-*":"3.98K",ENCDPS:"3980","ENCDPS-k":"4","ENCDPS-m":"0","ENCDPS-*":"3980",hits:"3490",crithits:"515","crithit%":"0%",misses:"16",hitfailed:"1",swings:"3507",tohit:"99.49",TOHIT:"99",maxhit:"Limit Break-Bladedance-78037",MAXHIT:"Limit Break-78037","maxhit-*":"Limit Break-Bladedance-78.04K","MAXHIT-*":"Limit Break-78K",healed:"2086425",enchps:"1459.04","enchps-*":"1.46K",ENCHPS:"1459","ENCHPS-k":"1","ENCHPS-m":"0","ENCHPS-*":"1459",heals:"718",critheals:"515","critheal%":"0%",cures:"0",maxheal:"White Mage Person-Afflatus Solace-14025",MAXHEAL:"White Mage Person-14025",maxhealward:"White Mage Person-Afflatus Solace-14025",MAXHEALWARD:"White Mage Person-14025","maxheal-*":"White Mage Person-Afflatus Solace-14.03K","MAXHEAL-*":"White Mage Person-14K","maxhealward-*":"White Mage Person-Afflatus Solace-14.03K","MAXHEALWARD-*":"White Mage Person-14K",damagetaken:"1903672","damagetaken-*":"1.90M",healstaken:"2233252","healstaken-*":"2.23M",powerdrain:"0","powerdrain-*":"0",powerheal:"86500","powerheal-*":"86.50K",kills:"109",deaths:"0",CurrentZoneName:"Baelsar's Wall",Last10DPS:"12160",Last30DPS:"7161",Last60DPS:"5360"},Combatant:{YOU:{n:"\n",t:"\t",name:"YOU",duration:"23:49",DURATION:"1429",damage:"2769837","damage-m":"2.77","damage-b":"0.00","damage-*":"2.77M","DAMAGE-k":"2770","DAMAGE-m":"3","DAMAGE-b":"0","DAMAGE-*":"2769K","damage%":"48%",dps:"1938.30","dps-*":"1.94K",DPS:"1938","DPS-k":"2","DPS-m":"0","DPS-*":"1938",encdps:"1936.95","encdps-*":"1.94K",ENCDPS:"1937","ENCDPS-k":"2","ENCDPS-m":"0","ENCDPS-*":"1936",hits:"1130",crithits:"200","crithit%":"18%",crittypes:"0.0%L - 0.0%F - 0.0%M",misses:"7",hitfailed:"0",swings:"1137",tohit:"99.38",TOHIT:"99",maxhit:"Double Standard Finish-21767",MAXHIT:"21767","maxhit-*":"Double Standard Finish-21.77K","MAXHIT-*":"21K",healed:"40839","healed%":"1%",enchps:"28.56","enchps-*":"28",ENCHPS:"29","ENCHPS-k":"0","ENCHPS-m":"0","ENCHPS-*":"28",critheals:"1","critheal%":"4%",heals:"23",cures:"0",maxheal:"Curing Waltz-2738",MAXHEAL:"2738",maxhealward:"Curing Waltz-2738",MAXHEALWARD:"2738","maxheal-*":"Curing Waltz-2.74K","MAXHEAL-*":"2.74K","maxhealward-*":"Curing Waltz-2.74K","MAXHEALWARD-*":"2.74K",damagetaken:"369135","damagetaken-*":"369.14K",healstaken:"377504","healstaken-*":"377.50K",powerdrain:"0","powerdrain-*":"0",powerheal:"0","powerheal-*":"0",kills:"60",deaths:"0",threatstr:"+(0)0/-(0)0",threatdelta:"0",Last10DPS:"0",Last30DPS:"0",Last60DPS:"0",Job:"Dnc",ParryPct:"100%",BlockPct:"0%",IncToHit:"98.99",OverHealPct:"21%",DirectHitPct:"30%",DirectHitCount:"340",CritDirectHitCount:"69",CritDirectHitPct:"6%"},"Paladin Bro":{n:"\n",t:"\t",name:"Paladin Bro",duration:"23:46",DURATION:"1426",damage:"1471587","damage-m":"1.47","damage-b":"0.00","damage-*":"1.47M","DAMAGE-k":"1472","DAMAGE-m":"1","DAMAGE-b":"0","DAMAGE-*":"1471K","damage%":"25%",dps:"1031.97","dps-*":"1.03K",DPS:"1032","DPS-k":"1","DPS-m":"0","DPS-*":"1031",encdps:"1029.08","encdps-*":"1.03K",ENCDPS:"1029","ENCDPS-k":"1","ENCDPS-m":"0","ENCDPS-*":"1029",hits:"1675",crithits:"210","crithit%":"13%",crittypes:"0.0%L - 0.0%F - 0.0%M",misses:"5",hitfailed:"0",swings:"1680",tohit:"99.70",TOHIT:"100",maxhit:"Royal Authority-7167",MAXHIT:"7167","maxhit-*":"Royal Authority-7.17K","MAXHIT-*":"7167",healed:"61134","healed%":"2%",enchps:"42.75","enchps-*":"42",ENCHPS:"43","ENCHPS-k":"0","ENCHPS-m":"0","ENCHPS-*":"42",critheals:"0","critheal%":"0%",heals:"10",cures:"0",maxheal:"Clemency-8208",MAXHEAL:"8208",maxhealward:"Clemency-8208",MAXHEALWARD:"8208","maxheal-*":"Clemency-8.21K","MAXHEAL-*":"8.21K","maxhealward-*":"Clemency-8.21K","MAXHEALWARD-*":"8.21K",damagetaken:"1042264","damagetaken-*":"1.04M",healstaken:"1257080","healstaken-*":"1.26M",powerdrain:"0","powerdrain-*":"0",powerheal:"86500","powerheal-*":"86.50K",kills:"22",deaths:"0",threatstr:"+(0)0/-(0)0",threatdelta:"0",Last10DPS:"0",Last30DPS:"0",Last60DPS:"0",Job:"Pld",ParryPct:"6%",BlockPct:"36%",IncToHit:"99.55",OverHealPct:"10%",DirectHitPct:"14%",DirectHitCount:"241",CritDirectHitCount:"32",CritDirectHitPct:"2%"},"Dragoon Lad":{n:"\n",t:"\t",name:"Dragoon Lad",duration:"23:44",DURATION:"1424",damage:"1167969","damage-m":"1.17","damage-b":"0.00","damage-*":"1.17M","DAMAGE-k":"1168","DAMAGE-m":"1","DAMAGE-b":"0","DAMAGE-*":"1167K","damage%":"20%",dps:"820.20","dps-*":"820",DPS:"820","DPS-k":"1","DPS-m":"0","DPS-*":"820",encdps:"816.76","encdps-*":"816",ENCDPS:"817","ENCDPS-k":"1","ENCDPS-m":"0","ENCDPS-*":"816",hits:"578",crithits:"94","crithit%":"16%",crittypes:"0.0%L - 0.0%F - 0.0%M",misses:"4",hitfailed:"0",swings:"582",tohit:"99.31",TOHIT:"99",maxhit:"Full Thrust-8282",MAXHIT:"8282","maxhit-*":"Full Thrust-8.28K","MAXHIT-*":"8282",healed:"621","healed%":"0%",enchps:"0.43","enchps-*":"0",ENCHPS:"0","ENCHPS-k":"0","ENCHPS-m":"0","ENCHPS-*":"0",critheals:"0","critheal%":"0%",heals:"1",cures:"0",maxheal:"Life Surge-621",MAXHEAL:"621",maxhealward:"Life Surge-621",MAXHEALWARD:"621","maxheal-*":"Life Surge-621","MAXHEAL-*":"621","maxhealward-*":"Life Surge-621","MAXHEALWARD-*":"621",damagetaken:"310071","damagetaken-*":"310.07K",healstaken:"340616","healstaken-*":"340.62K",powerdrain:"0","powerdrain-*":"0",powerheal:"0","powerheal-*":"0",kills:"23",deaths:"0",threatstr:"+(0)0/-(0)0",threatdelta:"0",Last10DPS:"0",Last30DPS:"0",Last60DPS:"0",Job:"Drg",ParryPct:"0%",BlockPct:"0%",IncToHit:"98.86",OverHealPct:"0%",DirectHitPct:"19%",DirectHitCount:"113",CritDirectHitCount:"12",CritDirectHitPct:"2%"},"White Mage Person":{n:"\n",t:"\t",name:"White Mage Person",duration:"23:41",DURATION:"1421",damage:"204422","damage-m":"0.20","damage-b":"0.00","damage-*":"204.42K","DAMAGE-k":"204","DAMAGE-m":"0","DAMAGE-b":"0","DAMAGE-*":"204K","damage%":"3%",dps:"143.86","dps-*":"143",DPS:"144","DPS-k":"0","DPS-m":"0","DPS-*":"143",encdps:"142.95","encdps-*":"142",ENCDPS:"143","ENCDPS-k":"0","ENCDPS-m":"0","ENCDPS-*":"142",hits:"106",crithits:"11","crithit%":"10%",crittypes:"0.0%L - 0.0%F - 0.0%M",misses:"0",hitfailed:"1",swings:"107",tohit:"99.07",TOHIT:"99",maxhit:"Stone III-4509",MAXHIT:"4509","maxhit-*":"Stone III-4.51K","MAXHIT-*":"4509",healed:"1983831","healed%":"95%",enchps:"1387.29","enchps-*":"1.39K",ENCHPS:"1387","ENCHPS-k":"1","ENCHPS-m":"0","ENCHPS-*":"1387",critheals:"69","critheal%":"10%",heals:"684",cures:"0",maxheal:"Afflatus Solace-14025",MAXHEAL:"14025",maxhealward:"Afflatus Solace-14025",MAXHEALWARD:"14025","maxheal-*":"Afflatus Solace-14.03K","MAXHEAL-*":"14.03K","maxhealward-*":"Afflatus Solace-14.03K","MAXHEALWARD-*":"14.03K",damagetaken:"182202","damagetaken-*":"182.20K",healstaken:"258052","healstaken-*":"258.05K",powerdrain:"0","powerdrain-*":"0",powerheal:"0","powerheal-*":"0",kills:"4",deaths:"0",threatstr:"+(0)0/-(0)0",threatdelta:"0",Last10DPS:"0",Last30DPS:"0",Last60DPS:"0",Job:"Whm",ParryPct:"60%",BlockPct:"0%",IncToHit:"95.24",OverHealPct:"31%",DirectHitPct:"0%",DirectHitCount:"0",CritDirectHitCount:"0",CritDirectHitPct:"0%"},"Limit Break":{n:"\n",t:"\t",name:"Limit Break",duration:"00:00",DURATION:"0",damage:"78037","damage-m":"0.08","damage-b":"0.00","damage-*":"78.04K","DAMAGE-k":"78","DAMAGE-m":"0","DAMAGE-b":"0","DAMAGE-*":"78K","damage%":"1%",dps:"\u221e","dps-*":"---",DPS:"\u221e","DPS-k":"\u221e","DPS-m":"\u221e","DPS-*":"---",encdps:"54.57","encdps-*":"54",ENCDPS:"55","ENCDPS-k":"0","ENCDPS-m":"0","ENCDPS-*":"54",hits:"1",crithits:"0","crithit%":"0%",crittypes:"-",misses:"0",hitfailed:"0",swings:"1",tohit:"100.00",TOHIT:"100",maxhit:"Bladedance-78037",MAXHIT:"78037","maxhit-*":"Bladedance-78.04K","MAXHIT-*":"78K",healed:"0","healed%":"0%",enchps:"0.00","enchps-*":"0",ENCHPS:"0","ENCHPS-k":"0","ENCHPS-m":"0","ENCHPS-*":"0",critheals:"0","critheal%":"0%",heals:"0",cures:"0",maxheal:"",MAXHEAL:"",maxhealward:"",MAXHEALWARD:"","maxheal-*":"","MAXHEAL-*":"","maxhealward-*":"","MAXHEALWARD-*":"",damagetaken:"0","damagetaken-*":"0",healstaken:"0","healstaken-*":"0",powerdrain:"0","powerdrain-*":"0",powerheal:"0","powerheal-*":"0",kills:"0",deaths:"0",threatstr:"+(0)0/-(0)0",threatdelta:"0",NAME3:"Lim",NAME4:"Limi",NAME5:"Limit",NAME6:"Limit",NAME7:"Limit B",NAME8:"Limit Br",NAME9:"Limit Bre",NAME10:"Limit Brea",NAME11:"Limit Break",NAME12:"Limit Break",NAME13:"Limit Break",NAME14:"Limit Break",NAME15:"Limit Break",Last10DPS:"---",Last30DPS:"---",Last60DPS:"---",Job:"",ParryPct:"0%",BlockPct:"0%",IncToHit:"---",OverHealPct:"0%",DirectHitPct:"0%",DirectHitCount:"0",CritDirectHitCount:"0",CritDirectHitPct:"0%"}},isActive:"false"};function f(e){return{type:"parseGameData",key:"internal.game",payload:e}}function y(e){return{type:"setSetting",key:e.key,payload:e.value,source:e.source}}function v(e){return{type:"changeViewing",key:"internal.viewing",source:"parser",payload:e}}function k(e){return{type:"updateState",key:e.key,payload:e.value}}var b=a(125),E=a.n(b),D=a(171),S=a.n(D),P=new(function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"getByKeyPath",value:function(e,t){return"string"===typeof t?this.getByKeyPath(e,t.split(".")):1===t.length?e[t[0]]:(e[t[0]]||(e[t[0]]={}),this.getByKeyPath(e[t[0]],t.slice(1)))}},{key:"setByKeyPath",value:function(e,t,a){return"string"===typeof t?this.setByKeyPath(e,t.split("."),a):1===t.length?e[t[0]]=a:(e[t[0]]||(e[t[0]]={}),this.setByKeyPath(e[t[0]],t.slice(1),a))}}]),e}()),_={intrinsic:{table_type:"dps",collapsed:!1,current_version:null,last_version:null},interface:{opacity:100,top_right_rank:!1},custom:{css:""},table_settings:{dps:{show_footer:!0},heal:{show_footer:!0},tank:{show_footer:!0}},table_columns:{dps:["damage%","encdps","crithit%","DirectHitPct","CritDirectHitPct"],heal:["healed%","effective_heal_pct","enchps","effective_hps","OverHealPct","critheal%"],tank:["damage_taken_pct","damagetaken","healstaken","BlockPct","deaths"],raid:{dps:["encdps","enchps"],heal:["enchps","encdps"],tank:["encdps","enchps"]}},sum_columns:{dps:["encdps"],heal:["enchps"],tank:["damagetaken","healstaken","deaths"]},sort_columns:{dps:"damage",heal:"healed",tank:"damagetaken",raid:"damage"},detail_data:{dps:["damage%","encdps","damage","crithit%","DirectHitPct","CritDirectHitPct","max_hit_format"],heal:["healed%","effective_heal_pct","enchps","effective_hps","healed","OverHealPct","critheal%","max_heal_format"],tank:["damage_taken_pct","damagetaken","healstaken","BlockPct","deaths"]}},C=new(function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"loadSettings",value:function(){var e=this;return new Promise(function(t,a){E.a.getItem("settings_cache").then(function(a){var n=!1,i=Object.assign({},_);try{n=JSON.parse(a)}catch(r){}n=n?S()(i,n):i,e.settings=n,x.dispatch(k({key:"settings",value:e.settings})),t()}).catch(function(e){a()})})}},{key:"saveSettings",value:function(){var e=this;if(window.parser)return new Promise(function(t,a){E.a.setItem("settings_cache",JSON.stringify(e.settings||_)).then(function(){t()}).catch(function(e){a()})})}},{key:"getSetting",value:function(e){return this.settings[e]||_[e]}},{key:"setSetting",value:function(e,t,a){P.setByKeyPath(this.settings,e,t),a||this.saveSettings()}}]),e}()),A=function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"processMessage",value:function(e){var t;try{t=JSON.parse(e.data)}catch(e){}if("object"===typeof t){var a=t.msgtype;if(-1!==["SendCharName","CombatData"].indexOf(a))switch(a){case"CombatData":var n=t.msg;x.dispatch(f(n));break;case"SendCharName":var i={key:"internal.character_name",value:t.msg.charName};x.dispatch(k(i))}}}}]),e}(),w=a(212),O={socket_service:new(function(){function e(t){Object(m.a)(this,e),this.message_processor=new A,this.uri=t||this.processUri()}return Object(d.a)(e,[{key:"processUri",value:function(){var e=new w.parse(window.location.search)["?HOST_PORT"];return!!e&&(-1===(e=e.replace(/\/$/,"")).indexOf("MiniParse")&&(e+="/MiniParse"),e)}},{key:"initialize",value:function(){this.uri&&(this.socket=new WebSocket(this.uri),this.socket.onmessage=this.message_processor.processMessage,this.socket.onclose=this.reconnect.bind(this),this.socket.onopen=this.setId.bind(this))}},{key:"reconnect",value:function(){this.initialize()}},{key:"setId",value:function(){var e=Math.random().toString(36).substring(7);this.id=e,this.send("set_id",void 0,void 0,void 0,e)}},{key:"splitEncounter",value:function(){this.send("overlayAPI",this.id,"RequestEnd")}},{key:"send",value:function(e,t,a,n,i){if(this.socket&&1===this.socket.readyState){var r={type:e,to:t,msgtype:a,msg:n,id:i};this.socket.send(JSON.stringify(r))}}}]),e}()),settings_data:C,internal:{viewing:"tables",character_name:"YOU",rank:"N/A",game:{},detail_player:{},overlayplugin:!!window.OverlayPluginApi,new_version:!1},settings:{}};var H=function(e,t){e||(e=O);var a=!1,n=t.key;return"setSetting"===t.type&&(e.settings_data.setSetting(t.key,t.payload),n="settings.".concat(t.key)),n&&(a=p()(e),P.setByKeyPath(a,n,t.payload)),Object.assign({},a||e)},N=a(172),M="redux-local-tab-sync";var j=Object(u.a)(N.a,function(){return function(e){return function(t){var a=function(e){return{action:e,time:Date.now()}}(t);window.parser||localStorage.setItem(M,JSON.stringify(a)),e(t)}}}),L=Object(u.c)(H,j);window.addEventListener("storage",function(e){return function(){var t=JSON.parse(localStorage.getItem(M)),a=!1;switch(t.action.type){case"setSetting":a=!0;break;case"updateState":a="internal.new_version"===t.action.key;break;default:a=!1}!a||!window.parser||"screen-component"!==t.action.source&&t.action.source||e.dispatch(t.action)}}(L));var x=L;a(215),a(216),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=a(18),K=a(17),B=a(19),G=(a(217),a(47)),I=a(22),W=a.n(I),X=function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"togglePlaceholders",value:function(){var e=W()(document).find("#container"),t=this;W()(document).find(".placeholder").each(function(){var e=!W()(this).hasClass(t.props.type);W()(this).toggleClass("hidden",e)}),e.toggleClass("hidden",!0)}},{key:"render",value:function(){return i.a.createElement("div",{className:"toggle "+this.props.type,onClick:this.togglePlaceholders.bind(this)})}}]),t}(i.a.Component),R=(i.a.Component,function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"splitEncounter",value:function(){window.OverlayPluginApi.endEncounter()}}]),e}()),U=function(){function e(){Object(m.a)(this,e),this.socket_service=x.getState().socket_service}return Object(d.a)(e,[{key:"splitEncounter",value:function(){this.socket_service.splitEncounter()}}]),e}(),V=function(){function e(){Object(m.a)(this,e);var t=x.getState().internal.overlayplugin;this.plugin_service=t?new R:new U}return Object(d.a)(e,[{key:"splitEncounter",value:function(){this.plugin_service.splitEncounter()}}]),e}(),F=function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=new V;return i.a.createElement(G.a,{id:"right-click-menu",className:"container-context-menu"},i.a.createElement("div",{className:"item-group"},function(){var t=e.props.collapsed?"Uncollapse":"Collapse",a={state:!e.props.collapsed};return i.a.createElement(G.c,{data:a,onClick:e.changeCollapse.bind(e)},t)}(),i.a.createElement(G.c,{onClick:this.loadSampleGameData.bind(this)},"Load Sample Data"),i.a.createElement(G.c,{onClick:this.clearGameData.bind(this)},"Clear Encounter Data"),i.a.createElement(G.c,{onClick:t.splitEncounter.bind(t)},"Split Encounter")))}},{key:"changeCollapse",value:function(e,t){this.props.changeCollapse(t.state)}},{key:"loadSampleGameData",value:function(){this.props.loadSampleGameData()}},{key:"clearGameData",value:function(){this.props.clearGameData()}}]),t}(i.a.Component),J=Object(c.b)(function(e){return{collapsed:e.settings.intrinsic.collapsed,overlayplugin:e.internal.overlayplugin}},function(e){return{changeCollapse:function(t){e({type:"setSetting",key:"intrinsic.collapsed",source:"parser",payload:t})},loadSampleGameData:function(){e(f(g))},clearGameData:function(){e(f({}))}}})(F),z=function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.active?"active":"inactive",t=this.props.show_rank?"":"hidden";return i.a.createElement("div",{id:"game-state"},i.a.createElement("span",{className:e},this.props.state),i.a.createElement("span",{className:t},"Rank: ",this.props.rank))}}]),t}(i.a.Component),Y={GameJobs:{ARC:{role:"dps"},GLA:{role:"tank"},LNC:{role:"dps"},MRD:{role:"tank"},PGL:{role:"dps"},ACN:{role:"dps"},CNJ:{role:"heal"},THM:{role:"dps"},ROG:{role:"dps"},BRD:{role:"dps"},DRG:{role:"dps"},MNK:{role:"dps"},PLD:{role:"tank"},WAR:{role:"tank"},BLM:{role:"dps"},WHM:{role:"heal"},SCH:{role:"heal"},SMN:{role:"dps"},NIN:{role:"dps"},AST:{role:"heal"},DRK:{role:"tank"},MCH:{role:"dps"},RDM:{role:"dps"},SAM:{role:"dps"},BLU:{role:"dps"},GNB:{role:"tank"},DNC:{role:"dps"}},PlayerDataCustomValues:{"healed%":function(e){var t=e["healed%"];return"--"===t&&(t="0%"),t},effective_heal_pct:function(e,t){var a=0,n=0,i=!0,r=!1,s=void 0;try{for(var l,o=t[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var c=l.value,u=1-+c.OverHealPct.replace("%","")/100,h=+c.healed*u;a+=h,c.name===e.name&&(n=h)}}catch(p){r=!0,s=p}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}return(100*(a?n/a:0)).toFixed(0)+"%"},effective_hps:function(e){var t=1-+e.OverHealPct.replace("%","")/100;return+e.enchps*t},damage_taken_pct:function(e,t){var a=0,n=0,i=!0,r=!1,s=void 0;try{for(var l,o=t[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var c=l.value;a+=+c.damagetaken,c.name===e.name&&(n=+c.damagetaken)}}catch(u){r=!0,s=u}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}return(100*(a?n/a:0)).toFixed(0)+"%"},max_heal_format:function(e){if(!e.maxheal)return"N/A";var t=e.maxheal.split("-");return t[1]=(+t[1]).toLocaleString(),t.join(" - ")},max_hit_format:function(e){if(!e.maxhit)return"N/A";var t=e.maxhit.split("-");return t[1]=(+t[1]).toLocaleString(),t.join(" - ")}},PlayerDataTitles:{BlockPct:{short:"Blk %",long:"Block %"},CritDirectHitPct:{short:"CH DH %",long:"Critical Direct Hit %"},"critheal%":{short:"CH %",long:"Critical Heal %"},"crithit%":{short:"CH %",long:"Critical Hit %"},damage:{short:"Dmg",long:"Damage"},"damage%":{short:"Dmg %",long:"Damage %"},damage_taken_pct:{short:"Dmg %",long:"Damage Taken %"},damagetaken:{short:"Dmg",long:"Damage Taken"},deaths:{short:"Death",long:"Deaths"},DirectHitPct:{short:"DH %",long:"Direct Hit %"},effective_heal_pct:{short:"Ef H %",long:"Effective Heal %"},effective_hps:{short:"Ef HPS",long:"Effective Heal Per Second"},encdps:{short:"DPS",long:"Damage Per Second"},enchps:{short:"HPS",long:"Heal Per Second"},healed:{short:"Heal",long:"Total Heal"},"healed%":{short:"Heal %",long:"Heal %"},healstaken:{short:"Heals",long:"Heals Received"},max_heal_format:{short:"Mx Heal",long:"Max Heal"},max_hit_format:{short:"Mx Hit",long:"Max Hit"},OverHealPct:{short:"Ovr %",long:"Overheal %"}},PlayerMetricTypeData:{dps:["CritDirectHitPct","crithit%","damage","damage%","DirectHitPct","encdps","max_hit_format"],heal:["critheal%","effective_heal_pct","effective_hps","enchps","healed","healed%","max_heal_format","OverHealPct"],tank:["BlockPct","damage_taken_pct","damagetaken","deaths","healstaken"]}},$=function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"getDataValue",value:function(e,t,a){var n=Y.PlayerDataCustomValues[e],i=n?n(t,a):t[e];return"name"===e&&"YOU"===i&&(i=x.getState().internal.character_name),isNaN(i)||(i=(+i).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),i}},{key:"sortPlayers",value:function(e,t){var a=[],n=this;for(var i in e)a.push(e[i]);return a=a.sort(function(e,a){var i=+e[t].replace("%",""),r=+a[t].replace("%","");return i>r?-1:r>i?1:e.Job&&a.Job?n.getDataValue("name",e).localeCompare(n.getDataValue("name",a)):e.job?-1:1})}}]),e}(),q=function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=new $,t=this.props.player,a="YOU"===t.name?"active":"other",n=t.Job.toUpperCase()||"LMB",r="raid"===this.props.type,s=[],l=this.props.columns;if(r){var o=Y.GameJobs[n];l=l[o?o.role:"dps"]}var c=!0,u=!1,h=void 0;try{for(var p,m=l[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var d=p.value,g=e.getDataValue(d,t,this.props.players),f=r?Y.PlayerDataTitles[d].short+": ":"";s.push(i.a.createElement("div",{className:"column",key:d},i.a.createElement("span",null,f),g))}}catch(k){u=!0,h=k}finally{try{c||null==m.return||m.return()}finally{if(u)throw h}}var y=i.a.createElement("div",{className:"column",key:"player-data-icon"},i.a.createElement("img",{src:"img/icons/jobs/"+n+".png",alt:n+" icon"})),v=i.a.createElement("div",{className:"column",key:"player-data-name"},e.getDataValue("name",t));return i.a.createElement("div",{className:"row player "+a,onClick:this.props.onClick},r?i.a.createElement("div",{className:"player-data"},y,v):[y,v],r?i.a.createElement("div",{className:"stat-data"},s):s)}}]),t}(i.a.Component),Z=function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=[],t=[],a=[],n=0,r=0,s=!1,l=this.props.type,o="raid"===l,c=this.props.collapsed,u=new $,h=this.props.players?u.sortPlayers(this.props.players,this.props.sort_columns[l]):[];if(!o){var p=!0,m=!1,d=void 0;try{for(var g,f=this.props.table_columns[l][Symbol.iterator]();!(p=(g=f.next()).done);p=!0){var y=g.value,v=Y.PlayerDataTitles[y].short;e.push(i.a.createElement("div",{className:"column",key:y},v)),-1!==this.props.sum_columns[l].indexOf(y)?t.push(i.a.createElement("div",{className:"column",key:y},(+this.props.encounter[y]||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))):t.push(i.a.createElement("div",{className:"column",key:y}))}}catch(N){m=!0,d=N}finally{try{p||null==f.return||f.return()}finally{if(m)throw d}}}var k,b,E,D=!0,S=!1,P=void 0;try{for(var _,C=h[Symbol.iterator]();!(D=(_=C.next()).done);D=!0){var A=_.value;if(""!==A.Job||"Limit Break"===A.name){var w=!1;s||r++,n++,"YOU"===A.name&&(s=!0,w=!0),c&&!w||a.push(i.a.createElement(q,{key:A.name,player:A,players:h,columns:this.props.table_columns[l],type:this.props.type,onClick:this.changeViewing.bind(this,"player",A)}))}}}catch(N){S=!0,P=N}finally{try{D||null==C.return||C.return()}finally{if(S)throw P}}var O=0===r?"N/A":"".concat(r,"/").concat(n);if(O!==this.props.rank){var H={key:"internal.rank",value:O};this.props.updateState(H)}return o?E="grid":(k=i.a.createElement("div",{className:"row header"},i.a.createElement("div",{className:"column"}),i.a.createElement("div",{className:"column"},"Name"),e),this.props.table_settings[l].show_footer&&(b=i.a.createElement("div",{className:"row footer"},i.a.createElement("div",{className:"column"}),i.a.createElement("div",{className:"column"},O),t))),i.a.createElement("div",{id:"player-table",className:E},k,a,b)}},{key:"changeViewing",value:function(e,t){this.props.changeViewing(e),this.props.changeDetailPlayer(t)}}]),t}(i.a.Component),Q=Object(c.b)(function(e){return{table_columns:e.settings.table_columns,sort_columns:e.settings.sort_columns,sum_columns:e.settings.sum_columns,collapsed:e.settings.intrinsic.collapsed,table_settings:e.settings.table_settings,rank:e.internal.rank}},function(e){return{changeViewing:function(t){e(v(t))},changeDetailPlayer:function(t){e({type:"changeDetailPlayer",key:"internal.detail_player",payload:t})},updateState:function(t){e(k(t))}}})(Z),ee=function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=new $,t=this.props.player,a=[],n=t.Job.toUpperCase()||"LMB",r=this.props.detail_data,s=[];for(var l in this.props.players)a.push(this.props.players[l]);for(var o in r){var c=r[o],u=[],h=!0,p=!1,m=void 0;try{for(var d,g=c[Symbol.iterator]();!(h=(d=g.next()).done);h=!0){var f=d.value,y=Y.PlayerDataTitles[f].long,v=e.getDataValue(f,t,a);u.push(i.a.createElement("div",{className:"column",key:f},i.a.createElement("div",{className:"title",key:f+"-title"},y),i.a.createElement("div",{className:"value",key:f+"-value"},v)))}}catch(k){p=!0,m=k}finally{try{h||null==g.return||g.return()}finally{if(p)throw m}}s.push(i.a.createElement("div",{className:"split",key:o+"-split"})),s.push(i.a.createElement("div",{className:"section",key:o},i.a.createElement("div",{className:"title",key:o+"-title"},o),i.a.createElement("div",{className:"data",key:o+"-data"},u)))}return i.a.createElement("div",{id:"player-detail"},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"job"},i.a.createElement("img",{src:"img/icons/jobs/"+n+".png",alt:n+" icon"})),i.a.createElement("div",{className:"name"},e.getDataValue("name",t))),s)}}]),t}(i.a.Component),te=Object(c.b)(function(e){return{detail_data:e.settings.detail_data}})(ee),ae=a(65),ne=function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.viewing,t=this.props.table_type,a=this,n=new V;return i.a.createElement("div",{id:"footer"},function(){if("tables"===e){var n={dps:"DPS",heal:"Heal",tank:"Tank",raid:"24"},r=[];for(var s in n){var l=n[s],o=t===s?"active":"";r.push(i.a.createElement("div",{className:"role-link "+o,onClick:a.changeTableType.bind(a,s),key:"navigation-link-"+s},l))}return i.a.createElement("div",{id:"role-links"},r)}if("player"===e)return i.a.createElement("div",{id:"navigation-links"},i.a.createElement("span",{className:"navigation-link",onClick:a.changeViewing.bind(a,"tables"),key:"navigation-link-back"},"\u2039 Back"))}(),i.a.createElement("div",{id:"footer-actions"},function(){var e=[],t=a.props.new_version?"notice":"";return e.push(i.a.createElement("div",{className:"icon-container "+t,key:"icon-container-settings"},i.a.createElement(ae.a,{name:"cog",alt:"Settings",title:"Settings",key:"settings",onClick:a.openSettingsWindow}))),e.push(i.a.createElement("div",{className:"icon-container",key:"icon-container-split-encounter"},i.a.createElement(ae.a,{name:"cut",alt:"Split encounter",title:"Split encounter",onClick:n.splitEncounter.bind(n),key:"split-encounter"}))),e}()))}},{key:"openSettingsWindow",value:function(){window.open("#/settings","","width=600,height=400,location=no,menubar=no")}},{key:"changeTableType",value:function(e){this.props.changeTableType(e)}},{key:"changeViewing",value:function(e){this.props.changeViewing(e)}}]),t}(i.a.Component),ie=Object(c.b)(function(e){return{table_type:e.settings.intrinsic.table_type,viewing:e.internal.viewing,overlayplugin:e.internal.overlayplugin,new_version:e.internal.new_version}},function(e){return{changeTableType:function(t){e({type:"setSetting",key:"intrinsic.table_type",source:"parser",payload:t})},changeViewing:function(t){e(v(t))}}})(ne),re=function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"togglePlaceholders",value:function(){var e=W()(document).find("#container"),t=e.hasClass("hidden");W()(document).find(".placeholder").each(function(){W()(this).toggleClass("hidden",t)}),e.toggleClass("hidden",!t)}},{key:"render",value:function(){return i.a.createElement("div",{className:"placeholder "+this.props.type+" hidden",onClick:this.togglePlaceholders.bind(this)},i.a.createElement("div",{className:"inner"},i.a.createElement("img",{src:"img/icons/placeholder.png",alt:"Minimized button"})))}}]),t}(i.a.Component),se=function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("onOverlayStateUpdate",this.toggleHandle.bind(this)),document.addEventListener("onOverlayDataUpdate",this.parseData.bind(this)),this.props.socket_service.initialize()}},{key:"render",value:function(){var e,t=this.props.internal.game.Encounter||{},a=!0===this.props.internal.game.isActive,n=t.title?"".concat(t.title," - ").concat(t.CurrentZoneName," - ").concat(t.duration):"Awaiting encounter data...",r=this.props.internal.viewing;"tables"===r?e=i.a.createElement(Q,{players:this.props.internal.game.Combatant,encounter:t,type:this.props.settings.intrinsic.table_type}):"player"===r&&(e=i.a.createElement(te,{player:this.props.internal.detail_player,players:this.props.internal.game.Combatant,encounter:t}));var s=[];return this.props.settings.intrinsic.collapsed&&"tables"===r||(s=[i.a.createElement("div",{className:"split",key:"above-footer-split"}),i.a.createElement(ie,{key:"parser-footer"})]),i.a.createElement(i.a.Fragment,null,i.a.createElement(G.b,{id:"right-click-menu"},i.a.createElement("div",{id:"container"},i.a.createElement(X,{type:"left"}),i.a.createElement(X,{type:"right"}),i.a.createElement("div",{id:"inner"},void 0,i.a.createElement(z,{state:n,active:a,rank:this.props.internal.rank,show_rank:this.props.settings.interface.top_right_rank}),i.a.createElement("div",{id:"content"},e),s))),i.a.createElement(re,{type:"left"}),i.a.createElement(re,{type:"right"}),i.a.createElement(J,null))}},{key:"parseData",value:function(e){this.props.parseGameData(e.detail)}},{key:"toggleHandle",value:function(e){e.detail.isLocked?document.getElementsByTagName("body")[0].classList.remove("resizeHandle"):document.getElementsByTagName("body")[0].classList.add("resizeHandle")}}]),t}(i.a.Component),le=Object(c.b)(function(e){return e},function(e){return{parseGameData:function(t){e(f(t))}}})(se),oe=a(177),ce=a.n(oe),ue=a(99),he=a.n(ue),pe=new(function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"getSystemVersion",value:function(){return"0.5.0-alpha"}},{key:"getLastUserVersion",value:function(){return x.getState().settings.intrinsic.last_version||"0.0.0"}},{key:"getCurrentUserVersion",value:function(){return x.getState().settings.intrinsic.current_version||"0.0.0"}},{key:"determineIfNewer",value:function(){var e=this.getSystemVersion(),t=this.getCurrentUserVersion(),a=x.getState().settings_data;if(!he.a.compare(e,t,">"))return!1;a.setSetting("intrinsic.current_version",e,!0);var n={key:"intrinsic.last_version",value:t};x.dispatch(y(n));return x.dispatch(k({key:"internal.new_version",value:!0})),!0}},{key:"getChangelogForUser",value:function(){var e=this;return new Promise(function(t,a){var n="No changes since your last visit.",i=e.getLastUserVersion();he.a.compare(e.getSystemVersion(),i,">")?e.parseChangelog().then(function(e){var a={Features:[],"UI Changes":[],"Bug Fixes":[]};for(var r in e.versions){var s=e.versions[r],l=s.version;if(he.a.compare(l,i,"<="))break;for(var o in s.parsed)a[o]&&(a[o]=a[o].concat(s.parsed[o]))}var c=!1;for(var u in a)a[u]=a[u].filter(function(e){return-1===["N/A","?"].indexOf(e)}),c||(c=a[u].length>0);t(c?a:n)}).catch(function(e){a()}):t(n)})}},{key:"parseChangelog",value:function(){return new Promise(function(e,t){W.a.get("/logs/CHANGELOG.md").done(function(a){ce()({text:a}).then(function(t){e(t)}).catch(function(e){t()})})})}}]),e}()),me=function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){window.parser=!0,pe.determineIfNewer()}},{key:"render",value:function(){var e=this.props.collapsed&&"tables"===this.props.viewing?"auto-height":"",t=this.props.opacity/100,a="\n\t\t\t#container {\n\t\t\t\topacity: ".concat(t,";\n\t\t\t}\n\t\t");return i.a.createElement(i.a.Fragment,null,i.a.createElement("style",{type:"text/css"},a,this.props.css),i.a.createElement("div",{id:"root-inner",className:e},i.a.createElement(le,null)))}}]),t}(i.a.Component),de=Object(c.b)(function(e){return{collapsed:e.settings.intrinsic.collapsed,viewing:e.internal.viewing,css:e.settings.custom.css||"",opacity:e.settings.interface.opacity}})(me),ge=a(378),fe=a(376),ye=[];for(var ve in Y.PlayerDataTitles){var ke=Y.PlayerDataTitles[ve];ye.push({key:ve,value:ve,text:ke.long})}var be={sections:[{title:"Interface",path:"interface",sections:[{title:"General",settings:[{key_path:"interface.opacity",label:"Overlay Opacity",type:"slider",range:"min",minimum:0,maximum:100,value:function(){return this.props.settings.interface.opacity}},{key_path:"interface.top_right_rank",label:"Display Rank in Top Right",type:"checkbox",value:function(){return this.props.settings.interface.top_right_rank}}]}]},{title:"Player Table",path:"player-table",sections:[{title:"DPS",settings:[{key_path:"table_columns.dps",label:"Table Columns",type:"select",multiple:!0,search:!0,options:ye,value:function(){return this.props.settings.table_columns.dps}},{key_path:"sort_columns.dps",label:"Default Sort Column",type:"select",multiple:!1,search:!0,options:ye,value:function(){return this.props.settings.sort_columns.dps}},{key_path:"table_settings.dps.show_footer",label:"Show Footer",type:"checkbox",value:function(){return this.props.settings.table_settings.dps.show_footer}}]},{title:"Heal",settings:[{key_path:"table_columns.heal",label:"Table Columns",type:"select",multiple:!0,search:!0,options:ye,value:function(){return this.props.settings.table_columns.heal}},{key_path:"sort_columns.heal",label:"Default Sort Column",type:"select",multiple:!1,search:!0,options:ye,value:function(){return this.props.settings.sort_columns.heal}},{key_path:"table_settings.heal.show_footer",label:"Show Footer",type:"checkbox",value:function(){return this.props.settings.table_settings.heal.show_footer}}]},{title:"Tank",settings:[{key_path:"table_columns.tank",label:"Table Columns",type:"select",multiple:!0,search:!0,options:ye,value:function(){return this.props.settings.table_columns.tank}},{key_path:"sort_columns.tank",label:"Default Sort Column",type:"select",multiple:!1,search:!0,options:ye,value:function(){return this.props.settings.sort_columns.tank}},{key_path:"table_settings.tank.show_footer",label:"Show Footer",type:"checkbox",value:function(){return this.props.settings.table_settings.tank.show_footer}}]}]},{title:"Player Detail",path:"player-detail",sections:[{title:"DPS",settings:[{key_path:"detail_data.dps",label:"Player Metrics",type:"select",multiple:!0,search:!0,options:ye,value:function(){return this.props.settings.detail_data.dps}}]},{title:"Heal",settings:[{key_path:"detail_data.heal",label:"Player Metrics",type:"select",multiple:!0,search:!0,options:ye,value:function(){return this.props.settings.detail_data.heal}}]},{title:"Tank",settings:[{key_path:"detail_data.tank",label:"Player Metrics",type:"select",multiple:!0,search:!0,options:ye,value:function(){return this.props.settings.detail_data.tank}}]}]},{title:"Raid View",path:"raid-view",sections:[{title:"General",settings:[{key_path:"sort_columns.raid",label:"Default Sort Metric",type:"select",multiple:!1,search:!0,options:ye,value:function(){return this.props.settings.sort_columns.raid}}]},{title:"DPS",settings:[{key_path:"table_columns.raid.dps",label:"Metrics",type:"select",multiple:!0,search:!0,options:ye,value:function(){return this.props.settings.table_columns.raid.dps}}]},{title:"Heal",settings:[{key_path:"table_columns.raid.heal",label:"Metrics",type:"select",multiple:!0,search:!0,options:ye,value:function(){return this.props.settings.table_columns.raid.heal}}]},{title:"Tank",settings:[{key_path:"table_columns.raid.tank",label:"Metrics",type:"select",multiple:!0,search:!0,options:ye,value:function(){return this.props.settings.table_columns.raid.tank}}]}]},{title:"Custom CSS",path:"custom-css",sections:[{title:"Custom CSS",settings:[{key_path:"custom.css",label:"User-provided CSS is at your own risk.",type:"textarea",value:function(){return this.props.settings.custom.css}}]}]}]},Ee=a(374),De=a(375),Se=a(377),Pe=a(371),_e=a(372),Ce=a(373),Ae=a(379),we=(a(306),a(310),a(311),function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.$elem=W()(this.refs.slider),this.$elem.slider({range:this.props.range,min:this.props.minimum,max:this.props.maximum,value:this.props.value,slide:function(t,a){var n={key_path:e.props.key_path,value:a.value};e.props.onChange(t,n)}})}},{key:"componentWillUnmount",value:function(){this.$elem.slider("destroy")}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return i.a.createElement("div",{ref:"slider"})}}]),t}(i.a.Component)),Oe=function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,s=this.props.data.settings[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var l=r.value,o=void 0,c=l.label?i.a.createElement("label",null,l.label):"",u="function"===typeof l.value?l.value.call(this):l.value;switch(l.type){case"select":u||(u=[]),o=i.a.createElement(Pe.a,{fluid:!0,labeled:!0,multiple:l.multiple||!1,search:l.search||!1,options:l.options,defaultValue:u,key_path:l.key_path,onChange:this.props.changeCallback});break;case"textarea":o=i.a.createElement(_e.a,{defaultValue:u,key_path:l.key_path,rows:20,onChange:this.props.changeCallback});break;case"checkbox":o=i.a.createElement(Ce.a,{toggle:!0,label:c,defaultChecked:u,key_path:l.key_path,onChange:this.props.changeCallback}),c="";break;case"slider":var h=l.range||"min",p=l.minimum||0,m=l.maximum||100;o=i.a.createElement(we,{range:h,minimum:p,maximum:m,key_path:l.key_path,value:u,onChange:this.props.changeCallback})}e.push(i.a.createElement(De.a.Field,{inline:!0,key:l.key_path},c,o))}}catch(d){a=!0,n=d}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ae.a,{as:"h2"},this.props.data.title),i.a.createElement("div",null,e))}}]),t}(i.a.Component),He=function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.setState({saving:!1})}},{key:"render",value:function(){var e=[],t=this.state.saving?"loading":"";for(var a in this.props.sections){var n=this.props.sections[a];e.push(i.a.createElement(Ee.a,{fluid:!0,key:n.title,className:"section-container"},i.a.createElement(Oe,{data:n,settings:this.props.settings,changeCallback:this.handleChange.bind(this)})))}return i.a.createElement(De.a,null,i.a.createElement(Se.a,{floated:"right",className:"save "+t,onClick:this.handleSave.bind(this)},"Save"),i.a.createElement("div",{className:"clear"}),e)}},{key:"handleChange",value:function(e,t){this.state.saving=!0;var a=t.key_path,n=t.value||t.checked;this.props.new_settings[a]=n}},{key:"handleSave",value:function(){var e=this;for(var t in this.setState({saving:!0}),this.props.new_settings)this.props.updateSetting({key:t,value:this.props.new_settings[t],source:"screen-component"});setTimeout(function(){e.setState({saving:!1})},400)}}]),t}(i.a.Component),Ne=Object(c.b)(function(e){return{settings:e.settings,new_settings:{}}},function(e){return{updateSetting:function(t){e(y(t))}}})(He),Me=function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({changelog:i.a.createElement("p",null,"Loading changelog...")}),pe.getChangelogForUser().then(function(t){var a=[];if("string"===typeof t)a=i.a.createElement("p",null,t);else{var n=function(e){var n=0,r=t[e].map(function(t){return n++,i.a.createElement("li",{key:e+"-"+n},t)}),s=i.a.createElement("ul",null,r);a.push(i.a.createElement(Ee.a,{fluid:!0,className:"changelog-section",key:e+"-section"},i.a.createElement("h4",null,e),s))};for(var r in t)n(r)}e.setState({changelog:a})}).catch(function(e){console.log(e)});this.props.updateState({key:"internal.new_version",value:!1})}},{key:"render",value:function(){var e="https://github.com/GoldenChrysus/ffxiv-ember-overlay",t=this.state||{};return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ee.a,{fluid:!0,className:"section-container"},i.a.createElement("h2",null,"EMBER OVERLAY"),i.a.createElement("p",null,"Developed by GoldenChrysus."),i.a.createElement("h3",null,"Discord"),i.a.createElement("p",null,"Join the Discord to receive live updates from the developer, submit feature suggestions, get help with a bug or issue, or discuss FFXIV in general with other users."),i.a.createElement("p",null,i.a.createElement("a",{href:"https://discord.gg/XCKkxby",target:"_blank",rel:"noopener noreferrer"},i.a.createElement("img",{className:"discord",src:"img/buttons/discord.png",alt:"Join our Discord server.",title:"Join our Discord server."}))),i.a.createElement("p",null,"Link not working? Copy this link and paste it into your regular Web browser: ",i.a.createElement("span",{className:"discord-link"},"https://discord.gg/XCKkxby")),i.a.createElement("h3",null,"GitHub"),i.a.createElement("p",null,"See the latest code, changelog, and readme information GitHub. You can also submit bug reports or feature requests.",i.a.createElement("br",null),i.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e))),i.a.createElement(Ee.a,{fluid:!0,className:"section-container"},i.a.createElement("h2",null,"Changelog"),i.a.createElement("p",null,"The changelog listed here will show all the changes that have been made (if any) in the current version compared against the last version you used."),i.a.createElement("p",null,"You can always see the latest changes and read the more detailed official changelog ",i.a.createElement("a",{href:"https://github.com/GoldenChrysus/ffxiv-ember-overlay/blob/bleeding-edge/CHANGELOG.md#changelog",target:"_blank",rel:"noopener noreferrer"},"here.")),i.a.createElement("h3",null,"Latest Changes"),t.changelog))}}]),t}(i.a.Component),je=Object(c.b)(null,function(e){return{updateState:function(t){e(k(t))}}})(Me),Le=(a(351),function(e){function t(){return Object(m.a)(this,t),Object(T.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.match.url,t=[],a=[],n=!0,r=!1,s=void 0;try{for(var c,u=function(){var n=c.value,r="".concat(e,"/").concat(n.path);t.push(i.a.createElement(l.b,{to:r,className:"item",key:n.path},n.title)),a.push(i.a.createElement(o.b,{path:r,key:r,render:function(){return i.a.createElement(Ne,{sections:n.sections})}}))},h=be.sections[Symbol.iterator]();!(n=(c=h.next()).done);n=!0)u()}catch(p){r=!0,s=p}finally{try{n||null==h.return||h.return()}finally{if(r)throw s}}return i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,null,i.a.createElement(ge.a,{celled:!0,id:"settings-container"},i.a.createElement(ge.a.Row,null,i.a.createElement(ge.a.Column,{width:3,id:"settings-sidebar"},i.a.createElement(fe.a,{vertical:!0,id:"settings-menu"},t,i.a.createElement(l.b,{to:e+"/about",className:"item"},"About"))),i.a.createElement(ge.a.Column,{width:13,id:"settings-screen"},i.a.createElement(o.b,{exact:!0,path:e,render:function(){return i.a.createElement(o.a,{to:e+"/about"})}}),a,i.a.createElement(o.b,{path:e+"/about",component:je}))))))}}]),t}(i.a.Component));x.getState().settings_data.loadSettings().then(function(){s.a.render(i.a.createElement(l.a,{basename:""},i.a.createElement(c.a,{store:x},i.a.createElement(o.b,{exact:!0,path:"/",component:de}),i.a.createElement(o.b,{path:"/settings",component:Le}))),document.getElementById("root"))}).catch(function(e){}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[203,1,2]]]);
//# sourceMappingURL=main.3d0f11d4.chunk.js.map